{
  "date" : "2021-08-31",
  "keywords" :[ "ไฟล์ xbe", "รูปแบบไฟล์ xbe", "ไฟล์ xbe คืออะไร", "ไฟล์", "ตัวอย่าง xbe", "นามสกุลไฟล์ xbe", "นามสกุล", "รูปแบบ" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description":"เรียนรู้เกี่ยวกับรูปแบบไฟล์ XBE และ API ที่สามารถสร้างและเปิดไฟล์ XBE",
  "title" :"XBE - ไฟล์แพคเกจแอปพลิเคชัน iOS",
  "linktitle" : "XBE",
  "menu" : {
    "docs" : {
      "parent" : "executable"
}
},
  "lastmod" : "2021-08-31"
}

## ไฟล์ XBE คืออะไร??
ไฟล์ที่มีนามสกุล .xbe เป็นแอปพลิเคชันปฏิบัติการจากแผ่นวิดีโอเกม Xbox ไฟล์ XBE เป็นไฟล์หลักที่ดำเนินการในระบบ Xbox และไม่ควรเปิดบนคอมพิวเตอร์โดยทั่วไป แต่สามารถเปิดบนพีซีโดยใช้โปรแกรมจำลอง Xbox ไฟล์เหล่านี้มักจะสร้างโดยนักพัฒนาเกม จากนั้นจึงลงนามโดย Microsoft โครงสร้างไฟล์คล้ายกับไฟล์ Windows PE แต่มีการเปลี่ยนแปลงที่สำคัญบางอย่างตามการตั้งค่า XBox เพื่อให้รันได้ที่ XBox

## รูปแบบไฟล์ XBE
ไฟล์ XBE ประกอบด้วยส่วนหัวของรูปภาพ คอลเลกชันของส่วนหัวของส่วน ใบรับรอง เธรดข้อมูลที่จัดเก็บในตัวเครื่อง คอลเลกชันของเวอร์ชันไลบรารี บิตแมปของ Microsoft และส่วนที่มีรหัสและทรัพยากร

### ส่วนหัวของรูปภาพ
ส่วนหัวของรูปภาพประกอบด้วยข้อมูลที่อธิบายว่าส่วนประกอบอื่นๆ ของไฟล์เรียกทำงานนั้นอยู่ที่ตำแหน่งใดภายในไฟล์ และวิธีจัดการและโหลดไฟล์ที่รันได้

### ตาราง TLS
ตาราง TLS ประกอบด้วยข้อมูลทั้งหมดที่จำเป็นสำหรับ XBE เพื่อตั้งค่าการจัดเก็บเธรดในเครื่องอย่างเหมาะสม โดยทั่วไปจะไม่ซ้ำกับไดเร็กทอรี TLS ที่พบในไฟล์ PE32 และสามารถคัดลอกได้โดยตรงจากที่นั่น ตารางนี้อาจถูกละเว้น หากไฟล์ XBE ไม่ใช้ที่จัดเก็บแบบเธรดโลคัล และฟิลด์ที่เกี่ยวข้องในส่วนหัวของรูปภาพตั้งค่าเป็นศูนย์

| ออฟเซ็ต | ขนาด | ชื่อ | คำอธิบาย |
--------|--------|--------|------------|
| 0x0000 | 0x0004 | เริ่มต้นข้อมูลดิบ | ที่อยู่สัมบูรณ์ (เช่น ไม่ใช่ RVA) ของการเริ่มต้นข้อมูลตัวแปร TLS ในอิมเมจโปรแกรม |
| 0x0004 | 0x0004 | สิ้นสุดข้อมูลดิบ | ที่อยู่สัมบูรณ์ (เช่น ไม่ใช่ RVA) ของการสิ้นสุดข้อมูลตัวแปร TLS ในอิมเมจโปรแกรม |
| 0x0008 | 0x0004 | ที่อยู่ของดัชนี | ที่อยู่สัมบูรณ์ (เช่น ไม่ใช่ RVA) ของตัวแปรดัชนี TLS |
| 0x000C | 0x0004 | ที่อยู่ของการโทรกลับ | ที่อยู่สัมบูรณ์ (เช่น ไม่ใช่ RVA) ของตารางฟังก์ชันการโทรกลับ TLS ที่สิ้นสุดด้วยค่า null |
| 0x0010 | 0x0004 | ขนาดของการเติมเป็นศูนย์ | จำนวนไบต์ที่ตามหลังข้อมูลดิบที่ควรตั้งค่าเป็นศูนย์ในหน่วยความจำ |
| 0x0014 | 0x0004 | ลักษณะ | อธิบายการจัดตำแหน่ง |

### ใบรับรอง

จำเป็นต้องมีใบรับรองสำหรับไฟล์ปฏิบัติการ Xbox แต่ละรายการที่มีข้อมูลเกี่ยวกับชื่อ:
 


- เวลาและวันที่สร้างใบรับรอง
- ID ชื่อเรื่อง
- ชื่อเรื่อง
- ID ชื่อทางเลือก
- ประเภทของสื่อที่อนุญาตให้เรียกใช้งานได้ (HD, DVD, CD, ฯลฯ )
- ภูมิภาคของเกม
- การจัดอันดับเกม
- หมายเลขดิสก์
- เวอร์ชั่น
- ข้อมูลดิบของคีย์ LAN ที่ใช้สำหรับ System Link
- ข้อมูลดิบของคีย์ลายเซ็น (ใช้เพื่อลงชื่อ savegames)
- ปุ่มลายเซ็นสำรอง
- ขนาดต้นฉบับของใบรับรอง
- ชื่อบริการออนไลน์ (ไม่มีอยู่ในไฟล์เรียกทำงานก่อนหน้า)
- ธงความปลอดภัยรันไทม์ (ไม่มีอยู่ในไฟล์เรียกทำงานก่อนหน้า)
 


### ประเภทสื่อที่อนุญาต
ประเภทสื่อที่อนุญาตให้เรียกใช้จากโปรแกรมเรียกทำงาน ทราบค่าต่อไปนี้:
| ประเภทสื่อ | ค่า |
---------------------|------------|
| HARD_DISK | 0x00000001 |
| DVD_X2 | 0x00000002 |
| DVD_CD | 0x00000004 |
| ซีดี | 0x00000008 |
| DVD_5_RO | 0x00000010 |
| DVD_9_RO | 0x00000020 |
| DVD_5_RW | 0x00000040 |
| DVD_9_RW | 0x00000080 |
| ดองเกิล | 0x00000100 |
| MEDIA_BOARD | 0x00000200 |
| NONSECURE_HARD_DISK | 0x40000000 |
| NONSECURE_MODE | 0x80000000 |
| MEDIA_MASK | 0x00FFFFFF |

### ส่วน
ส่วนต่างๆ แสดงโดยส่วนหัวของส่วน ส่วนหัวของส่วนเริ่มต้นทันทีหลังใบรับรองและมีข้อมูลตำแหน่งจริงในไฟล์ มีอย่างน้อยสองส่วนเสมอในไฟล์ปฏิบัติการ Xbox:


- .ข้อความ


- .rdata


## อ้างอิง



* [Xbe - โปรแกรมปฏิบัติการ XBox](https://xboxdevwiki.net/Xbe)


