{
  "date" : "2021-03-11",
  "keywords" :[ "APNX", "ดัชนีหมายเลขหน้า Amazon", "นามสกุล", "ไฟล์", "รูปแบบ", "eBook", "Amazon Kindle" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description":"เรียนรู้เกี่ยวกับรูปแบบไฟล์ Amazon APNX และ API ที่สามารถสร้างและเปิดไฟล์ APNX",
  "title" :"APNX - ดัชนีหมายเลขหน้าของ Amazon",
  "linktitle" : "APNX",
  "menu" : {
    "docs" : {
      "parent" : "ebook"
}
},
  "lastmod" : "2021-05-28"
}

## ไฟล์ APNX คืออะไร?? ##

ไฟล์ดัชนีหมายเลขหน้าของ Amazon ซึ่งใช้นามสกุล .apnx เป็นประเภทไฟล์ eBook; ใช้โดย Amazon Kindle ไฟล์เหล่านี้เรียกว่าไฟล์เลขหน้าที่ใช้โดยอุปกรณ์ Kindle ดังนั้นไฟล์ APNX จึงถูกสร้างขึ้นเพื่อทำเครื่องหมายหน้า Kindle eBooks คุณลักษณะการแบ่งหน้าเริ่มต้นขึ้นในอุปกรณ์ Amazon Kindle ตั้งแต่เฟิร์มแวร์ 3.1 โดยจะตรวจสอบดัชนีหน้าในไฟล์ APNX จากนั้นจับคู่กับหมายเลขหน้าในหนังสือต้นฉบับ ไฟล์เหล่านี้จะถูกบันทึกลงในอุปกรณ์ Kindle พร้อมกับไฟล์ Amazon eBooks คุณไม่สามารถเปิดหรือแก้ไขไฟล์ APNX

## ข้อมูลจำเพาะรูปแบบไฟล์ APNX ##

### เค้าโครง

|ไบต์| เนื้อหา| ความคิดเห็น|
---|---|---|
|4 |00010001 | ตัวระบุรูปแบบ มูลค่า 65537 จบน้อย|
|4 |เริ่มต้นถัดไป | การชดเชยหลังจากตำแหน่งสิ้นสุดของส่วนหัวแรก เริ่มลำดับใหม่ของข้อมูลส่วนหัว|
|4 |ความยาว| ความยาวของส่วนหัวแรก|
|N |ส่วนหัวแรก | สตริงที่มีส่วนหัวของเนื้อหา มันเริ่มลำดับถัดไป|
|2 |ไม่ทราบ | เสมอ 1|
|2 |ความยาว | ความยาวของส่วนหัวที่สอง|
|2 |จำนวนหน้า | จำนวนไบต์ทั้งหมดหลังจากส่วนหัวที่สองที่แสดงหน้า รวมจำนวนไบต์ที่ pageMap ละเว้น
|2 |ไม่ทราบ | เสมอ 32|
|N |ส่วนหัวที่สอง | สตริงที่มีส่วนหัวของการแมปเพจ|
|4*N |ช่องว่างภายใน | ตัวเลขแรกที่ระบุในส่วนหัวของการแมปเพจระบุจำนวน 0 ไบต์|
|4*N |รายการหน้า ||

### ส่วนหัวของเนื้อหา

ส่วนหัวของเนื้อหาประกอบด้วยสตริงที่อยู่ใน {} ซึ่งมีคู่ของคีย์และค่า:

|เนื้อหา| ความคิดเห็น|
---|---|
|contentGuid| ไกด์.|
|อาซิน | ตัวระบุ Amazon สำหรับหนังสือรุ่น Kindle|
|cdeประเภท | MOBI cdeType ควรเป็น EBOK สำหรับ ebooks เสมอ|
|fileRevisionId | การแก้ไขไฟล์นี้|

#### ตัวอย่าง
```
{"contentGuid":"d8c14b0","asin":"B000JML5VM","cdeType":"EBOK","fileRevisionId":"1296874359405"}
```
### ส่วนหัวของการแมปหน้า
ส่วนหัวของการแมปเพจประกอบด้วยสตริงที่อยู่ใน {} ซึ่งมีคู่คีย์และค่า

|เนื้อหา | ความคิดเห็น|
---|---|
|อาซิน | ISBN 10 สำหรับหนังสือกระดาษที่หน้าสอดคล้องกับ|
|เพจแผนที่| ทูเพิลค่าสามค่า ดูเหมือนว่า: "(N,N,N)\
1) จำนวนไบต์หลังส่วนหัวที่เริ่มต้นลำดับเลขหน้า\
2) ไม่รู้จัก\
3) ไม่รู้จัก\|
#### ตัวอย่าง
```
{"asin":"1906694184","pageMap":"(4,a,1)"}
```

### รายการหน้า

รายการหน้าคือลำดับของการชดเชยใน HTML ดิบ แต่ละ
ค่าเป็นจุดเริ่มต้นของหน้าใหม่ ทุกรายการคือ endian ขนาดใหญ่ 4 ไบต์
นานาชาติ



## อ้างอิง

* [รูปแบบไฟล์ Amazon APNX](https://nachtimwald.com/2011/02/09/amazon-apnx-file-format/)
* [APNX - โดย MobileRead Wiki](https://wiki.mobileread.com/wiki/APNX)

