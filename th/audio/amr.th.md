{
  "date" : "2021-04-29",
  "keywords" :[ "amr", ".amr", "ไฟล์", "นามสกุล", "รูปแบบ", "ไฟล์ amr คืออะไร", "เพลง", "รูปแบบไฟล์ amr", "ไฟล์ amr", "แปลงไฟล์ amr เป็น mp3", "เล่นไฟล์ amr" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description" :"เรียนรู้เกี่ยวกับรูปแบบไฟล์ AMR และ API ที่สามารถสร้าง แปลง และเปิดไฟล์ AMR",
  "title" :"AMR - ไฟล์ตัวแปลงสัญญาณหลายอัตราแบบปรับได้",
  "linktitle" : "AMR",
  "menu" : {
    "docs" : {
      "parent" : "audio"
}
},
  "lastmod" : "2021-04-29"
}

## ไฟล์ AMR คืออะไร??
ไฟล์ที่มีนามสกุล .amr เป็นรูปแบบข้อมูลเสียงที่เกี่ยวข้องกับตัวแปลงสัญญาณเสียง **Adaptive Multi-Rate**; ประกอบด้วยตัวแปลงสัญญาณเสียงแถบความถี่แคบแบบหลายอัตรา ซึ่งเข้ารหัสสัญญาณแถบความถี่แคบที่อัตราบิต 4.75-12.2 กิโลบิต/วินาที โดยมีคุณภาพเสียงพูดเริ่มต้นที่ 7.4 กิโลบิต/วินาที ใช้การปรับลิงค์เพื่อเลือกจากหนึ่งในแปดอัตราบิตที่แตกต่างกันตาม

## รูปแบบไฟล์ AMR
รูปแบบไฟล์ AMR ใช้เทคนิคการเข้ารหัสหลายอย่าง อัลกอริทึม ACELP (Algebraic Code Excited Linear Prediction) เป็นหนึ่งในเทคนิคที่ดีที่สุด ออกแบบมาสำหรับการบีบอัดเสียงพูดของมนุษย์ด้วยวิธีที่มีประสิทธิภาพมากขึ้น AMR ถูกกำหนดให้เป็นตัวแปลงสัญญาณเสียงหรือคำพูดมาตรฐานโดย 3GPP ในปี 1999 รูปแบบไฟล์ AMR ยังใช้เพื่อจัดเก็บเสียงพูดโดยใช้ตัวแปลงสัญญาณเสียง **Adaptive Multi-Rate** ซึ่งสมาร์ทโฟนหลายรุ่นใช้เพื่อจัดเก็บเสียงที่บันทึกไว้ สุนทรพจน์

### โครงสร้างรูปแบบไฟล์
AMR (Adaptive Multi-Rate) เป็นรูปแบบเสียง ใช้กันอย่างแพร่หลายในแอปพลิเคชันและอุปกรณ์เคลื่อนที่ต่างๆ โดยทั่วไปในเครื่องเล่น/เครื่องบันทึกเสียง หรือในแอปพลิเคชันประเภท VoIP AMR สามารถจำแนกได้อีกเป็น:

1. AMR-NB (แถบความถี่แคบ)
2. AMR-WB(ไวด์แบนด์)

โดยปกติแล้ว AMR หมายถึง AMR-NB รูปแบบไฟล์ AMR มีโครงสร้างดังต่อไปนี้:

ไฟล์ AMR แต่ละไฟล์มีส่วนหัว 6 ไบต์ที่จดจำไฟล์เป็นเสียง AMR ส่วนหัวนี้ถูกตั้งค่าเป็น:
- 0x23
- 0x21
- 0x41
- 0x4D
- 0x52
- 0x0A

ซึ่งมักจะเหมือนกันกับไฟล์ AMR-NB ทั้งหมด หากส่วนหัวเป็นไปตามมาตรฐาน เป็นไปได้ว่าไฟล์เสียหายและไม่ควรใช้ ไฟล์ AMR ประกอบด้วยเฟรมเสียงที่อัดแน่นในจำนวนเต็ม เฟรมเหล่านี้แต่ละเฟรมประกอบด้วยเสียง 20 มิลลิวินาที แต่ละเฟรมสามารถเข้ารหัสได้โดยใช้โหมด AMR-NB ที่ถูกต้อง (0-7, 8 SID ในโหมด DTX) เนื่องจากเฟรมสามารถเข้ารหัสด้วยอัตราบิตที่แตกต่างกัน วิธีการทั่วไปนี้เรียกว่า Adaptive Multi-Rate (AMR)
#### โหมด AMR
ต่อไปนี้คือโหมด AMR ต่างๆ และบิตเรตที่เกี่ยวข้อง:

|โหมด| อัตราบิต|
---|---|
|0| AMR 4.75 - เข้ารหัสที่ 4.75kbit/s|
|1 | AMR 5.15 - เข้ารหัสที่ 5.15kbit/s|
|2 | AMR 5.9 - เข้ารหัสที่ 5.9kbit/s|
|3 | AMR 6.7 - เข้ารหัสที่ 6.7kbit/s|
|4 | AMR 7.4 - เข้ารหัสที่ 7.4kbit/s|
|5 | AMR 7.95 - เข้ารหัสที่ 7.95kbit/s|
|6 | AMR 10.2 - เข้ารหัสที่ 10.2kbit/s|
|7 | AMR 12.2 - เข้ารหัสที่ 12.2kbit/s|

ขนาดเฟรมของโหมด AMR เป็นไบต์ (รวมไบต์ส่วนหัว) แสดงไว้ด้านล่าง:

|CMR |MODE |ขนาดเฟรม (เป็นไบต์)|
---|---|---|
|0 |AMR 4.75 |13|
|1 |AMR 5.15 |14|
|2 |AMR 5.9 |16|
|3 |AMR 6.7 |18|
|4 |AMR 7.4 |20|
|5 |AMR 7.95 |21|

## อ้างอิง ##

* [ตัวแปลงสัญญาณเสียงแบบปรับได้หลายอัตรา - โดย Wikipedia](https://en.wikipedia.org/wiki/Adaptive_Multi-Rate_audio_codec)
* [รูปแบบ RTP Payload และรูปแบบการจัดเก็บไฟล์สำหรับตัวแปลงสัญญาณเสียง AMR และ AMR-WB](https://tools.ietf.org/html/rfc4867#page-35)

