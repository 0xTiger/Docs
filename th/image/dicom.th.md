{
  "date" : "2019-10-11",
  "keywords" :[ "ไฟล์ dicom", "รูปแบบไฟล์ dicom", "ไฟล์ dicom คืออะไร", "ไฟล์", "ตัวอย่าง dicom", "นามสกุลไฟล์ dicom", "นามสกุล", "รูปแบบ" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"DICOM - รูปแบบไฟล์ภาพและการสื่อสารดิจิทัล",
  "description":"เรียนรู้เกี่ยวกับรูปแบบไฟล์ DICOM และ API ที่สามารถสร้างและเปิดไฟล์ DICOM",
  "linktitle" : "DICOM",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## ไฟล์ DICOM คืออะไร??

DICOM เป็นตัวย่อของ Digital Imaging and Communications in Medicine และเกี่ยวข้องกับสาขา Medical Informatics DICOM ใช้สำหรับการรวมอุปกรณ์สร้างภาพทางการแพทย์ เช่น เครื่องพิมพ์ เซิร์ฟเวอร์ เครื่องสแกน ฯลฯ จากผู้จำหน่ายต่างๆ และยังมีข้อมูลระบุตัวตนของผู้ป่วยแต่ละรายเพื่อความเป็นเอกลักษณ์ ไฟล์ DICOM สามารถแชร์ระหว่างสองฝ่ายได้หากสามารถรับข้อมูลภาพในรูปแบบ DICOM ได้ ส่วนการสื่อสารของ DICOM เป็นโปรโตคอลเลเยอร์ของแอปพลิเคชัน และใช้ TCP/IP เพื่อสื่อสารระหว่างเอนทิตี เวอร์ชันที่บริการบนเว็บรองรับคือ 1.0, 1.1, 2 หรือใหม่กว่า

## ประวัติศาสตร์ ##

DICOM ได้รับการพัฒนาร่วมกันโดย American College of Radiology (ACR) และ National Electrical Manufacturers Association (NEMA) สำหรับการแลกเปลี่ยนและการดูภาพทางการแพทย์ เช่น MRIs, CT scan และภาพอัลตราซาวนด์ ในขั้นต้น เป็นการยากที่จะถอดรหัสภาพที่เครื่องจักรสร้างขึ้น ดังนั้น ACR และ NEMA จึงร่วมกันก่อตั้งทีมในปี 1983 ซึ่งเปิดตัวมาตรฐานแรก ACR/NEMA 300 ในปี 1985 เวอร์ชันที่สองเปิดตัวในปี 1988 ซึ่งเป็นที่นิยมในหมู่ผู้ขาย แต่ในไม่ช้าก็ตระหนักว่าเวอร์ชันที่สองก็ต้องการการปรับปรุงเช่นกัน มาตรฐานเวอร์ชันที่ 3 เปิดตัวในปี 1993 ในชื่อ "DICOM" 3.0 ยังคงเป็นเวอร์ชันล่าสุด แต่ได้รับการอัปเดตอย่างต่อเนื่องตั้งแต่ปี 1993

## รูปแบบไฟล์ DICOM ##

DICOM คือการรวมกันของการกำหนดรูปแบบไฟล์และโปรโตคอลการสื่อสารเครือข่าย DICOM ใช้ส่วนขยาย .DCM .DCM มีอยู่สองรูปแบบ ได้แก่ รูปแบบ 1.x และรูปแบบ 2.x DCM Format 1.x มีเพิ่มเติมในสองเวอร์ชันปกติและขยาย โปรโตคอล HTTP และ HTTPS ใช้สำหรับบริการเว็บของ DICOM

### ส่วนหัวของไฟล์ ###

ส่วนหัวของไฟล์มีคำนำหน้าไฟล์ 128 ไบต์ และคำนำหน้า DICOM 4 ไบต์

**คำนำ # 128 ไบต์**|**คำนำหน้า #4 ไบต์ “D, I, C, M**

**คำนำ** ใช้เพื่อเข้าถึงรูปภาพและข้อมูลอื่นๆ ในไฟล์ DICOM ซึ่งรองรับรูปแบบไฟล์รูปภาพที่ใช้กันทั่วไป

**คำนำหน้า** มีสตริง "DICM" เป็นตัวพิมพ์ใหญ่

### ชุดข้อมูล ###

แต่ละไฟล์ต้องมีชุดข้อมูลเดียวที่แสดงถึงอินสแตนซ์ SOP และ SOP Class กับ IOD ที่เกี่ยวข้อง ชุดข้อมูลเป็นตัวแทนของข้อมูลในโลกแห่งความเป็นจริง ชุดข้อมูลประกอบด้วยองค์ประกอบข้อมูลและองค์ประกอบข้อมูลประกอบด้วยค่าของแอตทริบิวต์ของวัตถุนั้น โครงสร้างคุณสมบัติระบุไว้ใน IOD ออบเจกต์ข้อมูล DICOM ประกอบด้วยแอตทริบิวต์จำนวนหนึ่ง รวมถึงรายการต่างๆ เช่น ชื่อ ID เป็นต้น และแอตทริบิวต์พิเศษหนึ่งรายการที่มีข้อมูลพิกเซลของภาพ

### องค์ประกอบข้อมูล ###

องค์ประกอบข้อมูลประกอบด้วยแท็กองค์ประกอบข้อมูล ความยาวค่า และค่าสำหรับองค์ประกอบข้อมูล องค์ประกอบข้อมูลมี 5 ประเภท ได้แก่ องค์ประกอบข้อมูลที่จำเป็นประเภทที่ 1, องค์ประกอบข้อมูลแบบมีเงื่อนไขประเภท 1C, องค์ประกอบข้อมูลที่จำเป็นประเภทที่ 2, องค์ประกอบข้อมูลแบบมีเงื่อนไขประเภท 2C และองค์ประกอบข้อมูลทางเลือกประเภทที่ 3 โครงสร้างองค์ประกอบข้อมูลพื้นฐาน 3 ประเภท มีดังนี้

**องค์ประกอบข้อมูลที่มี VR อย่างชัดเจน**

|หมายเลขกลุ่ม|หมายเลของค์ประกอบ|การแสดงค่า|สงวน|ความยาวค่า|ฟิลด์ค่า
---|---|---|---|---|---|
|2 ไบต์|2 ไบต์|2 ไบต์|2 ไบต์ # 0x00, 0x00|4 ไบต์|"Value Length Bytes"

**องค์ประกอบข้อมูลที่มี VR อย่างชัดเจน**

|หมายเลขกลุ่ม|หมายเลของค์ประกอบ|การแสดงค่า|ความยาวค่า|ฟิลด์ค่า
---|---|---|---|---|
|2 ไบต์|2 ไบต์|2 ไบต์|2 ไบต์|"ความยาวค่าไบต์"

**องค์ประกอบข้อมูลที่มี VR โดยนัย**


|หมายเลขกลุ่ม|หมายเลของค์ประกอบ|ความยาวค่า|ฟิลด์ค่า
---|---|---|---|
|2 ไบต์|2 ไบต์|4 ไบต์|"ค่าความยาวไบต์"

1. **แท็กองค์ประกอบข้อมูล**: จำนวนเต็มที่เรียงลำดับซึ่งแสดงถึงหมายเลขกลุ่มและหมายเลของค์ประกอบ
1. **Value Representation VR**: VR เป็นสตริงอักขระที่แสดงถึง VR ขององค์ประกอบข้อมูล
1. **Value Length**: คือจำนวนเต็มที่ไม่มีเครื่องหมายแทนความยาวที่ชัดเจนของฟิลด์ค่า
1. **ฟิลด์ค่า**: อธิบายค่าขององค์ประกอบข้อมูล

## โอนไวยากรณ์ ##

ไวยากรณ์การถ่ายโอนคือชุดของกฎสำหรับการเข้ารหัสเพื่อแสดงไวยากรณ์ที่เป็นนามธรรมอย่างชัดเจนมากขึ้น ด้วยความช่วยเหลือของเอนทิตีการสื่อสารไวยากรณ์การถ่ายโอนการเจรจาต่อรองเกี่ยวกับเทคนิคการเข้ารหัสทั่วไปที่พวกเขาสนับสนุน

## ระเบียบปฏิบัติ ##

สหภาพ IOD และ DIMSE กำหนด SOP Class คำจำกัดความ SOP Class ประกอบด้วยกฎและความหมายซึ่งอาจจำกัดการใช้บริการในกลุ่มบริการ DIMSE หรือแอตทริบิวต์ของ IOD ตัวอย่างขององค์ประกอบบริการ ได้แก่ Store, Get, Find, Move เป็นต้น ตัวอย่างของ Object ได้แก่ ภาพ CT, ภาพ MR แต่ยังรวมถึงรายการกำหนดการ คิวการพิมพ์ ฯลฯ

## บริการ ##

DICOM ให้บริการต่างๆ ซึ่งส่วนใหญ่เกี่ยวข้องกับการสื่อสารข้อมูล แต่ละคนมีคำอธิบายสั้น ๆ ด้านล่าง:


**Store:** บริการ DICOM Store ส่งภาพหรือวัตถุอื่นๆ ไปยังระบบจัดเก็บและสื่อสารภาพ (PACS) หรือเซิร์ฟเวอร์


**สัญญาผูกมัดพื้นที่เก็บข้อมูล:** บริการสัญญาผูกมัดพื้นที่เก็บข้อมูลใช้เพื่อยืนยันว่ารูปภาพได้รับการจัดเก็บอย่างถาวรบนอุปกรณ์ ba บนสื่อประเภทใดก็ได้


**สอบถาม/ดึงข้อมูล:** บริการนี้ช่วยให้เวิร์กสเตชันสามารถค้นหารายการรูปภาพหรือวัตถุอื่นๆ แล้วดึงข้อมูลเหล่านั้นจาก PACS


**รายการงานโมดาลิตี้:** บริการรายการงานโมดาลิตี้แสดงรายการขั้นตอนการถ่ายภาพที่กำหนดประสิทธิภาพโดยอุปกรณ์รับอิมเมจ


**พิมพ์:** บริการนี้จะส่งภาพไปยังเครื่องพิมพ์

## หมายเลขพอร์ตผ่าน IP ##

DICOM ใช้พอร์ต TCP และ UDP ต่อไปนี้:

1. 104
1. 2761
1. 2762
1. 11112

## อ้างอิง ##

* [https://en.wikipedia.org/wiki/DICOM](https://en.wikipedia.org/wiki/DICOM)
* [https://www.leadtools.com/sdk/medical/dicom-spec](https://www.leadtools.com/sdk/medical/dicom-spec)
* [https://www.dicomstandard.org/concepts/](https://www.dicomstandard.org/concepts/)
* [https://www.dicomlibrary.com/dicom/](https://www.dicomlibrary.com/dicom/)

