{
  "date" : "2019-10-11",
  "keywords" :[ "ไฟล์ psb", "รูปแบบไฟล์ psb", "ไฟล์ psb คืออะไร", "ไฟล์", "ตัวอย่าง psb", "นามสกุลไฟล์ psb","นามสกุล", "รูปแบบ" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"PSB - รูปแบบไฟล์ Photoshop ขนาดใหญ่",
  "description":"เรียนรู้เกี่ยวกับรูปแบบไฟล์ PSB และ API ที่สามารถสร้างและเปิดไฟล์ PSB",
  "linktitle" : "PSB",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## ไฟล์ PSB คืออะไร??
Adobe photoshop บันทึกไฟล์ในสองรูปแบบ ไฟล์ที่มีขนาด 30,000 x 30,000 พิกเซลจะถูกบันทึกด้วยนามสกุล PSD และไฟล์ที่มีขนาดใหญ่กว่า PSD ถึง 300,000 x 300,000 พิกเซลจะถูกบันทึกด้วยนามสกุล PSB ที่รู้จักกันในชื่อ “Photoshop Big” โดยเฉพาะอย่างยิ่ง ไฟล์ PSB สามารถมีขนาดใหญ่ได้ถึง 4 EB (มากกว่า 4.2 พันล้าน GB) พร้อมรูปภาพที่มีความสูงและความกว้างสูงสุด 300,000 พิกเซล ในทางกลับกัน PSD สามารถมีขนาดได้สูงสุดไม่เกิน 2 GB และขนาดภาพ 30,000 พิกเซล

PSB เป็นที่รู้จักกันว่าเป็นฟอร์แมตขนาดใหญ่สำหรับ photoshop และรองรับคุณสมบัติทั้งหมดของ photoshop เช่น เลเยอร์ เอฟเฟ็กต์ และฟิลเตอร์ Photoshop สามารถแปลงไฟล์ PSB เป็น [PSD](/th/image/psd/), [JPG](/th/image/jpeg/) , [PNG](/th/image/png/), [EPS](/th/page-description-language/eps/), [GIF](/th/image/gif/) และรูปแบบอื่นๆ ด้วย รูปแบบเอกสารขนาดใหญ่ของ Photoshop จะพร้อมใช้งานเมื่อเปิดใช้งานคุณลักษณะของบานหน้าต่างการจัดการไฟล์ของกล่องโต้ตอบการตั้งค่าของ Photoshop

## ข้อมูลรูปแบบไฟล์ ##

รูปแบบไฟล์ Photoshop แบ่งออกเป็นห้าส่วนหลักพร้อมตัวทำเครื่องหมายความยาวจำนวนมากเพื่อเลื่อนไปมาระหว่างส่วนต่างๆ

|รูปแบบไฟล์
---|
|ส่วนหัวของไฟล์
|ข้อมูลโหมดสี
| ทรัพยากรรูปภาพ
| ข้อมูลเลเยอร์และมาสก์
|(((
ข้อมูลรูปภาพ
)))

### ส่วนหัวของไฟล์ ###

ส่วนหัวของไฟล์มีความยาวคงที่ 26 ไบต์และมีคุณสมบัติพื้นฐานของรูปภาพ

BYTE Signature [4] – เท่ากับ '8BPS'

เวอร์ชันคำ [2] – หมายเลขเวอร์ชัน, PSD # 1, PSB # 2

BYTE Reserved [6] – สงวนไว้และเป็นศูนย์เสมอ

WORD Channels [2] – จำนวนช่องสีในภาพรวมถึงช่องอัลฟ่า ค่าของมันอยู่ในช่วงตั้งแต่ 1 ถึง 56

แถวยาว [4] – ความสูงของภาพเป็นพิกเซล, PSD 1-30,000, PSB 1-300,000

คอลัมน์ยาว [4] – ความกว้างของภาพเป็นพิกเซล, PSD 1-30,000, PSB 1-300,000

ความลึกของคำ [2] – จำนวนบิตต่อแชนเนล ค่าที่รองรับคือ 1,8,16 และ 32

โหมดคำ [2] – โหมดสีของไฟล์

#### คำอธิบายโหมด ####


|โหมด|คำอธิบาย
---|---|
|0|บิตแมป (ขาวดำ)
|1|สเกลสีเทา
|2|จัดทำดัชนีแล้ว
|3|อาร์จีบี
|4|CMYK
|7|หลายช่อง
|8|ดูโอโทน (ฮาล์ฟโทน)
|9|แล็บ

### ข้อมูลโหมดสี ###

หลังจากส่วนหัวของไฟล์ ส่วนข้อมูลโหมดสีจะตามมา บล็อกเริ่มต้นด้วย LONG Number ซึ่งให้ความยาวของบล็อกเป็นไบต์ โครงสร้างของข้อมูลโหมดสีมีดังนี้:

4 ไบต์ – ความยาวของข้อมูลสีต่อไปนี้

ตัวแปร – ข้อมูลสี

หากค่าฟิลด์โหมดในส่วนส่วนหัวไม่ใช่สีที่จัดทำดัชนีหรือดูโอโทน ความยาวของบล็อกจะเป็น 0 และจะไม่มีข้อมูลหลังจากฟิลด์ความยาว

สำหรับภาพสีที่จัดทำดัชนี ความยาวจะเท่ากับ 768 ไบต์ ซึ่งจะมีจานสี 256 สี สำหรับดูโอโทน ข้อมูลจะมีพารามิเตอร์หน้าจอและข้อมูลที่เกี่ยวข้องอื่นๆ

### แหล่งข้อมูลรูปภาพ ###

ต่อจากส่วนข้อมูลโหมดสี บล็อกที่สามคือส่วนทรัพยากรรูปภาพ สี่ไบต์แรกเป็นตัวเลขยาวที่ระบุความยาวของบล็อกตามด้วยชุดของบล็อกทรัพยากร โครงสร้างของบล็อกทรัพยากรรูปภาพมีดังนี้:

ประเภท BYTE [4] – ลายเซ็น '8BIM'

รหัสคำ [2] – รหัสทรัพยากรรูปภาพ มีรายการรหัสทรัพยากรซึ่งสามารถดูได้จากลิงค์อ้างอิง

ชื่อ BYTE [ตัวแปร] – ชื่อ: Pascal String ที่มีความยาวเท่ากัน ** **

ขนาดยาว [4] – ขนาดจริงของข้อมูลทรัพยากรที่ตามมา

ข้อมูล BYTE [ตัวแปร} – ข้อมูลทรัพยากร มีการบุนวมเพื่อให้มีขนาดเท่ากัน

รูปแบบทรัพยากรบางรูปแบบมีคำอธิบายสั้น ๆ ด้านล่าง:

**รูปแบบทรัพยากรกริดและเส้นบอกแนว:** ข้อมูลเส้นตารางและเส้นบอกแนวถูกจัดเก็บไว้ในบล็อกทรัพยากร บล็อกทรัพยากรเหล่านี้ประกอบด้วยตาราง 16 ไบต์และส่วนหัวของคำแนะนำ ตามด้วยบล็อกข้อมูลคำแนะนำ 5 ไบต์

**รูปแบบทรัพยากรภาพขนาดย่อ:** ข้อมูลภาพขนาดย่อถูกจัดเก็บไว้ในบล็อกทรัพยากรรูปภาพสำหรับการแสดงตัวอย่างซึ่งประกอบด้วยส่วนหัว 28 ไบต์และภาพขนาดย่อ JFIF ใน RGB

**รูปแบบทรัพยากรตัวอย่างสี:** ข้อมูลตัวอย่างสีจะถูกจัดเก็บไว้ในบล็อกทรัพยากรรูปภาพที่มีส่วนหัว 8 ไบต์ตามด้วยบล็อกความยาวผันแปรของข้อมูลตัวอย่างสี

### ข้อมูลเลเยอร์และมาสก์ ###

บล็อกที่สี่คือบล็อกข้อมูลเลเยอร์และมาสก์และมีข้อมูลเกี่ยวกับเลเยอร์และมาสก์ ข้อมูลเลเยอร์จะถูกเก็บไว้ก่อนแล้วจึงมาสก์ข้อมูล

**ข้อมูลเลเยอร์:** ข้อมูลเลเยอร์เริ่มต้นด้วยค่า LONG ซึ่งแสดงความยาวของข้อมูลเลเยอร์ หลังจากนั้นจะมีการนับค่า WORD ซึ่งแสดงจำนวนเลเยอร์เรคคอร์ดที่จะตามมา

[8] – ความยาวของเลเยอร์

[2] – จำนวนเลเยอร์

[Variable] – ข้อมูลเกี่ยวกับแต่ละเลเยอร์

[ตัวแปร] – ข้อมูลภาพช่อง** **

**ข้อมูลหน้ากาก:** โครงสร้างหน้ากากมีรูปแบบดังนี้:


|โครงสร้างข้อมูล|ชื่อฟิลด์| คำอธิบาย
---|---|---|
|คำ| พื้นที่สีซ้อนทับ| (ไม่มีเอกสาร)
|ไบต์[8]| ส่วนประกอบสี| ส่วนประกอบสี 4x2 ไบต์
|คำ| ความทึบ| 0#โปร่งใส 1#ทึบแสง
|ไบต์| ชนิด| 0#กลับด้าน 1#ป้องกัน 128#ใช้ค่าที่เก็บไว้
|ไบต์| ช่องว่างภายใน| ตั้งค่าเป็นศูนย์

### ข้อมูลรูปภาพ ###

ส่วนสุดท้ายประกอบด้วยข้อมูลพิกเซลของภาพ ข้อมูลรูปภาพจะถูกจัดเก็บเป็นชุดของลำดับในระนาบ เช่น ข้อมูลสีแดงทั้งหมดก่อน จากนั้นข้อมูลสีเขียวทั้งหมด ฯลฯ WORD ที่จุดเริ่มต้นของแต่ละบรรทัดจะแสดงขนาดเป็นไบต์ที่เกี่ยวข้องกับแต่ละบรรทัดการสแกน

[2] – วิธีการบีบอัด:

[ตัวแปร] – ข้อมูลรูปภาพตามลำดับระนาบ เช่น RRRR, GGGG, BBBB เป็นต้น

วิธีการบีบอัด:

0 – Raw ข้อมูลรูปภาพ

1 – บีบอัด RLE

2 – ซิปโดยไม่มีการคาดเดา

3 – Zip พร้อมคำทำนาย

## อ้างอิง ##

* [รูปแบบไฟล์ PSB - โดย Adobe](https://www.adobe.com/devnet-apps/photoshop/fileformatashtml/)
* [PSB - Wikipedia](https://en.wikipedia.org/wiki/Adobe_Photoshop#File_format)

