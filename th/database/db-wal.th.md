{
  "date" : "2023-01-16",
  "keywords" : [ "DB-WAL", "what is a DB-WAL file", "extension", "file", "file format", "Database File Type", "Database File Format", "Database Files" ],
  "author" : {
    "display_name" : "Shakeel Faiz"
},
  "draft" : "false",
  "toc" : true,
  "description" : "เรียนรู้เกี่ยวกับรูปแบบไฟล์ DB-WAL และ API ที่สามารถสร้างและเปิดไฟล์ DB-WAL",
  "title" : "รูปแบบไฟล์ DB-WAL - ไฟล์บันทึกการเขียนล่วงหน้าฐานข้อมูล SQLite",
  "linktitle" : "DB-WAL",
  "menu" : {
    "docs" : {
      "identifier":"database-db-wal-th",
      "parent" : "database"
}
},
  "lastmod" : "2020-01-16"
}

## ไฟล์ DB-WAL คืออะไร??

นามสกุลไฟล์ .db-wal เชื่อมโยงกับ SQLite ซึ่งเป็นระบบจัดการฐานข้อมูลเชิงสัมพันธ์แบบโอเพ่นซอร์สยอดนิยม รูปแบบไฟล์ WAL (ย่อมาจาก Write-Ahead Log) เป็นทางเลือกแทนเจอร์นัลการย้อนกลับแบบดั้งเดิมที่ใช้โดย SQLite ให้การควบคุมการทำงานพร้อมกันมากขึ้น ทำให้หลายกระบวนการสามารถอ่านฐานข้อมูลได้ในเวลาเดียวกัน ในขณะที่ยังคงให้ความสามารถในการกู้คืนข้อขัดข้อง ไฟล์ .db-wal ใช้เพื่อจัดเก็บการเปลี่ยนแปลงที่ทำกับฐานข้อมูลที่ยังไม่ได้คอมมิตกับไฟล์ฐานข้อมูลหลัก (ที่มีนามสกุล .db)

## รูปแบบ WAL ทั่วไป

ในรูปแบบไฟล์ WAL (Write-Ahead Log) การเปลี่ยนแปลงที่ทำกับฐานข้อมูลจะถูกเขียนลงในไฟล์ WAL ก่อนจึงจะส่งไปยังไฟล์ฐานข้อมูลหลัก ซึ่งช่วยให้สามารถเข้าถึงฐานข้อมูลได้พร้อมกันมากขึ้น เนื่องจากสามารถอ่านกระบวนการต่างๆ จากฐานข้อมูลได้ในขณะที่กำลังทำการเปลี่ยนแปลง นอกจากนี้ รูปแบบไฟล์ WAL ยังมีความสามารถในการกู้คืนข้อขัดข้อง ซึ่งช่วยให้ฐานข้อมูลสามารถย้อนกลับไปสู่สถานะก่อนหน้าได้ในกรณีที่มีการปิดเครื่องโดยไม่คาดคิด

## ความแตกต่างระหว่างรูปแบบ DB-WAL และ WAL

ทั้งรูปแบบไฟล์ .db-wal และ WAL เชื่อมโยงกับ SQLite ซึ่งเป็นระบบจัดการฐานข้อมูลเชิงสัมพันธ์แบบโอเพ่นซอร์สยอดนิยม อย่างไรก็ตามมีความแตกต่างเล็กน้อยระหว่างทั้งสอง

ไฟล์ .db-wal นั้นเป็นไฟล์ WAL เป็นหลัก แต่มีนามสกุลไฟล์ต่างกัน ไฟล์ .db-wal ใช้เพื่อจัดเก็บการเปลี่ยนแปลงที่ทำกับฐานข้อมูลที่ยังไม่ได้คอมมิตกับไฟล์ฐานข้อมูลหลัก (ที่มีนามสกุล .db) ในขณะที่รูปแบบไฟล์ WAL ใช้เพื่อจัดเก็บบันทึกการเขียนล่วงหน้าของการเปลี่ยนแปลงฐานข้อมูล .

กล่าวอีกนัยหนึ่ง ไฟล์ .db-wal เป็นไฟล์ WAL ประเภทเฉพาะที่ฐานข้อมูล SQLite ใช้เพื่อจัดเก็บการเปลี่ยนแปลงที่ทำกับฐานข้อมูลที่ยังไม่ได้คอมมิตกับไฟล์ฐานข้อมูลหลัก รูปแบบไฟล์ WAL เป็นคำทั่วไปสำหรับรูปแบบไฟล์ประเภทนี้

ดังนั้น WAL จึงเป็นคำทั่วไปสำหรับรูปแบบไฟล์ .db-wal เป็นการนำไปใช้เฉพาะของรูปแบบไฟล์ WAL ที่ใช้โดยฐานข้อมูล SQLite

## อ้างอิง
* [รูปแบบไฟล์โหมด WAL](https://www.sqlite.org/walformat.html)

* [การบันทึกการเขียนล่วงหน้า](https://www.sqlite.org/wal.html)


