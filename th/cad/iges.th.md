{
  "date" : "2020-03-16",
  "keywords" :[ "ไฟล์ IGES", "รูปแบบไฟล์", "CAD" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"เรียนรู้เกี่ยวกับรูปแบบไฟล์ IGES และ API ที่สามารถสร้างและเปิดไฟล์ IGES",
  "title" :"รูปแบบไฟล์ IGES",
  "linktitle" : "IGES",
  "menu" : {
    "docs" : {
      "parent" : "cad"
}
},
  "lastmod" : "2020-07-28"
}

## ไฟล์ IGES คืออะไร??

ไฟล์ที่มีนามสกุล .iges ใช้เพื่อแลกเปลี่ยนข้อมูลการออกแบบระหว่างแอปพลิเคชันการออกแบบโดยใช้คอมพิวเตอร์ช่วย (CAD) IGES ย่อมาจาก Initial Graphics Exchange Specifications ข้อมูลที่แลกเปลี่ยนโดยใช้ IGES รวมถึงแผนภาพวงจร โครงลวด พื้นผิวรูปแบบอิสระ หรือการแสดงแบบจำลองทึบ IGES พบการใช้งานในการเขียนแบบทางวิศวกรรมแบบดั้งเดิม การวิเคราะห์แบบจำลอง และฟังก์ชันการผลิต รูปแบบสามารถแลกเปลี่ยนข้อมูลการออกแบบทั้ง 2D หรือ 3D ระหว่างโปรแกรม CAD ไฟล์ IGES สามารถเปิดได้ด้วยแอปพลิเคชัน CAD หลายตัว เช่น Autodesk และ CADSoftTools ABViewer นอกจากนี้ยังมี API หลายตัวสำหรับเปิดและแปลงไฟล์ IGES โดยทางโปรแกรม

## รูปแบบไฟล์ IGES

ไฟล์ IGES อยู่ในรูปแบบข้อความ ASCII และสามารถเปิดในโปรแกรมแก้ไขข้อความเพื่อดูเนื้อหาของไฟล์ ข้อมูลที่เป็นข้อความในไฟล์ IGES แสดงในรูปแบบ "Hollerith" ไฟล์ IGES ทั่วไปสามารถมีหลายพันบรรทัดเพื่อแสดงข้อมูล 2D หรือ 3D ที่สามารถแลกเปลี่ยนได้ตามรูปแบบนี้ ไฟล์ IGES แบ่งออกเป็นห้าส่วน โดยแสดงด้วยอักษรตัวพิมพ์ใหญ่เฉพาะในคอลัมน์ที่ 73 ส่วนเหล่านี้คือส่วน `Start` (S), `Global` (G), `Data Entry` (D), `Parameter Data` (P) และ `Terminate` (T) ส่วน Data Entry และ Parameter Data มักย่อมาจาก DE และ PD ตามลำดับ

### ส่วนหัวของไฟล์ IGES

ส่วนเริ่มต้นและส่วนกลางประกอบด้วยข้อมูลพื้นฐานเกี่ยวกับ:
* ชื่อไฟล์และแหล่งที่มา
* ตัวคั่นสำหรับส่วนข้อมูลพารามิเตอร์
* ผู้เขียนไฟล์ และข้อมูลทั่วไปอื่นๆ

ส่วน Start และ Global จากเอกสารตัวอย่างใน Wikipedia มีดังต่อไปนี้
```
S      1
1H,,1H;,4HSLOT,37H$1$DUA2:[IGESLIB.BDRAFT.B2I]SLOT.IGS;,                G      1
17HBravo3 BravoDRAFT,31HBravo3->IGES V3.002 (02-Oct-87),32,38,6,38,15,  G      2
4HSLOT,1.,1,4HINCH,8,0.08,13H871006.192927,1.E-06,6.,                   G      3
31HD. A. Harrod, Tel. 313/995-6333,24HAPPLICON - Ann Arbor, MI,4,0;     G      4
```
อย่างที่คุณเห็น ฟิลด์เริ่มต้นมีคำอธิบายไฟล์ที่มนุษย์สามารถอ่านได้ และของฉันมีอักขระใดๆ ในคอลัมน์ 1-72 โดยมีบรรทัดที่ลงท้ายด้วยส่วนหัวของส่วนและหมายเลขบรรทัดของส่วน ต้องมีอย่างน้อย 1 บรรทัดของส่วนเริ่มต้น ส่วนส่วนกลางมีข้อมูลตัวประมวลผลล่วงหน้า นอกจากนี้ยังต้องมีอยู่ในไฟล์และลงท้ายด้วยรูปแบบ G000000#

### การป้อนข้อมูล (DE) และส่วนข้อมูลพารามิเตอร์ (PD)

#### ส่วนการป้อนข้อมูล
ไฟล์ IGES ประกอบด้วยหลายเอนทิตีที่มีข้อมูลเกี่ยวกับข้อมูลพื้นฐานของรูปแบบไฟล์ IGES เอนทิตีมีข้อมูลเกี่ยวกับองค์ประกอบต่างๆ ของรูปแบบข้อมูล IGES และใช้สำหรับการวาด เอนทิตีที่ใช้กันทั่วไป ได้แก่ :
* วงกลมโค้ง
* เส้นโค้งคอมโพสิต
* Conic Arc
* เครื่องบิน
* เส้น

นี่เป็นเพียงส่วนน้อยและมีประมาณ 150 หน่วยงานที่แตกต่างกันใน IGES แต่ละเอนทิตีจะถูกระบุด้วยหมายเลขประเภท เช่น:
* CIRCULAR ARC (ประเภท 100)
* LINE (แบบ 110)

##### คุณสมบัติเอนทิตี

แต่ละเอนทิตีที่ประกาศมีคุณสมบัติดังต่อไปนี้

|ชื่อฟิลด์|คำอธิบาย|
---|---|
|ประเภทเอนทิตี |นี่คือประเภทของเอนทิตีที่อธิบายไว้ ตัวอย่างเช่น 116 อธิบายเอนทิตี Point|
|ตัวชี้ PD |สิ่งนี้ให้ตำแหน่งสำหรับข้อมูลเอนทิตีในส่วนข้อมูลพารามิเตอร์ ตำแหน่งนี้เป็นเพียงหมายเลขบรรทัดภายในส่วน PD ที่มีบรรทัดแรกของข้อมูลเอนทิตีนี้|
|โครงสร้าง |ศูนย์หรือตัวชี้ไปยังเอนทิตีคำจำกัดความ ใช้ไม่ได้กับเอนทิตีส่วนใหญ่|
|รูปแบบตัวอักษรบรรทัด| ตัวเลขหรือตัวชี้ไปยังเอนทิตีรูปแบบแบบอักษรบรรทัด ตัวเลขหมายถึง: * 0 ไม่ได้ระบุรูปแบบ (ค่าเริ่มต้น) * 1 Solid * 2 Dashed * 3 Phantom * 4 Centerline * 5 Dotted|
|ระดับ| ระบุระดับที่จะเชื่อมโยงกับเอนทิตีนี้ อนุญาตให้เอนทิตีปรากฏในมากกว่าหนึ่งระดับ|
|ดู| ระบุตัวเลือกการดู เหล่านี้คือ: 0 บ่งชี้การมองเห็นและลักษณะที่เท่าเทียมกันในทุกมุมมอง ตัวชี้เริ่มต้นไปยังเอนทิตีมุมมอง (ประเภท 410) ที่สามารถดูได้จากการอ้างอิงเอนทิตีการเชื่อมโยงที่มองเห็นได้ (ประเภท 402 แบบฟอร์ม 3)
|ตัวชี้เมทริกซ์การแปลง| อ้างอิงเอนทิตีเมทริกซ์การแปลง (ประเภท 124) หรือเป็นศูนย์ตามค่าเริ่มต้น (ไม่มีการแปลง)|
|สมาคมการแสดงป้ายกำกับ| อ้างอิงถึงการเชื่อมโยงการแสดงฉลาก (ประเภท 402, แบบฟอร์ม 5) ซึ่งกำหนดลักษณะของฉลากเอนทิตี|
|หมายเลขสถานะ| ประกอบด้วยสี่ส่วนของตัวเลขสองตัว 1-2: สถานะว่างเปล่า 00 สำหรับปกติหรือ 01 สำหรับว่าง 3-4: การสลับเอนทิตีรอง: เป็น 00 สำหรับอิสระ, 01 สำหรับพึ่งพาทางกายภาพ, 02 สำหรับขึ้นอยู่กับตรรกะ และ 03 สำหรับทั้งคู่ 5-6: ค่าสถานะการใช้งานเอนทิตี: เป็น 00 สำหรับเรขาคณิต, 01 สำหรับคำอธิบายประกอบ, 02 สำหรับคำจำกัดความ, 03 สำหรับอื่นๆ, 04 สำหรับตรรกะ, 05 สำหรับพาราเมตริก 2 มิติ และ 06 สำหรับเรขาคณิตการก่อสร้าง สุดท้าย 7-8 คือลำดับชั้น โดยที่ 00 บ่งชี้ส่วนกลางจากบนลงล่าง (ใช้คุณลักษณะของเอนทิตีนี้) 01 คือส่วนกลางที่เลื่อนออกไป (อย่าใช้คุณลักษณะของเอนทิตีนี้) และ 02 คือใช้คุณสมบัติลำดับชั้น (ใช้เอนทิตีลำดับชั้น (ประเภท 406, แบบฟอร์ม 10)เพื่อกำหนดลักษณะของการจัดกลุ่มแบบลำดับชั้น).|
|หมายเลขลำดับ| ระบุโดย D# โดยที่ # คือหมายเลขบรรทัดสำหรับส่วนนี้ (ไม่ใช่จากด้านบนของไฟล์) นอกจากนี้ยังใช้เพื่อชี้ไปที่เอนทิตีการป้อนข้อมูลนี้|
|ประเภทเอนทิตี| มีการระบุสองครั้งต่อรายการเอนทิตี|
|เลขน้ำหนักเส้น| ระบุความหนาเมื่อแสดงเอนทิตี เล็กที่สุดคือ 1, 0 เป็นค่าเริ่มต้น|
|หมายเลขสี| ระบุสีของเอนทิตี ค่าจำนวนเต็มที่อนุญาตคือ: 0 ไม่มีสี (ค่าเริ่มต้น) 1 ดำ 2 แดง 3 เขียว 4 น้ำเงิน 5 เหลือง 6 ม่วงแดง 7 ฟ้า 8 ขาว|
|หมายเลขบรรทัดพารามิเตอร์พารามิเตอร์| ระบุจำนวนบรรทัดที่เอนทิตีนี้ใช้ในส่วนข้อมูลพารามิเตอร์|
|หมายเลขแบบฟอร์ม| ระบุรูปแบบหรือการเป็นตัวแทนของเอนทิตีนี้ เปลี่ยนวิธีตีความข้อมูลพารามิเตอร์ ค่าเริ่มต้นคือ 0|
|เขตสงวน| ไม่ได้ใช้|
|เขตสงวน| ไม่ได้ใช้|
|ป้ายกำกับเอนทิตี| แอ็พพลิเคชันระบุ identifier- right justified|
|สมัครสมาชิก| ตัวระบุตัวเลขสำหรับป้ายกำกับเอนทิตี ทั้งสองร่วมกันสร้างตัวระบุเฉพาะสำหรับเอนทิตี|
| หมายเลขลำดับ ดูด้านบน |นี่จะเป็น D#+1 เนื่องจากแต่ละเอนทิตีถูกระบุในสองบรรทัด|

#### ส่วนข้อมูลพารามิเตอร์
ส่วนการป้อนข้อมูลตามด้วยส่วนข้อมูลพารามิเตอร์ จะแสดงรายการข้อมูลสำหรับแต่ละรายการที่เกี่ยวข้องและแสดงรายการพารามิเตอร์สำหรับเอนทิตีตามตัวคั่นที่ระบุในส่วนสากล (โดยปกติจะเป็นเครื่องหมายจุลภาคเพื่อแยกพารามิเตอร์และเครื่องหมายอัฒภาคเพื่อสิ้นสุดรายการ)


## อ้างอิง
* [IGES โดย WikiPedia](https://en.wikipedia.org/wiki/IGES)

