{
  "date" : "2020-07-28",
  "keywords" :["HPGL","文件格式","打开","读取","创建","CAD"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"了解 HPGL 文件格式和可以创建和打开 HPGL 文件的 API。",
  "title" :"HPGL 文件格式 - 向文件格式专家学习！",
  "linktitle" : "HPGL",
  "menu" : {
    "docs" : {
      "parent" : "cad"
}
},
  "lastmod" : "2020-07-28"
}

## 什么是一 .hpgl 文件？

HPGFL（Hewlett-Packard 图形语言）文件包含由 HP 开发的用于绘图仪控制的指令集。 HP 绘图仪使用此文件在纸上绘制和打印矢量和光栅内容。

### HPGL 命令

HPGL 命令由以下内容组成。
* 两个字符的字母表的命令部分
* 一个参数部分
* 终结者部分

如果有多个参数，文件中的每个参数都必须用分隔符分隔。

### HPGL 命令示例

```
Example :PA5000,1000;
  (command)    PA
  (parameter)  5000
  (separator)  ,
  (parameter)  1000
  (terminator) ;
```

＃＃＃ 坐标系

坐标系统包括用于定位任何特定位置的二维测量指标。为此，HPGL 同时使用绘图仪坐标系和用户坐标系。

#### 绘图仪坐标系

该坐标系统用于根据绘图仪移动绘制图纸。最小绘图仪移动的典型 XY 单位是 0.025mm。绘图的可能范围随绘图仪种类而变化。

#### 用户坐标系

可以使用比例和原点设置用户指定的坐标系。使用 IP 命令和 SC 命令将它们转换为绘图仪坐标。如果不执行此转换，则默认使用绘图仪系统坐标。

## HPGL 文件格式
HPGL 文件采用 ASCII（文本文件）格式，并以很少的设置命令开始。这将为绘图仪设置某些参数以进行绘图。典型的 HPGL 文件如下所示。

|命令|含义
---|---|
|IN;|初始化，开始绘图工作|
|IP;|将缩放点（P1 和 P2）设置为其默认位置|
|SP1;|选择笔 1|
|PU0,0;|抬起笔并移动到下一个动作的起点|
|PD100,0,100,100,0,100,0,0;|放下笔并移动到以下位置（在页面周围画一个框）|
|PU50,50;|笔向上移动到 X,Y 坐标 50,50|
|CI25;|画一个半径为 25 的圆|
|SS;|选择标准字符集|
|DT*,1;|将文本分隔符设置为星号，不打印（1，表示“真"）|
|PU20,80;|举笔移动到 20,80|
|LBHello World*;|绘制标签|

## 参考
* [维基百科的 HPGL](https://en.wikipedia.org/wiki/HP-GL)
* [HPGL 参考指南](https://www.isoplotec.co.jp/HPGL/eHPGL.htm)

