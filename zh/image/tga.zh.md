{
  "date" : "2019-10-11",
  "keywords" :["tga 文件","tga 文件格式","什么是 tga 文件","文件","tga 示例","tga 文件扩展名","扩展名","格式"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"TGA 文件格式 - TARGA 图形图像文件",
  "description":"了解 TGA 文件格式和可以创建和打开 TGA 文件的 API。",
  "linktitle" : "TGA",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## 什么是一 .tga 文件？

带有 .tga 扩展名的文件是一种光栅图形格式，由 Truevision Inc. 创建。它是为 TARGA（Truevision 高级光栅适配器）板设计的，并为 IBM 兼容的 PC 提供高彩/真彩显示支持。它支持每像素 8、16、24 和 32 位以及 8 位 Alpha 通道。它还支持无损 RLE 压缩，可用于减小图像大小。数码照片和纹理使用 TGA 图像格式。

## 历史简介

TGA 文件格式的形成于 1984 年由 AT&T EPICenter（后来被提取并形成一个独立的实体，称为 Truevision）形成，该中心致力于营销 AT&T 为彩色帧缓冲区开发的新技术。 EPICenter 已经在开发它的前两张卡，即 VDA（视频显示适配器）和 ICB（图像捕获板），它们可以处理两种文件类型，.vda 和 .icb，已经在进行中。对这些文件格式进行了编纂，并引入了不太广泛的特定文件格式 TGA。 TGA 是对已经使用的内容的扩展，并提供了诸如宽度、高度、像素深度、相关的颜色图和图像来源等信息。

TGA 的 2.0 版本于 1989 年发布，包含几个增强功能，例如：

*缩略图
* 阿尔法通道
* 伽玛值
* 文本元数据

TGA 2.0 版本的主要贡献者包括 Truevision 的 Shawn Steiner、Kevin Fiedly 和 David Spoelstra。

## TGA TARGA 文件格式规范

TGA 文件由 2 个主要部分组成：

* 标题
* 颜色像素信息

根据格式规范，TGA 文件中的所有值都是小端格式。

### TGA 头文件

一个 TGA 文件头由以下 5 个字段组成。

|字段编号|长度 |字段名称 |描述|
---|---|---|---|
|1| 1 字节 |ID 长度|图片ID字段的长度（0-255）|
|2| 1字节|彩色图类型|是否包含颜色图（0 - 表示此图像不包含颜色图数据。1 - 表示此图像包含颜色图。）|
|3| 1 字节 |图像类型|压缩和颜色类型（0- 不包含图像数据。1- 未压缩，彩色映射图像，2- 未压缩，真彩色图像，9- 行程编码，彩色映射图像，11- 行程编码，黑白图像)|
|4| 5字节|色图规格|介绍色图|
|5| 10 字节 |图像规格|图片尺寸和格式|

### 图像和颜色映射数据

|字段编号|长度 |字段 |描述|
---|---|---|---|
|6 |来自图像 ID 长度字段|图片ID|包含识别信息的可选字段|
|7 |来自色图规格字段|彩图资料|包含色图数据的查找表|
|8 |来自图像规范字段|图像数据|根据图像描述符存储|

### 开发者专区（可选）

TGA 2.0 版支持许多开发人员希望存储更多信息的其他增强/附加功能。该信息是可选的，因此如果 TGA 解码器无法解释它，它将被忽略。

### 扩展区（可选）

|字段编号|长度|字段 |描述|
---|---|---|---|
|10| 2 字节 |扩展大小 |扩展区域的大小，始终为 495|
|11| 41字节|作者姓名 |作者姓名。如果不使用，字节应设置为 NULL (\0) 或空格|
|12| 324字节|作者评论|一条注释，分为四行，每行由 80 个字符加上一个 NULL| 组成。
|13| 12字节|日期/时间戳|创建图像的日期和时间|
|14| 41字节|职位编号||
|15| 6字节|工作时间|创建文件所花费的小时、分钟和秒数（用于计费等）|
|16| 41字节|软件 ID |创建文件的应用程序。|
|17| 3字节|软件版本||
|18| 4字节|键色||
|19| 4字节|像素纵横比||
|20| 4字节|伽玛值||
|21| 4字节|颜色校正偏移量|从文件开头到颜色校正表（如果存在）的字节数|
|22| 4字节|邮票 |从文件开头到邮票图像（如果存在）的字节数|
|23| 4字节|扫描线偏移|从文件开头到扫描行表（如果存在）的字节数|
|24| 1个字节|属性类型|指定 alpha 通道|

### 文件页脚（可选）

文件的最后 26 个字节代表页脚，如果存在则意味着它可能是 TGA 版本 2 文件。

|字段编号|长度|领域|说明|
---|---|---|---|
|28| 4字节|扩展偏移|从文件开头的偏移量（以字节为单位）|
|29| 4字节|开发区偏移|从文件开头的偏移量（以字节为单位）|
|30| 16字节|签名|包含“TRUEVISION-XFILE"|
|31| 1个字节| |包含“."|
|32| 1个字节| |包含 NULL|


## 参考

* [TGA 2.0 文件格式规范](https://products.conholdate.app/viewer/view/rVqTeZPLAL/tga-file-format-specifications.pdf?default=view&preview = true.pdf)
* [维基百科的 TGA](https://en.wikipedia.org/wiki/Truevision_TGA)

