{
"date": "2023-06-08",
  "keywords": [
"crx 文件",
"什么是 crx 文件",
"如何在谷歌浏览器中安装 crx 文件",
"如何打开 crx 文件",
"crx 文件包含什么",
"crx文件的格式是什么",
"文件",
"crx 文件扩展名",
"扩大"
],
  "author": {
"display_name": "沙基尔·法伊兹"
},
"draft": "false",
"toc": true,
"title": "CRX 文件格式 - Google Chrome 扩展",
  "description":"了解 CRX 格式以及可以创建和打开 CRX 文件的 API。",
"linktitle": "CRX",
  "menu": {
    "docs": {
      "identifier": "misc-crx",
"parent": "misc"
}
},
"lastmod": "2023-06-08"
}

## 什么是 .crx 文件？

CRX 文件格式与 Google Chrome 浏览器扩展相关联。 CRX 文件本质上是一个压缩包,其中包含要在 Google Chrome 中安装和运行扩展程序所需的文件和元数据。它通过提供额外的功能或主题来增强网络浏览器的功能或外观。

当 CRX 文件下载并安装在 Google Chrome 中时,浏览器会使用公钥和签名验证扩展程序的完整性。如果验证成功,Chrome 会提取 CRX 文件的内容并安装扩展程序,使其可供使用。用户可以通过 Chrome 扩展页面管理其扩展程序,该页面允许启用,禁用或删除已安装的扩展程序。

## 如何在 Google Chrome 中安装 CRX 文件？

要在 Google Chrome 中安装 CRX 文件,您可以按照以下步骤操作：

1. 打开 Chrome 浏览器。
2. 在地址栏中输入"chrome://extensions",然后按 Enter。
3. 启用位于扩展页面右上角的"开发者模式"切换开关。
4. 单击"加载已解压的"按钮。
5. 找到并选择包含 CRX 文件提取内容的文件夹（或仅选择 CRX 文件本身）。
6. 单击"打开"安装扩展。

## CRX 文件包含什么？

CRX 文件包含 Google Chrome 扩展所需的必要文件和元数据。以下是 CRX 文件中典型内容的细分：

- **清单文件 (manifest.json)：** 该文件是 JSON 格式的文件,其中包含有关扩展的信息,例如名称,版本,描述,权限和后台脚本。它定义了扩展的结构和行为。
- **JavaScript 文件：** 这些文件包含定义扩展功能的代码。它们可能包括用于处理事件,修改网页或与 Chrome 的 API 交互的脚本。
- **HTML,CSS 和图像文件：** 扩展通常包括用户界面元素,例如弹出窗口或选项页面。 HTML 文件定义这些界面的结构,而 CSS 文件控制它们的外观。图像文件用于图标或其他图形资源。
- **可选资源文件：** 扩展可能包括其他资源,例如用于支持多种语言的本地化文件。这些文件包含扩展程序用户界面中使用的文本翻译。
- **后台脚本：** 如果扩展程序具有独立于活动网页运行的后台进程或脚本,这些脚本将包含在 CRX 文件中。
- **内容脚本：**内容脚本是可以注入网页以修改其行为或与其内容交互的脚本。如果扩展使用内容脚本,这些脚本所需的文件将出现在 CRX 文件中。
- **其他资产：** 根据扩展的具体要求,可能会包含其他文件,例如音频或视频文件,字体或数据文件。

CRX 文件格式本质上是一个压缩包,以结构化方式包含所有这些文件和文件夹。当 CRX 文件安装在 Google Chrome 中时,浏览器会提取内容并将其放置在适当的位置,从而允许扩展在浏览器中加载和运行。

## CRX 文件的格式是什么？

CRX 文件格式是用于打包和分发 Google Chrome 扩展程序的特定格式。它本质上是一个具有不同文件扩展名的压缩 ZIP 存档。 CRX文件的基本结构如下：

- **文件签名：** 文件的前 4 个字节包含幻数"Cr24"（十六进制：43 72 32 34）,用作将文件标识为 CRX 文件的签名。
- **版本号：** 接下来的 4 个字节表示 CRX 格式的版本号。
- **公钥长度：** 接下来的4个字节表示用于扩展签名验证的编码公钥的长度。
- **签名长度：** 接下来的 4 个字节指定扩展的签名长度。
- **公钥：** 本节包含用于验证扩展完整性的编码公钥。
- **签名：** 此部分包含扩展的签名,该签名是通过使用与上述公钥相对应的私钥对扩展的内容进行签名而生成的。
- **ZIP 存档：** CRX 文件的剩余字节包含压缩的 ZIP 存档。该存档包含扩展所需的所有文件和文件夹,包括清单文件,JavaScript 文件,HTML 文件,CSS 文件,图像和任何其他资源。

## 参考
* [CRX 格式规范](https://groups.google.com/a/chromium.org/g/chromium-extensions/c/K3YIsNL_Et4)

