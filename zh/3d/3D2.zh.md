{
  "date" : "2019-10-11",
  "keywords" :["3d2 文件","3d2 文件格式","什么是 3d2 文件","文件","3d2 示例","3d2 文件扩展名","扩展名","格式"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"了解 3D2 文件格式和可以打开和创建 3D2 文件的 API。",
  "title" :"3D2 - CAD-3D 2.0 文件格式",
  "linktitle" : "3D2",
  "menu" : {
    "docs" : {
      "parent" : "3d"
}
},
  "lastmod" : "2019-09-10"
}

## 什么是 3D2 文件？

扩展名为 .3D2 的文件是一个 CAD-3D 2.0 文件，它存储多个 3D 对象和有关这些对象的信息。 3D 对象使用的闪电和调色板信息都存储在此文件中。一个文件最多可容纳 40 个对象。 3D2 曾被用作计算机动画的早期格式。 3DS 文件可以用 Quick3D 应用软件打开。

## 3D2 文件格式

3D2 文件格式类似于旧文件格式，由两部分组成。

1. 一个 256 字节的标题，其中包含有关文件中包含的对象数量、灯光设置和颜色信息的信息。
1. 定义文件中 3D 对象的重复数据结构。

3D2 文件格式类似于旧文件格式，但不同之处在于它不依赖于摩托罗拉的快速浮点库 (LIBF)。它通过将每个坐标存储在一个两字节字而不是四字节浮点值中，大大降低了存储要求。

### 3D2 标题

|字段|类型|值|
---|---|---|
|文件编号|字 | $3D02|
|文件中的对象数|WORD|1-40|
|光源A开/关指示灯|WORD| （0=关，1=开）|
|光源 B 开/关指示灯 |WORD| （0=关，1=开）|
|光源 C 开/关指示灯 |WORD| （0=关，1=开）|
|光源A亮度|WORD|(0-7)|
|光源B亮度|WORD|(0-7)|
|光源C亮度|WORD|(0-7)|
|环境光亮度|WORD|(0-7)|
|光源 AZ 位置 |WORD|(-50 到 +50)|
|光源 BZ 位置 |WORD|(-50 到 +50)|
|光源 CZ 位置 |WORD|(-50 到 +50)|
|光源 AY 位置 |WORD|(-50 到 +50)|
|光源按位置 |WORD|(-50 到 +50)|
|光源 CY 位置 |WORD|(-50 到 +50)|
|光源 AX 位置 |WORD|(-50 到 +50)|
|光源 BX 位置 |WORD|(-50 到 +50)|
|光源 CX 位置 |WORD|(-50 到 +50)|
|对象调色板|16 字|(BIOS 格式)|
|颜色组基数组|16 WORDs| |

### 颜色组基本数组

3D2 文件中的调色板必须附带颜色组基本数组，该数组指示该颜色所属组中第一种颜色的索引。以下是一个示例调色板，其中包含黑色背景颜色，后跟五种红色、五种绿色和五种蓝色。

|索引|颜色|底色|
---|---|---|
|0|000| 0|
|1|100| 1|
|2|200| 1|
|3|300| 1|
|4|400| 1|
|5|500| 1|
|6|010| 6|
|7|020| 6|
|8|030| 6|
|9|040| 6|
|10|050| 6|
|11|001| 11|
|12|002| 11|
|13|003| 11|
|14|004| 11|
|15|005| 11|

## 参考

* [3D2 文件格式](http://paulbourke.net/dataformats/3d2/)

