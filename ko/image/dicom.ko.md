{
  "date" : "2019-10-11",
  "keywords" :[ "디컴 파일", "디컴 파일 형식", "디컴 파일이란", "파일", "디컴 예", "디컴 파일 확장자","확장자", "형식" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"DICOM - 디지털 이미징 및 통신 파일 형식",
  "description":"DICOM 파일 형식과 DICOM 파일을 만들고 열 수 있는 API에 대해 알아보세요.",
  "linktitle" : "DICOM",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## .DICOM 파일이란?

DICOM은 Digital Imaging and Communications in Medicine의 약자로 의료 정보학 분야와 관련이 있습니다. DICOM은 다양한 공급업체의 프린터, 서버, 스캐너 등과 같은 의료 영상 장치의 통합에 사용되며 고유성을 위해 각 환자의 식별 데이터도 포함합니다. DICOM 파일은 DICOM 형식의 이미지 데이터를 수신할 수 있는 경우 두 당사자 간에 공유할 수 있습니다. DICOM의 통신 부분은 응용 계층 프로토콜이며 TCP/IP를 사용하여 엔터티 간에 통신합니다. 웹 서비스에서 지원하는 버전은 1.0, 1.1, 2 이상입니다.

## 역사 ##

DICOM은 MRI, CT 스캔 및 초음파 이미지와 같은 의료 이미지를 교환하고 보기 위해 ACR(American College of Radiology)과 NEMA(National Electrical Manufacturers Association)가 공동으로 개발했습니다. 처음에는 기계가 생성한 이미지를 디코딩하는 것이 어려웠습니다. 따라서 ACR과 NEMA는 1983년 팀을 구성하여 1985년에 첫 번째 표준인 ACR/NEMA 300을 발표했습니다. 두 번째 버전은 1988년에 출시되어 벤더들 사이에서 더 유명했지만 곧 두 번째 버전도 개선이 필요하다는 것을 깨달았습니다. 표준의 세 번째 버전은 "DICOM"으로 1993년에 출시되었습니다. 3.0은 여전히 최신 버전이지만 1993년부터 지속적으로 업데이트되었습니다.

## DICOM 파일 형식 ##

DICOM은 파일 형식 정의와 네트워크 통신 프로토콜의 조합입니다. DICOM은 .DCM 확장자를 사용합니다. .DCM은 형식 1.x와 형식 2.x의 두 가지 형식으로 존재합니다. DCM 형식 1.x는 일반 및 확장의 두 가지 버전으로 추가로 제공됩니다. HTTP 및 HTTPS 프로토콜은 DICOM의 웹 서비스에 사용됩니다.

### 파일 헤더 ###

파일 헤더에는 128바이트 파일 프리앰블과 4바이트 DICOM 접두사가 포함됩니다.

**서문 # 128바이트**|**접두사 # 4바이트 "D, I, C, M**

**Preamble**은 일반적으로 사용되는 이미지 파일 형식과의 호환성을 제공하는 DICOM 파일의 이미지 및 기타 데이터에 액세스하는 데 사용됩니다.

**접두사**에는 문자열 "DICM"이 대문자로 포함됩니다.

### 데이터 세트 ###

각 파일에는 관련 IOD가 있는 SOP 인스턴스 및 SOP 클래스를 나타내는 단일 데이터 세트가 포함되어야 합니다. 데이터 세트는 실제 정보의 표현입니다. 데이터 세트에는 데이터 요소가 포함되고 데이터 요소에는 해당 개체의 속성 값이 포함됩니다. 속성의 구조는 IOD에 지정됩니다. DICOM 데이터 개체는 이름, ID 등과 같은 항목을 포함한 여러 속성과 이미지 픽셀 데이터를 포함하는 하나의 특수 속성으로 구성됩니다.

### 데이터 요소 ###

데이터 요소는 데이터 요소 태그, 값 길이 및 데이터 요소에 대한 값으로 구성됩니다. 데이터 요소에는 유형 1 필수 데이터 요소, 유형 1C 조건부 데이터 요소, 유형 2 필수 데이터 요소, 유형 2C 조건부 데이터 요소 및 유형 3 선택적 데이터 요소의 5가지 유형이 있습니다. 기본 데이터 요소 구조의 세 가지 유형은 다음과 같습니다.

**명시적 VR이 있는 데이터 요소**

|그룹 번호|요소 번호|값 표현|예약됨|값 길이|값 필드
---|---|---|---|---|---|
|2바이트|2바이트|2바이트|2바이트 # 0x00, 0x00|4바이트|"값 길이 바이트"

**명시적 VR이 있는 데이터 요소**

|그룹 번호|요소 번호|값 표현|값 길이|값 필드
---|---|---|---|---|
|2바이트|2바이트|2바이트|2바이트|"값 길이 바이트"

**암시적 VR이 있는 데이터 요소**


|그룹 번호|요소 번호|값 길이|값 필드
---|---|---|---|
|2바이트|2바이트|4바이트|"값 길이 바이트"

1. **Data Element Tag**: 그룹 번호와 요소 번호를 나타내는 정렬된 정수
1. **값 표현 VR**: VR은 데이터 요소의 VR을 나타내는 문자열입니다.
1. **값 길이**: 값 필드의 명시적 길이를 나타내는 부호 없는 정수입니다.
1. **값 필드**: 데이터 요소의 값을 설명합니다.

## 전송 구문 ##

전송 구문은 보다 추상적인 구문을 명확하게 나타내기 위해 인코딩하기 위한 일련의 규칙입니다. 전송 구문의 도움으로 엔티티 통신은 지원하는 공통 인코딩 기술에 대해 협상합니다.

## SOP ##

IOD와 DIMSE의 조합은 SOP 클래스를 정의합니다. SOP 클래스 정의에는 DIMSE 서비스 그룹 또는 IOD의 속성에서 서비스 사용을 제한할 수 있는 규칙 및 의미가 포함됩니다. 서비스 요소의 예로는 저장, 가져오기, 찾기, 이동 등이 있습니다. 개체의 예로는 CT 이미지, MR 이미지가 있지만 일정 목록, 인쇄 대기열 등이 포함됩니다.

## 서비스 ##

DICOM은 주로 데이터 통신과 관련된 다양한 서비스를 제공합니다. 각각에 대해 간략하게 설명하면 다음과 같습니다.


**저장소:** DICOM 저장소 서비스는 이미지 또는 기타 개체를 PACS(사진 보관 및 통신 시스템) 또는 서버로 보냅니다.


**저장소 약정:** 저장소 약정 서비스는 이미지가 모든 유형의 미디어에 장치에 영구적으로 저장되었음을 확인하는 데 사용됩니다.


**Query/retrieve:** 이 서비스를 사용하면 워크스테이션에서 이미지 또는 기타 개체 목록을 찾은 다음 PACS에서 검색할 수 있습니다.


**양식 작업 목록:** 양식 작업 목록 서비스는 이미지 수집 장치에서 수행하도록 예약된 이미징 절차 목록을 제공합니다.


**인쇄:** 이 서비스는 이미지를 프린터로 보냅니다.

## IP를 통한 포트 번호 ##

DICOM은 다음 TCP 및 UDP 포트를 사용합니다.

1. 104
1. 2761
1. 2762
1. 11112

## 참조 ##

* [https://en.wikipedia.org/wiki/DICOM](https://en.wikipedia.org/wiki/DICOM)
* [https://www.leadtools.com/sdk/medical/dicom-spec](https://www.leadtools.com/sdk/medical/dicom-spec)
* [https://www.dicomstandard.org/concepts/](https://www.dicomstandard.org/concepts/)
* [https://www.dicomlibrary.com/dicom/](https://www.dicomlibrary.com/dicom/)

