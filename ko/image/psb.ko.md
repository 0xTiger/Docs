{
  "date" : "2019-10-11",
  "keywords" :[ "psb 파일", "psb 파일 형식", "psb 파일이란", "파일", "psb 예제", "psb 파일 확장자","확장자", "형식" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"PSB - Photoshop 큰 이미지 파일 형식",
  "description":"PSB 파일 형식과 PSB 파일을 만들고 열 수 있는 API에 대해 알아보세요.",
  "linktitle" : "PSB",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## .PSB 파일이란?
Adobe Photoshop은 파일을 두 가지 형식으로 저장합니다. 크기가 30,000 x 30,000픽셀인 파일은 PSD 확장자로 저장되고 PSD보다 큰 파일은 최대 300,000 x 300,000픽셀인 "Photoshop Big"이라는 PSB 확장자로 저장됩니다. 보다 구체적으로 말하면 PSB 파일은 높이와 너비가 최대 300,000픽셀인 이미지가 포함된 최대 4EB(42억 GB 이상) 크기일 수 있습니다. 반면 PSD는 최대 2GB, 이미지 크기는 30,000픽셀입니다.

PSB는 Photoshop의 대형 형식으로도 알려져 있으며 레이어, 효과 및 필터와 같은 모든 Photoshop 기능을 지원합니다. Photoshop은 PSB 파일을 [PSD](/ko/image/psd/), [JPG](/ko/image/jpeg/)로 변환할 수 있습니다. , [PNG](/ko/image/png/), [EPS](/ko/page-description-language/eps/), [GIF](/ko/image/gif/) 및 기타 형식도 가능합니다. Photoshop 환경 설정 대화 상자의 파일 처리 창 기능이 활성화되면 Photoshop 대용량 문서 형식을 사용할 수 있습니다.

## 파일 형식 정보 ##

Photoshop 파일 형식은 섹션 사이를 이동할 수 있는 많은 길이 마커가 있는 5개의 주요 부분으로 나뉩니다.

|파일 형식
---|
|파일 헤더
|컬러 모드 데이터
| 이미지 리소스
|레이어 및 마스크 정보
|((((
이미지 데이터
)))

### 파일 헤더 ###

파일 헤더는 26바이트의 고정 길이를 가지며 이미지의 기본 속성을 포함합니다.

BYTE 서명 [4] – '8BPS'와 동일합니다.

WORD 버전 [2] – 버전 번호, PSD # 1, PSB # 2.

BYTE Reserved [6] – 예약되어 있으며 항상 0입니다.

WORD 채널 [2] – 알파 채널을 포함한 이미지의 색상 채널 수입니다. 값의 범위는 1에서 56까지입니다.

긴 행 [4] – 픽셀 단위의 이미지 높이, PSD 1-30,000, PSB 1-300,000.

LONG 열 [4] – 픽셀 단위의 이미지 너비, PSD 1-30,000, PSB 1-300,000.

WORD Depth [2] – 채널당 비트 수. 지원되는 값은 1,8,16 및 32입니다.

WORD 모드 [2] – 파일의 색상 모드입니다.

#### 모드 설명 ####


|모드|설명
---|---|
|0|비트맵(흑백)
|1|그레이 스케일
|2|인덱싱됨
|3|RGB
|4|CMYK
|7|다중 채널
|8|이중톤(하프톤)
|9|실험실

### 컬러 모드 데이터 ###

파일 헤더 섹션 다음에 색상 모드 데이터 섹션이 옵니다. 블록은 바이트 단위의 블록 길이를 제공하는 LONG 숫자로 시작합니다. 컬러 모드 데이터의 구조는 다음과 같습니다.

4바이트 – 다음 색상 데이터의 길이입니다.

변수 – 색상 데이터

헤더 섹션의 모드 필드 값이 Indexed Color 또는 duotone이 아닌 경우 블록의 길이는 0이 되고 길이 필드 뒤에 데이터가 없습니다.

인덱스 컬러 이미지의 경우 길이는 768바이트이며 256색 팔레트를 포함합니다. 이중톤의 경우 데이터에는 화면 매개변수 및 기타 관련 정보가 포함됩니다.

### 이미지 리소스 ###

컬러 모드 데이터 섹션 다음의 세 번째 블록은 이미지 리소스 섹션입니다. 처음 4바이트는 일련의 리소스 블록이 뒤따르는 블록의 길이를 지정하는 LONG 숫자입니다. 이미지 리소스 블록의 구조는 다음과 같습니다.

BYTE 유형 [4] – 서명 '8BIM'

WORD ID [2] – 이미지 리소스 ID. 참조 링크에서 볼 수 있는 리소스 ID 목록이 있습니다.

BYTE 이름 [변수] – 이름: 짝수 길이의 파스칼 문자열. ** **

LONG Size [4] – 뒤에 오는 리소스 데이터의 실제 크기입니다.

BYTE 데이터 [변수} – 리소스 데이터. 균일한 사이즈가 되도록 패딩 처리되어 있습니다.

리소스 형식 중 일부는 아래에 간략하게 설명되어 있습니다.

**그리드 및 가이드 리소스 형식:** 그리드 및 가이드 정보는 리소스 블록에 저장됩니다. 이러한 리소스 블록은 16바이트 그리드와 가이드 헤더와 5바이트 가이드 정보 블록을 포함합니다.

**썸네일 리소스 형식:** 썸네일 정보는 28바이트 헤더와 RGB의 JFIF 썸네일로 구성된 미리보기 표시를 위한 이미지 리소스 블록에 저장됩니다.

**색상 샘플러 리소스 형식:** 색상 샘플러 정보는 8바이트 헤더와 색상 샘플러 정보의 가변 길이 블록이 있는 이미지 리소스 블록에 저장됩니다.

### 레이어 및 마스크 정보 ###

네 번째 블록은 레이어 및 마스크 정보 블록으로 레이어 및 마스크에 대한 정보를 포함합니다. 레이어 정보가 먼저 저장된 다음 마스크 정보가 저장됩니다.

**레이어 정보:** 레이어 정보는 레이어 정보의 길이를 나타내는 LONG 값으로 시작합니다. 그 다음에 따라야 할 레이어 레코드의 수를 나타내는 WORD 값 카운트가 있습니다.

[8] - 레이어의 길이

[2] – 레이어 수

[Variable] – 각 레이어에 대한 정보입니다.

[변수] – 채널 이미지 데이터.** **

**마스크 정보:** 마스크 구조의 형식은 다음과 같습니다.


|데이터 구조|필드 이름| 설명
---|---|---|
|단어| 오버레이 색 공간| (문서화되지 않음)
|바이트[8]| 색상 구성 요소| 4x2바이트 색상 구성 요소
|단어| 불투명도| 0#투명, 1#불투명
|바이트| 종류| 0#반전, 1#보호됨, 128#저장된 값 사용
|바이트| 패딩| 0으로 설정

### 이미지 데이터 ###

마지막 섹션에는 이미지 픽셀 데이터가 포함됩니다. 이미지 데이터는 평면에 일련의 시퀀스로 저장됩니다. 즉, 먼저 모든 빨간색 데이터, 그 다음에는 모든 녹색 데이터 등입니다. 각 라인의 시작 부분에 있는 WORD는 각 스캔 라인과 관련된 바이트 단위의 크기를 보여줍니다.

[2] – 압축 방법:

[변수] – 평면 순서의 이미지 데이터(예: RRRR, GGGG, BBBB 등)

압축 방법:

0 – Raw 이미지 데이터

1 - RLE 압축

2 – 예측 없는 Zip

3 – 예측이 포함된 Zip

## 참조 ##

* [PSB 파일 형식 - Adobe 제공](https://www.adobe.com/devnet-apps/photoshop/fileformatashtml/)
* [PSB - Wikipedia](https://en.wikipedia.org/wiki/Adobe_Photoshop#File_format)

