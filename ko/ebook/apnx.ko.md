{
  "date" : "2021-03-11",
  "keywords" :[ "APNX", "Amazon 페이지 번호 색인", "확장자", "파일", "형식", "eBook", "Amazon Kindle" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description":"APNX 파일을 생성하고 열 수 있는 Amazon APNX 파일 형식과 API에 대해 알아보세요.",
  "title" :"APNX - Amazon 페이지 번호 색인",
  "linktitle" : "APNX",
  "menu" : {
    "docs" : {
      "parent" : "ebook"
}
},
  "lastmod" : "2021-05-28"
}

## .APNX 파일이란? ##

.apnx 확장자를 사용하는 Amazon 페이지 번호 색인 파일은 eBook 파일 유형입니다. 아마존 킨들에서 사용. 이러한 파일은 실제로 Kindle 장치에서 사용하는 페이지 매김 파일로 알려져 있습니다. 따라서 APNX 파일은 일반적으로 Kindle eBook의 페이지를 표시하기 위해 생성됩니다. 페이지 매김 기능은 3.1 펌웨어부터 Amazon Kindle 장치에서 시작되었습니다. 페이지 인덱스에 대한 APNX 파일을 조사한 다음 원본 인쇄 책의 페이지 번호와 매핑합니다. 이 파일은 Amazon eBook 파일과 함께 Kindle 장치에 저장됩니다. APNX 파일을 열거나 편집할 수 없습니다.

## APNX 파일 형식 사양 ##

### 레이아웃

|바이트| 내용| 코멘트|
---|---|---|
|4 |00010001 | 형식 식별자. 65537 리틀 엔디안 값.|
|4 |다음 시작 | 첫 번째 헤더의 끝 위치 이후 오프셋입니다. 헤더 정보의 새로운 시퀀스를 시작합니다|
|4 |길이| 첫 번째 헤더의 길이|
|N |첫 번째 헤더 | 콘텐츠 헤더를 포함하는 문자열입니다. 다음 시퀀스 시작|
|2 |알 수 없음 | 항상 1|
|2 |길이 | 두 번째 헤더의 길이|
|2 |페이지 수 | 페이지를 나타내는 두 번째 헤더 이후의 총 바이트 수입니다. 이 합계에는 pageMap에서 무시되는 바이트가 포함됩니다.|
|2 |알 수 없음 | 항상 32|
|N |두 번째 헤더 | 페이지 매핑 헤더를 포함하는 문자열|
|4*N |패딩 | 페이지 매핑 헤더에 지정된 첫 번째 숫자는 0바이트 수를 나타냅니다.|
|4*N |페이지 목록 ||

### 콘텐츠 헤더

콘텐츠 헤더는 키, 값 쌍을 포함하는 {}로 묶인 문자열로 구성됩니다.

|내용| 코멘트|
---|---|
|콘텐츠 안내| 안내.|
|아신 | 책의 Kindle 버전에 대한 Amazon 식별자입니다.|
|cde유형 | MOBI CDE 유형. 전자책의 경우 항상 EBOK여야 합니다.|
|파일 개정 ID | 이 파일의 개정판입니다.|

#### 예시
```
{"contentGuid":"d8c14b0","asin":"B000JML5VM","cdeType":"EBOK","fileRevisionId":"1296874359405"}
```
### 페이지 매핑 헤더
페이지 매핑 헤더는 키, 값 쌍을 포함하는 {}로 묶인 문자열로 구성됩니다.

|내용 | 코멘트|
---|---|
|아신 | 페이지가 해당하는 종이 책의 ISBN 10|
|페이지맵| 세 가지 값 튜플. "(N,N,N)\
1) 페이지 번호 매기기 시퀀스를 시작하는 헤더 뒤의 바이트 수\
2) 알 수 없음\
3) 알 수 없음\|
#### 예시
```
{"asin":"1906694184","pageMap":"(4,a,1)"}
```

### 페이지 목록

페이지 목록은 원시 HTML의 오프셋 시퀀스입니다. 각
값은 새 페이지의 시작입니다. 모든 항목은 4바이트 빅 엔디안입니다.
정수



## 참고문헌

* [Amazon APNX 파일 형식](https://nachtimwald.com/2011/02/09/amazon-apnx-file-format/)
* [APNX - MobileRead Wiki 작성](https://wiki.mobileread.com/wiki/APNX)

