{
  "date": "2019-10-11",
  "keywords": [
"فایل shp",
"فرمت فایل shp",
"فایل shp چیست",
"فایل",
"shp مثال",
"پسوند فایل shp",
"افزونه",
"قالب"
],
  "author": {
    "display_name": "Kashif Iqbal"
},
  "draft": "false",
  "toc": true,
  "title": "SHP - ESRI Shapefile",
  "description": "درباره فرمت فایل SHP و APIهایی که می توانند فایل های SHP را ایجاد و باز کنند، بیاموزید.",
  "linktitle": "SHP",
  "menu": {
    "docs": {
      "parent": "gis",
      "identifier": "gis-sh-fap"
}
},
  "lastmod": "2019-09-10"
}

## فایل SHP چیست؟

SHP پسوند فایل برای یکی از انواع فایل های اصلی است که برای نمایش ESRI Shapefile استفاده می شود. این اطلاعات مکانی را در قالب داده های برداری برای استفاده توسط برنامه های کاربردی سیستم های اطلاعات جغرافیایی (GIS) نشان می دهد. این فرمت به عنوان مشخصات باز به منظور تسهیل قابلیت همکاری بین ESRI و سایر محصولات نرم افزاری توسعه یافته است.

## بازنمایی داده ها

همانطور که گفته شد، یک فرمت فایل شکل، اطلاعات مکانی یک مجموعه داده را به عنوان ویژگی های برداری توصیف می کند. این ویژگی های برداری عبارتند از:

* نکته ها

* خطوط

* چند ضلعی ها


این ویژگی‌ها در ترکیب می‌توانند تقریباً هر نوع شکلی مانند چاه‌های آب، مرزهای کشور، نقاط فضایی، جریان رودخانه‌ها، دریاچه‌ها و غیره را نشان دهند. هر ویژگی برداری می‌تواند ویژگی‌هایی داشته باشد که در واقع هدف آن ویژگی را مشخص می‌کند. به عنوان مثال، یک شکل فایل حاوی شهرهای لس آنجلس می‌تواند نام شهر و دما را به عنوان ویژگی داشته باشد که نمایش معنی‌داری به داده‌های مکانی می‌دهد.

## فایل های مرتبط

یک فایل shp مستقل نمی‌تواند توسط برنامه‌های نرم‌افزاری برای معنا بخشیدن به داده‌های موجود استفاده شود. به منظور درک اطلاعات موجود در چنین فایلی، یک shapefile از فایل های اجباری اضافی زیر استفاده می کند.

* فایل shx - فایل فهرست

* فایل dbf - یک فایل dBASE که تمام ویژگی های اشکال را در فایل اصلی ذخیره می کند.

* فایل prj - اطلاعات پروژه فایل را ذخیره می کند


می‌تواند فایل‌های اختیاری دیگری نیز وجود داشته باشد که نامی مشابه با فایل اصلی دارند.

## مشخصات فرمت فایل SHP

مشخصات باز شکل فایل به صورت آنلاین از ESRI به شکل [Technical Description](https://www.esri.com/content/dam/esrisites/sitecore-archive/Files/Pdfs/library/whitepapers/pdfs/shapefile.pdf) در دسترس است و ساختار کلی فایل را به تفصیل شرح می دهد. اطلاعات موجود در فایل اصلی .shp از سربرگ ها و رکوردها تشکیل شده است. هدر فایل با طول ثابت با رکوردهای با طول متغیر دنبال می‌شود که در آن هر رکورد از یک هدر رکورد با طول ثابت و به دنبال محتوای رکورد با طول متغیر تشکیل شده است.

### هدر فایل اصلی SHP

سربرگ اصلی فایل از ابتدای فایل شروع می شود و 100 بایت طول دارد. سازماندهی هدر این فایل اصلی به همراه موقعیت بایت، مقدار، نوع و ترتیب بایت مطابق جدول زیر است.


|بایت|فیلد|مقدار|نوع|ترتیب بایت
---|---|---|---|---|
|0-3|کد فایل|9994|عدد صحیح|بیگ اندیان
|4-23|استفاده نشده|0|عدد صحیح|بزرگ اندین
|24-27|طول فایل|طول فایل|عدد صحیح|بزرگ اندیان
|28-31|نسخه|1000|عدد صحیح|اندیان کوچک
|32-35|نوع شکل|نوع شکل|عدد صحیح|اندیان کوچک
|36-67|حداقل مستطیل مرزی|Xmin، Ymin، Xmax و Ymax|دوبل|اندیان کوچک
|68-83|Bounding Box|Zmin، Zmax|دوبل|Endian کوچولو
|84-99|Bounding Box|Mmin،Mmax|دوبل|

لازم به ذکر است که مقدار طول فایل، طول کل فایل در کلمات 16 بیتی است که شامل 50 کلمه 16 بیتی تشکیل دهنده هدر نیز می شود.

#### انواع شکل

مقادیر فیلد انواع شکل در جدول فوق به شرح زیر است:


|مقدار|نوع شکل
---|---|
|0|Null Shape
|1|نقطه
|3|پلی لاین
|5|چند ضلعی
|8|چند نقطه
|11|PointZ
|13|PolyLineZ
|15|PolygonZ
|18|MultiPointZ
|21|نقطهM
|23|PolyLineM
|25|PolygonM
|28|MultiPointM
|31|MultiPatch

### سوابق داده ###

هدر فایل اصلی با رکوردهای با طول متغیر دنبال می شود که در آن هر رکورد از یک هدر رکورد با طول ثابت و به دنبال محتوای رکورد با طول متغیر تشکیل شده است.

#### هدر رکورد ####

هدر رکورد حاوی اطلاعاتی در مورد تعداد رکورد و طول محتوای رکورد در طول ثابت 8 بایت است. سازماندهی هدر رکورد به صورت زیر است:


|بایت|فیلد|مقدار|نوع|ترتیب بایت
---|---|---|---|---|
|0-3|تعداد رکورد|عدد رکورد|عدد صحیح|بزرگ
|4-7|طول رکورد|طول رکورد|عدد صحیح|بزرگ

#### ضبط مطالب ####

محتویات رکورد شکل فایل از یک نوع شکل تشکیل شده است که با داده های هندسی آن شکل همراه است. یک نوع شکل 0 نشان دهنده یک شکل پوچ است که هیچ داده هندسی برای شکل ندارد. طول محتویات رکورد منعکس کننده قسمت های شکل و رئوس است. اجازه دهید مثالی از نوع Point Shape بزنیم تا توضیح دهیم که چگونه یک رکورد حاوی اطلاعات مربوط به چنین نوع شکلی است.

یک نقطه نشان دهنده یک مکان جغرافیایی خاص به ترتیب X,Y است که در آن هر مختصات با یک مقدار دقت دوگانه نشان داده می شود. جدول زیر آرایش یک نوع شکل نقطه ای را نشان می دهد.


|بایت|نوع شکل|مقدار|نوع|تعداد|ترتیب بایت
---|---|---|---|---|---|
|0-3|نوع شکل|1|عدد صحیح|1|کم
|4-11|X|X|دوبل|1|کم
|12-19|Y|Y|دوبل|1|کم

Examples of other shape types can be found the ESRI technical description document.

## منابع ##

* [توضیحات فنی Shapefile ESRI](https://www.esri.com/content/dam/esrisites/sitecore-archive/Files/Pdfs/library/whitepapers/pdfs/shapefile.pdf) توسط ESRI


