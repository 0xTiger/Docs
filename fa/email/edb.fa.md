{
  "date": "2019-10-11",
  "author": {
    "display_name": "Kashif Iqbal"
}،
  "draft": "false",
  "toc": true,
  "title": "فرمت فایل EDB - فایل پایگاه داده تبادل ایمیل",
  "description": "درباره فرمت فایل EDB و APIهایی که می‌توانند فایل‌های EDB را ایجاد و باز کنند، بیاموزید.",
  "linktitle": "EDB",
  "menu": {
    "docs": {
      "parent": "email",
      "identifier": "email-ed-fab"
}
}،
  "lastmod": "2020-09-16"
}

## فایل EDB چیست؟

یک فایل با پسوند فایل .edb پایگاه داده صندوق پستی است که توسط Microsoft Exchange Server برای ذخیره داده های مربوط به نامه ایجاد شده است. EDB، پایگاه داده Exchange، پیام هایی را که در حال پردازش هستند و غیر SMTP هستند ذخیره می کند. EDB همچنین به عنوان فایل های پایگاه داده موتور ذخیره سازی توسعه پذیر (ESE) شناخته می شود و فایل ها را با استفاده از ساختار b-tree ذخیره می کند. فایل‌های EDB که فایل‌های ذخیره‌سازی هستند، می‌توانند به فرمت‌های فایل ذخیره‌سازی ایمیل دیگر مانند [PST](/email/pst/) و [OST](/email/ost/) تبدیل شوند.

## فرمت فایل EDB

هیچ مشخصات فرمت فایل EDB رسمی/بازی وجود ندارد که بتوان به آن اشاره کرد. پیشرفت هایی برای مهندسی معکوس فرمت فایل انجام شده است که منجر به رمزگشایی جزئی مشخصات می شود. طبق این موارد، یک فایل EDB شامل موارد زیر است:
 * File Header - حاوی اطلاعات سرصفحه فایل پایگاه داده است
 * صفحات با اندازه ثابت - شامل پایگاه داده ای است که از جداول و نمایه ها تشکیل شده است

### سربرگ فایل پایگاه داده
هدر فایل پایگاه داده در اولین صفحه پایگاه داده قرار دارد و حداقل 668 بایت است. هدر فایل شامل «نسخه فرمت فایل» و «نوع فایل» علاوه بر فیلدهای دیگر است.

#### انواع فایل
|نوع|توضیحات
---|---|
|0| پایگاه داده|
|1| استریم|

«توجه:» شناسه‌های این انواع مشخص نیست.

#### نسخه فرمت فایل
قالب اصلی EDB در آوریل 1997 شروع شد و پس از آن برای تغییرات ادامه یافت.

|Revsion Date|Version|Revision|description
---|---|---|---|
| فروردین 97| 0x00000620|0x00000000| فرمت بتا سیستم عامل اصلی.|
|اردیبهشت 97 |0x00000620|0x00000001| برای نمایه سازی مشروط و OLD ستون هایی را در کاتالوگ اضافه کنید.|
|Jun 1997|0x00000620|0x00000002|پرچم fLocalizedText را در IDB اضافه کنید.|
| اکتبر 1997|0x00000620|0x00000003|افزودن SPLIT_BUFFER به صفحات ریشه درخت فضایی.|
|Jan 1998|0x00000620|0x00000002|بازگرداندن نسخه به منظور سازگاری ESE97.|
||0x00000620|0x00000003|اضافه کردن ستون های برچسب گذاری شده جدید به کاتالوگ (CallbackData و Callback Dependencies).|
|می 1998|0x00000620|0x00000004|پشتیبانی از Super Long Value (SLV): signSLV، fSLVE در dbheader وجود دارد.|
|اردیبهشت 98|0x00000620|0x00000005|درخت فضایی جدید SLV.|
|اکتبر 1998|0x00000620|0x00000006|نقشه فضایی SLV.|
|دسامبر 1998|0x00000620|0x00000007|IDXSEG 4 بایتی.|
|Jan 1999|0x00000620|0x00000008|قالب ستون جدید قالب.|
|ژوئن 1999|0x00000620|0x00000009|ستون های قالب مرتب شده. مورد استفاده در ویندوز XP SP3|
||0x00000620|0x0000000b|حاوی سرصفحه صفحه با checksum ECCUsed in Exchange|
||0x00000620|0x0000000c|مورد استفاده در ویندوز ویستا (SP0)|
||0x00000620|0x00000011|پشتیبانی از صفحات 2 کیلوبایتی، 16 کیلوبایتی و 32 کیلوبایتی. هدر صفحه گسترده با جمع های کنترلی اضافی ECC. فشرده سازی ستون. نکات فضایی. مورد استفاده در ویندوز 7 (SP0)|
|اردیبهشت 99|0x00000623|0x00000000|مدیر فضای جدید.|

### فایل های پایگاه داده

فایل پایگاه داده EDB شامل طرحی برای تمام جداول در پایگاه داده است. علاوه بر این، همچنین شامل رکورد برای تمام جداول پایگاه داده و فهرست برای جداول است. مکان آن با شناسه های زیر مشخص می شود.

* پایگاه داده JetCreate

* JetCreateDatabase2

* پایگاه داده JetAttach

* JetAttachDatabase2


بر اساس این موارد، وضعیت پایگاه داده را می توان به صورت زیر ارزیابی کرد.

|مقدار|شناسه|توضیحات
---|---|---|
|1|JET_dbstateJustCreated|پایگاه داده به تازگی ایجاد شد.|
|2|JET_dbstateDirtyShutdown| پایگاه داده برای اینکه قابل استفاده یا متحرک شود نیاز به بازیابی سخت یا نرم دارد. نباید سعی کرد پایگاه های داده را در این حالت جابه جا کرد.|
|3|JET_dbstateCleanShutdown|پایگاه داده در حالت تمیز است. پایگاه داده را می توان بدون هیچ فایل لاگ پیوست کرد.|
|4|JET_dbstateBeingConverted|پایگاه داده در حال ارتقا است.|
|5|JET_dbstateForceDetachInternal|این مقدار در WindowsXP معرفی شده است|
 
## منابع
 * [مشخصات فایل پایگاه داده موتور ذخیره سازی توسعه پذیر (ESE) (EDB)](https://github.com/libyal/libesedb/tree/main/documentation)

