{
  "date": "2019-10-11",
  "keywords": [
"فایل dng",
"فرمت فایل dng",
"فایل dng چیست",
"فایل",
"نمونه dng",
"پسوند فایل dng",
"افزونه",
"قالب"
],
  "author": {
    "display_name": "Kashif Iqbal"
},
  "draft": "false",
  "toc": true,
  "title": "DNG - فرمت فایل تصویر دوربین دیجیتال",
  "description": "درباره فرمت فایل DNG و APIهایی که می‌توانند فایل‌های DNG را ایجاد و باز کنند، بیاموزید.",
  "linktitle": "DNG",
  "menu": {
    "docs": {
      "parent": "image",
      "identifier": "image-dn-fag"
}
},
  "lastmod": "2019-09-10"
}

## فایل DNG چیست؟

DNG is a digital camera image format used for the storage of raw files. It has been developed by Adobe in September 2004. اساساً برای عکاسی دیجیتال توسعه داده شد. DNG پسوندی از فرمت استاندارد [TIFF](/image/tiff/)/EP است و به طور قابل توجهی از فراداده استفاده می کند. به منظور دستکاری داده های خام از دوربین های دیجیتال با سهولت انعطاف پذیری و کنترل هنری، عکاسان فایل های خام دوربین را انتخاب می کنند. فرمت‌های JPEG و TIFF تصاویری را که توسط دوربین پردازش می‌شوند ذخیره می‌کنند، بنابراین در چنین فرمت‌هایی فضای زیادی برای تغییر وجود ندارد.

## تاریخچه و نسخه های فرمت فایل DNG

Till now there have been 5 versions of DNG specification so far. Version 1.0.0.0 was launched in September 2004 along with the release of "2.3" (ACR and DNG Converter). In February 2005 version 1.1.0.0 was published.  In May 2008 version 1.2.0.0 was released and was used in "4.4". Version 1.3.0.0 was published in June 2009. نسخه 1.4.0.0 در سال 2012 ظاهر شد.

## فرمت فایل DNG

در حالی که فایل های خام دوربین داده های پردازش نشده یا کم پردازش را مستقیماً از سنسور می گیرند. از آنجایی که آنها شبیه نگاتیوهای فیلم هستند، فرمت های خام دوربین نیز به عنوان نگاتیوهای دیجیتال شناخته می شوند. مزیت فرمت های خام افزایش کنترل هنری برای کاربر نهایی است. کاربر می تواند محدوده پارامترهای مختلف را با توجه به نیازهایی مانند تعادل رنگ سفید، نقشه برداری تن، کاهش نویز، وضوح و غیره تنظیم کند. از طرف دیگر، فایل خام دوربین باید برای هر گونه استفاده از طریق هر نرم افزار یا از طریق مبدل پردازش شود.

از آنجایی که هیچ فرمت استانداردی برای فایل‌های خام دوربین وجود نداشت، مشکلات متعددی را برای کاربر نهایی ایجاد کرد. این مشکلات توسط Adobe برطرف شد و یک فرمت غیر اختصاصی برای فایل های خام دوربین تعریف کرد. این فرمت با نام Digital Negative یا DNG شناخته می شود. DNG می تواند توسط طیف گسترده ای از سخت افزارها و نرم افزارها برای پردازش فایل های خام استفاده شود. علاوه بر این، DNG همچنین می تواند به عنوان یک فرمت میانی برای ذخیره تصاویری که در اصل توسط دوربین هایی که فرمت های خام اختصاصی خود را دارند، گرفته شده است، استفاده شود.

### مشخصات فرمت فایل DNG

در این بخش فرمت DNG را به عنوان پسوند TIFF 6.0 توضیح خواهیم داد.

* **افزونه های فایل**: DNG از پسوندهای ".DNG" یا ".TIF" استفاده می کند.

* **درختان SubIFD**: DNG از زنجیره های SubIFD پشتیبانی نمی کند، در عوض DNG استفاده از درختان SubIFD را همانطور که در مشخصات TIFF-EP ذکر شده توصیه می کند. بالاترین کیفیت و وضوح ممکن است از NewSubFileType 0 استفاده کند، در حالی که تصاویر کوچک با کیفیت کاهش یافته باید از NewSubFileType برابر با 1 استفاده کنند. همچنین توصیه می شود اگرچه لازم نیست اولین IFD دارای تصویر کوچک با کیفیت یا وضوح پایین باشد.

* **ترتیب بایت**: سفارش بایت باید توسط خواننده های DNG پشتیبانی شود، همچنین برای فایل های یک مدل دوربین خاص.

* **پیکسل های ماسک شده**: اکثر سنسورهای دوربین پیکسل های کاملاً پوشانده شده را در لبه سنسور از طریق رمزگذاری سیاه محاسبه می کنند. این پیکسل‌ها را می‌توان قبل از ذخیره‌سازی تصویر در فرمت DNG اضافه کرد یا برش داد. اگر پیکسل های ماسک شده بریده نشده باشند، باید مساحت این پیکسل ها در تگ ActiveArea ذکر شود. اطلاعات جمع‌آوری‌شده از این پیکسل‌ها در مورد سطح کدگذاری سیاه باید برای قبل از ذخیره داده‌های خام استفاده شود یا ممکن است در فایل DNG گنجانده شود که سطح سیاهی را مشخص می‌کند.

* **پیکسل های معیوب**: قبل از ذخیره داده های خام به عنوان DNG، پیکسل های معیوب باید حذف شوند.

* **فراداده**: فراداده ممکن است به یکی از روش های زیر در DNG گنجانده شود:  

** با استفاده از تگ های فراداده TIFF-EP یا EXIF
** از طریق تگ فراداده IPTC (33723)
** استفاده از تگ فراداده XMP (700)
* **اطلاعات اختصاصی**: معمولا فروشندگان داده های اختصاصی را در فایل خام قرار می دهند تا توسط مبدل های خودشان استفاده شود. DNG داده های اختصاصی خود را در برچسب های خصوصی، IFD های خصوصی و در MakerNote خصوصی ذخیره می کند. فروشندگان باید از برچسب‌های DNGPrivateData و MakerNoteSafety استفاده کنند تا مطمئن شوند برنامه‌هایی که فایل‌های DNG را ویرایش می‌کنند این داده‌های اختصاصی را حفظ می‌کنند.


در زیر برخی از محدودیت ها و الحاقات مهم برچسب های TIFF آورده شده است.

**BitsPerSample**

8 تا 32 بیت / نمونه پشتیبانی می شود. هنگامی که SamplesPerPixel برابر با 1 نیست، باید عمق یکسانی برای هر نمونه وجود داشته باشد. اما اگر BitsPerSample برابر با 8 یا 16 یا 32 نباشد، بیت ها باید با استفاده از FillOrder پیش فرض TIFF 1 (big-endian) در بایت ها بسته بندی شوند.

**فشرده سازی**

دو مقدار تگ فشرده سازی پشتیبانی می شود:

* مقدار # 1: داده های فشرده نشده.

* مقدار # 7: داده های فشرده JPEG، یا DCT JPEG پایه، یا فشرده سازی JPEG بدون تلفات.


**تفسیر عکاسی**

مقادیر زیر فقط برای IFD های کوچک و پیش نمایش پشتیبانی می شوند:

* 1 = BlackIsZero. فرض بر این است که در فضای رنگی گاما 2.2 قرار دارد.

* 2 = RGB. فرض می شود در فضای رنگی sRGB باشد.

* 6 = YCbCr. برای تصاویر پیش نمایش با کد JPEG استفاده می شود.


مقادیر زیر برای IFD خام پشتیبانی می‌شوند و فضای رنگی اصلی دوربین در نظر گرفته می‌شوند:

* 32803 # CFA (آرایه فیلتر رنگی).

* 34892 # LinearRaw.


**گرایش**

تگ جهت برای مرورگرهای فایل استفاده می شود تا بتوانند چرخش بدون تلفات فایل های DNG را انجام دهند. خوانندگان DNG باید از تمام جهت گیری های ممکن، از جمله جهت گیری های آینه ای پشتیبانی کنند.

## ویژگی های آخرین نسخه DNG

DNG نسخه 1.4 اکتبر 2012 دارای ویژگی های پیشرفته زیر است.

* برش پیش فرض کاربر

* شفافیت

* نقطه شناور (HDR)

* فشرده سازی از دست رفته

* پروکسی ها


## منابع ##

* [مشخصات DNG - توسط Adobe](https://web.archive.org/web/20170829200857/http://wwwimages.adobe.com/content/dam/Adobe/en/products/photoshop/pdfs/dng_spec_1.4.0 .0.pdf)

* [Digital Negative - Wikipedia](https://en.wikipedia.org/wiki/Digital_Negative)

* [DNG - فرمت بایگانی عمومی برای داده‌های خام دوربین دیجیتال](https://helpx.adobe.com/camera-raw/digital-negative.html)


