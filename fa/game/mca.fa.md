{
  "date": "2022-12-13",
  "author": {
    "display_name": "Kashif Iqbal"
},
  "draft": "false",
  "toc": true,
  "description": "درباره فرمت فایل MCA و APIهایی که می‌توانند فایل‌های MCA را ایجاد و باز کنند، بیاموزید.",
  "title": "MCA - فرمت فایل منطقه سندان Minecraft",
  "linktitle": "MCA",
  "menu": {
    "docs": {
      "parent": "game",
      "identifier": "game-mc-faa"
}
},
  "lastmod": "2022-12-13"
}

## فایل MCA چیست؟

فرمت فایل منطقه Minecraft Anvil یک فرمت ذخیره‌سازی داده است که برای ذخیره تکه‌های زمین از Minecraft World در بازی ویدیویی محبوب **Minecraft** استفاده می‌شود. دنیای Minecraft شامل مناطقی است که هر منطقه به بخش هایی تقسیم می شود. فرمت فایل MCA امکان ذخیره سازی کارآمد مقادیر زیادی از داده های بازی، مانند مکان بلوک ها و موجودیت ها در یک بخش خاص از دنیای بازی را فراهم می کند. فایل‌های MCA باید با سایر فایل‌های MCA ترکیب شوند تا یک جهان کامل ایجاد شود.

فرمت فایل Anvil Region علاوه بر ذخیره داده های بازی، از انواع مختلف داده های دیگر مانند داده های پخش کننده و متادیتا نیز پشتیبانی می کند. این امکان ذخیره سازی کارآمد تمام اطلاعات مورد نیاز برای بازسازی کامل یک تکه خاص از دنیای بازی، از جمله مکان بلوک ها، موجودیت ها و سایر اشیاء بازی را فراهم می کند.

## فرمت فایل MCA - اطلاعات بیشتر

فرمت فایل ناحیه Anvil گونه ای از فرمت NBT (برچسب باینری نامگذاری شده) است که یک ساختار درخت مانند سلسله مراتبی برای ذخیره داده ها در یک فایل باینری است. این امکان ذخیره کارآمد ساختارهای داده پیچیده را در قالبی فشرده و خوانا فراهم می کند.

### تکه ها در فایل MCA

در Minecraft، یک قطعه یک منطقه بلوکی 16x16x16 از دنیای بازی است که در حافظه بارگذاری شده و بر روی صفحه نمایش بازیکن رندر می شود. فرمت فایل منطقه Anvil تمام داده ها را برای یک تکه خاص در یک فایل ذخیره می کند، که در صورت نیاز می تواند به سرعت در حافظه بارگذاری شود. این امکان ذخیره سازی کارآمد و دسترسی سریع به داده های بازی را فراهم می کند، که برای تضمین یک تجربه بازی روان و بدون درز مهم است.

### اندازه فایل MCA کوچک

یکی از ویژگی های کلیدی فرمت فایل Anvil Region استفاده از فشرده سازی آن است. این امکان ذخیره سازی کارآمد مقادیر زیادی از داده ها را فراهم می کند، بدون اینکه کیفیت داده ها یا سرعت دسترسی به آنها را به خطر بیندازد. این کار با استفاده از تکنیک‌های مختلفی مانند فشرده‌سازی gzip و فشرده‌سازی داده‌های تکه‌ای انجام می‌شود.

فرمت فایل فشرده فایل های MCA آن را به بخش مهمی از سیستم ذخیره سازی و مدیریت داده های بازی تبدیل می کند. استفاده کارآمد از فشرده‌سازی و پشتیبانی از انواع داده‌های مختلف، امکان ذخیره‌سازی کارآمد و دسترسی سریع به داده‌های بازی را فراهم می‌کند و تجربه بازی یکنواخت و بدون درز را برای بازیکنان تضمین می‌کند.

## ساختار فرمت فایل MCA

ساختار فرمت فایل داخلی فایل های MCA شامل موارد زیر است:
 * سربرگ و الف
 * ظرفیت ترابری

### سربرگ MCA

هدر یک فایل منطقه MCA با یک هدر 8KiB شروع می شود که به دو جدول 4KiB تقسیم می شود. جدول اول شامل افست تکه ها در خود فایل منطقه است، در حالی که جدول دوم مهرهای زمانی را برای آخرین به روز رسانی این تکه ها ارائه می دهد.

### MCA Payload

MCA Payload از تکه هایی تشکیل شده است که در آن هر داده تکه با یک فیلد چهار بایتی (بزرگ اندین) شروع می شود. این فیلد طول دقیق داده های تکه باقی مانده را در بایت نشان می دهد. داده های آخرین تکه به طول چند برابر از 4096B اضافه شده است. فایل‌هایی که آخرین تکه در آن‌ها پر نشده است توسط Minecraft پذیرفته نمی‌شوند.

## نحوه باز کردن فایل های MCA

شما می توانید فایل های MCA را با استفاده از برنامه MCEdit که یک ویرایشگر رایگان و منبع باز برای Minecraft است باز کرده و ویرایش کنید. می‌توانید از وب‌سایت رسمی [download MCEdit](https://www.mcedit.net/) استفاده کنید و از آن برای باز کردن و مشاهده محتوای فایل منطقه سندان خود استفاده کنید.

هنگامی که MCEdit را نصب کردید، می توانید فایل منطقه Anvil خود را با دنبال کردن این مراحل باز کنید:

 1. MCEdit را شروع کنید و روی دکمه Open در گوشه سمت چپ بالای پنجره کلیک کنید.

 1. در کادر محاوره‌ای «دنیای باز»، به محل فایل منطقه Anvil خود بروید و آن را انتخاب کنید.

 1. روی دکمه Open کلیک کنید تا فایل در MCEdit باز شود.

 1. MCEdit فایل را بارگذاری می کند و محتویات آن را در پنجره اصلی نمایش می دهد. سپس می توانید از ابزارها و ویژگی های موجود در MCEdit برای مشاهده، ویرایش و استخراج داده ها از فایل منطقه Anvil استفاده کنید.

## منابع

* [ویرایشگر جهانی برای Minecraft](https://www.mcedit.net/)

* [درباره Minecraft](https://www.minecraft.net/)

* [فرمت فایل منطقه](https://minecraft.wiki/w/Region_file_format)


