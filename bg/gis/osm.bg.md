{
  "date" : "2019-10-11",
  "keywords" :[ "osm файл", "какво е osm файл", "файл", "osm пример", "osm файлово разширение", "разширение", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"OSM - OpenStreetMap файлов формат",
  "description":"Научете за OSM файловия формат и API, които могат да създават и отварят OSM файлове.",
  "linktitle" : "OSM",
  "menu" : {
    "docs" : {
      "parent" : "gis"
}
},
  "lastmod" : "2019-09-10"
}

## Какво е OSM файл?

OpenStreetMap (OSM) е огромна колекция от доброволни магазини за географска информация в различни типове файлове, използващи различни схеми за кодиране за преобразуване на тези данни в битове и байтове. OSM е съвместно усилие за създаване на безплатна редактируема карта на света. Основният резултат от това съвместно усилие са географските данни, а не самата карта. Ограниченията върху използването или наличността на географска информация в голяма част от света предизвикват необходимостта от създаване на OSM. Наличните данни от OSM са готови да заменят Google Maps за класически приложения (Facebook, Craigslist и т.н.) и данните по подразбиране за приложенията на GPS приемника.^^ ^^Въпреки че качеството на данните е различно в целия свят, все пак данните на OpenStreetMap могат удобно да се сравняват с патентни източници на данни.

## Кратка история ##

Вдъхновен от успеха на Уикипедия, през 2004 г. Стив Коуст, британски предприемач, създава този базиран на общността проект за картографиране на света в Обединеното кралство. Първоначално той се фокусира върху картографирането на Обединеното кралство. OpenStreetMap Foundation беше създадена за първи път през април 2006 г., за да подпомогне еволюцията, разширяването и разпространението на безплатни геопространствени данни за всеки. През декември 2006 г. Yahoo подпомогна OpenStreetMap със своята въздушна фотография за създаване на карти. Пълните пътни данни за Холандия и данните за главните пътища за Индия и Китай бяха предоставени на OSM през април 2007 г. от Automotive Navigation Data (AND). През декември 2007 г. Оксфордският университет беше най-известната организация, която интегрира данни на OpenStreetMap в основния си уебсайт. Оттогава над 2 милиона регистрирани потребители допринасят с данни в този проект, използвайки GPS устройства, въздушна фотография и ръчни проучвания. Тези предоставени от общността данни се предоставят под лиценза за отворена база данни. Регистрирана в Англия организация с нестопанска цел OpenStreetMap Foundation поддържа сайта на OSM.

## OSM файлов формат ##

Има много начини и файлови формати за съхраняване на географски данни, но файловият формат **OSM** е ограничен до OpenStreetMap. OSM е специално разработен стандартен формат, предназначен за лесно транспортиране в интернет. Структуриран подреден формат, кодиран в XML, представлява .osm файл. В OpenStreetMap има четири осеви елемента за съхраняване на топологична структура от данни:

{{< figure src="../OSM.png" alt="OSM файлов формат" >}}


|Възли|Начини|Връзки|Тагове
---|---|---|---|
|<ul><li> Представлява географска позиция, съхранена като двойки географска ширина и дължина.</li><li> Използва се за представяне на характеристики на карта без размер, като например планински върхове.</li></ul> |<ul><li> Сортирани списъци с възли, означаващи полилиния или многоъгълник</li><li> Представлява линейни характеристики като пътища и реки и зони, като зони за паркиране, джунгли и паркове.</li></ul> |<ul><li> Сортираните списъци с възли и пътища представляват тяхната връзка като бариери и завои на пътища, магистрали обхващат различни съществуващи пътища и зони с дупки.</li></ul> |<ul><li> Съхранявайте метаданни за обектите на картата.* Винаги прикачени към всеки възел, начин или връзка</li></ul>


Етикетите се използват за характеризиране на физически характеристики на земята (сгради и пътища и т.н.) в OpenStreetMap. Всеки таг свързва географска характеристика на характеристиката, представена от този конкретен възел или връзка. В тази безплатна система за маркиране, за да се опише характеристика, в картата могат да бъдат включени неограничен брой атрибути. Специфични комбинации от ключове и стойности, одобрени от регистрирани потребители, действат като неофициални стандарти за често използваните тагове. Въпреки това, нови етикети могат да бъдат създадени винаги, когато нови аспекти изискват да се анализират предишни ненанесени атрибути на характеристиките. Повечето функции използват само малък брой тагове за описание.

Три вида файлове се използват от OSM за съхраняване на основните данни.

OSM обработва всички тези файлове с информация за техните детайли за форматиране. Но същите вътрешни обекти се произвеждат от тези файлове. За файлове с данни видимият флаг на OSM обекти винаги е верен, което не е случаят с файлове с история и промени.

При обща употреба има разнообразие от OSM файлови формати. Файловите формати определят кодирането на съдържанието на диск или кабел в битове и байтове. OSM може да чете и записва максимум от тези формати.

**XML**

Оригиналният OSM формат е базиран на XML. Върнатите данни на API на основната база данни на OSM са в XML формат.

**PBF**

Кодирането на буферите на протокола е в двоичен формат и е един от най-компактните формати.

**O5M/O5C**

Базиран на двоичен формат, по-прост формат, но сравнително по-малко използван. OSM може да чете, но не може да записва този формат.

**OPL**

Прост формат, предложен за използване със стандартни инструменти за команден ред на UNIX. Близо до CSV-файлове, позволява един OSM обект на един ред.

**ОТСТРАНЯВАНЕ НА ГРЕШКИ**

Текстово базиран формат, предназначен за създаване за отстраняване на грешки. OSM може да записва този формат, но не може да чете.

**ЧЕРНА ДУПКА**

Фиктивен формат, който изхвърля всички данни. OSM може да записва този формат, но не може да чете.

## OSM съхранение на данни ##

Основната база данни **PostgreSQL** на OSM съхранява основното копие на данните на OSM с PostGIS разширение. За всеки примитив с данни основната база данни поддържа таблица, чиито редове съхраняват отделни обекти. Всички редакции актуализират тази база данни и всички други формати се формират с помощта на тази база данни. Създават се множество пулове от бази данни за изтегляне за прехвърляне на данни от едно място на друго. Два формата, единият използващ XML, а другият използващ двоичен формат на буфера на протокола (PBF), дефинират тези пулове. Пълните данни се съхраняват във файл, наречен planet.osm

## Компресия в OSM файлове ##

Текстово базираните формати (XML, OPL и Debug) използват gzip или bzip2 компресия по избор.

## Препратки ##

* [Ръководство за OSM файлови формати](https://osmcode.org/file-formats-manual/#file-types)
* [OpenStreetMap](https://en.wikipedia.org/wiki/OpenStreetMap#History)
* [Научете OSM](https://learnosm.org/en/osm-data/getting-data/)

