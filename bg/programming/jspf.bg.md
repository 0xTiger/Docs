{
  "date" : "2021-04-20",
  "keywords": [ "JSPF file", "jspf", "JSPF example", "extension", "format", "jspf tutorial", "jsp fragment", "JSPF file format" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "title" :"JSPF – файлов формат на JSP фрагмент",
  "description":"Научете за файловия формат JSPF и API, които могат да създават и отварят JSPF файлове.",
  "linktitle" : "JSPF",
  "menu" : {
    "docs" : {
      "parent" : "programming"
}
},
  "lastmod" : "2021-04-21"
}

## Какво е JSPF файл?
Файлът с разширение .jspf се нарича JSP фрагмент; статичен файл, включен в друг JSP файл. JSPF файловете не се компилират сами, но се компилират отстрани на страницата, в която са включени. Синтаксисът му е подобен на кода на Java Server Pages (JSP). Той съдържа само фрагмент от JSP; не е включен целият JSP документ.

## JSPF файлов формат
Вместо това се използва терминът „JSP сегмент“, тъй като терминът „JSP фрагмент“ е претоварен в JSP 2.0 спецификацията. JSP фрагментите могат да използват разширения .jsp или .jspf и трябва да бъдат поставени или в **/WEB-INF/jspf**, или с останалите статични файлове. JSP фрагментите, които не са пълни страници, трябва да използват разширението .jspf и трябва да бъдат поставени в **/WEB-INF/jspf**

### Организация на файла с JSP или JSP фрагмент
JSP файлът съдържа следните раздели в реда, в който са изброени:

1. Начални коментари
2. Директива(и) за JSP страница
3. Директива(и) за библиотека с етикети по избор
4. Незадължителна JSP декларация(и)
5. HTML и JSP код

И двата JSP или JSPF файла започват с коментар в стила на сървъра, който се нарича **Начален коментар**:

```
<%-- 
  - Author(s):
  - Date:
  - Copyright Notice:
  - @(#)
  - Description: 
  --%>
```
Този коментар може да се вижда само от страната на сървъра, тъй като се премахва по време на изобразяването на JSP страница.

## Кога да използвам файл с JSP фрагмент?
Когато една JSP страница изисква определена, но сложна структура, която може също така да се използва повторно в други JSP страници, един от начините да се справите с това е да я разделите на части, като използвате шаблона Composite View (раздела Patterns на Java Blueprints). Например JSP страница понякога има следното логическо оформление в структурата на представянето си:

{{< figure src="../jspf.png" alt="JSPF файлов формат" >}}

В тази ситуация тази съставна JSP страница може да бъде преобразувана в различни модули, като всеки ще се нарича отделен JSP фрагмент. След това JSP фрагментите могат да бъдат поставени на подходящи места в съставната JSP страница. Следователно JSPF файлът се използва, когато статичните директиви за включване се използват за включване на страница, която няма да бъде извикана сама, файловете с разширение .jspf трябва да бъдат поставени в директорията /WEB-INF/jspf/ на архива на уеб приложението ( война).

## Пример за JSPF
```
<%@ include file="/WEB-INF/jspf/header.jspf" %>
...
<%@ include file="/WEB-INF/jspf/menuBar.jspf" %>
...
<jsp:include page="<%= currentBody %>" />
...
<%@ include file="/WEB-INF/jspf/footnote.jspf" %>
...
<%@ include file="/WEB-INF/jspf/footer.jspf" %>
...
```

## Препратки

* [Конвенции за кода за страниците на JavaServer](https://www.oracle.com/technical-resources/articles/javase/code-convention.html)

