{
  "date" : "2019-10-11",
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"MBOX – файл с пощенска кутия по имейл",
  "description":"Научете повече за MBOX файловия формат и API, които могат да създават и отварят MBOX файлове.",
  "linktitle" : "MBOX",
  "menu" : {
    "docs" : {
      "parent" : "email"
}
},
  "lastmod" : "2019-09-10"
}

## Какво е MBOX файл?

Файловият формат MBox е общ термин, който представлява контейнер за събиране на електронни съобщения. Съобщенията се съхраняват вътре в контейнера заедно с техните прикачени файлове. Съобщенията от цяла папка се записват в един файл с база данни и новите съобщения се добавят в края на файла. Множество приложения и API осигуряват поддръжка за файлов формат MBox като Apple Mail и Mozilla Thunderbird.

## MBOX файлов формат ##

Файловият формат MBox остана нестандартизиран доста дълго време до 2005 г., когато приложението/mbox беше стандартизирано като [RFC 4155.](https://tools.ietf.org/rfc/rfc4155.txt) Съобщения във формат RFC 2822 , са свързани във файловия формат на MBox един след друг. Всяко съобщение започва с разделителен ред, който идентифицира подателя на съобщението и също така идентифицира датата и часа, в които съобщението е получено от крайния получател (или системата за последен скок в пътя на прехвърляне, или системата, която служи като на получателя пощенски магазин). Всяко съобщение обикновено завършва с празен ред. Краят на базата данни обикновено се разпознава или по липсата на допълнителни данни, или по наличието на явен маркер за край на файла.

## Четене на съобщение от MBox файл ##

Четец сканира mbox файл, търсейки From_ редове. Всеки ред From_ маркира началото на съобщение. Читателят не трябва да се опитва да се възползва от факта, че всеки ред From_ (след началото на файла) е празен ред. След като четецът намери съобщение, той извлича (вероятно повреден) подател на плик и дата на доставка от реда From_. След това се чете до следващия ред From_ или края на файла, което от двете настъпи първо. Той премахва последния празен ред и изтрива цитирането на >From_ lines и >>From_ lines и т.н. Резултатът е RFC 822 съобщение.

## Съображения за кодиране ##

Съдържанието на MBox файл може необратимо да се смеси, когато получен имейл съдържа Mbox файл като прикачен файл и се запише в друг Mbox файл. За да се избегне това, системите за съобщения трябва да кодират mbox база данни с непрозрачно кодиране за прехвърляне (като BASE64 или Quoted-Printable), когато такъв обект се прехвърля чрез протоколи за съобщения. Внедрителите също трябва да са подготвени да кодират локално mbox данни, ако бъдат получени несъответстващи данни.

## Препратки ##

* [MBox - RFC4155](https://tools.ietf.org/rfc/rfc4155.txt)
* [Mbox – Уикипедия](https://en.wikipedia.org/wiki/Mbox)

