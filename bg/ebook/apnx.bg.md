{
  "date" : "2021-03-11",
  "keywords" :[ "APNX", "Индекс на номера на страници на Amazon", "разширение", "файл", "формат", "електронна книга", "Amazon Kindle" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description":"Научете за файловия формат на Amazon APNX и API, които могат да създават и отварят APNX файлове.",
  "title" :"APNX – индекс на номера на страници на Amazon",
  "linktitle" : "APNX",
  "menu" : {
    "docs" : {
      "parent" : "ebook"
}
},
  "lastmod" : "2021-05-28"
}

## Какво е APNX файл? ##

Файлът с индекс на номерата на страниците на Amazon, който използва разширението .apnx, е тип файл за електронни книги; използван от Amazon Kindle. Тези файлове всъщност са известни като файлове за страниране, използвани от устройства Kindle. Така че APNX файловете обикновено се създават, за да маркират страниците на електронните книги на Kindle. Функцията за пагиниране е стартирана на устройства на Amazon Kindle от неговия фърмуер 3.1. Той разглежда APNX файла за индекси на страници и след това го съпоставя с номерата на страниците в оригиналната печатна книга. Тези файлове се записват в устройствата Kindle заедно с файловете на Amazon eBooks. Не можете да отваряте или редактирате APNX файловете.

## Спецификации на файлов формат APNX ##

### Оформление

|байтове| съдържание| коментари|
---|---|---|
|4 |00010001 | Идентификатор на формат. Стойност 65537 little-endian.|
|4 |начало на следващия | Отместването след крайното местоположение на първата заглавка. Започва нова поредица от заглавна информация|
|4 |дължина| Дължина на първото заглавие|
|N |първо заглавие | Низ, съдържащ заглавка на съдържание. Започва следващата последователност|
|2 |неизвестно | Винаги 1|
|2 |дължина | Дължина на второто заглавие|
|2 |брой страници | Общ брой байтове след второто заглавие, които представляват страници. Тази сума включва байтове, които са игнорирани от pageMap.|
|2 |неизвестен | Винаги 32|
|N |втора заглавка | Низ, съдържащ заглавката за съпоставяне на страница|
|4*N |подложка | Първото число, дадено в заглавката на картографирането на страницата, показва броя на 0 байта.|
|4*N |списък със страници ||

### Заглавка на съдържанието

Заглавката на съдържанието се състои от низ, ограден в {}, съдържащ двойки ключ, стойност:

|съдържание| коментари|
---|---|
|contentGuid| Ръководство.|
|асин | Идентификатор на Amazon за версията на книгата за Kindle.|
|cdeType | MOBI cdeType. Винаги трябва да бъде EBOK за електронни книги.|
|fileRevisionId | Ревизия на този файл.|

#### Пример
```
{"contentGuid":"d8c14b0","asin":"B000JML5VM","cdeType":"EBOK","fileRevisionId":"1296874359405"}
```
### Заглавка за съпоставяне на страница
Заглавката за съпоставяне на страница се състои от низ, ограден в {}, съдържащ двойки ключ, стойност.

|съдържание | коментари|
---|---|
|асин | ISBN 10 за хартиената книга, на която съответстват страниците|
|pageMap| Кортеж с три стойности. Изглежда така: "(N,N,N)\
1) Брой байтове след заглавката, която започва последователността за номериране на страници\
2) неизвестен\
3) неизвестен\|
#### Пример
```
{"asin":"1906694184","pageMap":"(4,a,1)"}
```

### Списък със страници

Списъкът със страници е поредица от отмествания в необработения HTML. всеки
стойност е началото на нова страница. Всеки запис е 4-байтов голям порядък
вътр.



## Препратки

* [Файлов формат на Amazon APNX](https://nachtimwald.com/2011/02/09/amazon-apnx-file-format/)
* [APNX - от MobileRead Wiki](https://wiki.mobileread.com/wiki/APNX)

