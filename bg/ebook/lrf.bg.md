{
  "date" : "2019-12-12",
  "keywords" :[ "LRF", "файл", "разширение", "формат", "електронна книга", "Дигитална книга"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"Научете за LRF файловия формат и API, които могат да създават и отварят LRF файлове.",
  "title" :"Файлов формат LRF – преносим файл за четене на Sony",
  "linktitle" : "LRF",
  "menu" : {
    "docs" : {
      "parent" : "ebook"
}
},
  "lastmod" : "2019-12-12"
}

## Какво е LRF файл?

Файл с разширение .lrf е широколентов eBook (BBeB) файл, който съдържа данни за Sony BBeB, включително текст, изображения и данни за пагинация. Файлът се записва в компресиран двоичен формат, който съдържа заглавка, определен брой обекти и индекс на обекта. LRF и LRX файловете обхващат двата налични формата на книги BBeB. LRF файловете не са криптирани и могат да бъдат компилирани от [LRX](/bg/ebook/lrf/) файлове. LRF файловете могат да бъдат конвертирани от няколко други типа файлове, включително PDF и HTML. Ако вашият компютър не може да отвори LRF файла, вероятно нямате инсталиран софтуер за отваряне или редактиране на LRF файлове. Програмите, които могат да отварят LRF файлове, са Calibre, BookDesigner, Makelrf и Canon Book Creator за Windows, Calibre за Linux, Calibre и Sony Reader за Macintosh.

## Кратка история

Файловият тип LRF е преди всичко свързан с Line Rider от [inXile entertainment](https://en.wikipedia.org/wiki/InXile_Entertainment). Line Rider е интернет играчка за физика и е изобретен през септември 2006 г. от студент от словенския университет Бощян Чадеж. Електронните четци за електронни книги на марката Sony (като четци Sony PRS-500 и Sony Librie) използват файловото разширение LRF за своите документи и текстове. Този патентован файлов тип вече е остарял, както и свързаните с него LRS и LRX файлове. Тези три типа файлове съставляват BroadBand eBook (BBeB), която беше прекратена през 2010 г., когато Sony започна да продава своите електронни книги във формат EPUB.

## LRF файлов формат

Подробни спецификации на файловия формат LRF са налични в [уеб архив](https://web.archive.org/web/20110809071744/http://www.sven.de/librie/Librie/LrfFormat). LRF файлът се състои от:
* заглавка
* редица обекти
* обектен индекс.

Всички тези стойности са в Intel (първи LSB).

### LRF заглавка

|Отместване (шестнадесетичен) |Размер (байтове) |Име/значение| Примерна стойност|
---|---|---|---|
|0 |8| Подпис на LRF| 4C 00 52 00 46 00 00 00 = "LRF" в Unicode|
|8 |2| версия?| 999 в повечето файлове|
|A |2| „Псевдо-шифроване“ |ключов байт 48|
|0C |4| RootObjectID| 0x0044|
|10 |8| Брой на обектите |342|
|18 |8| ObjectIndexOffset| 0x00093440|
|20 |4| неизвестен| 0|
|24 |1| Знамена| (16 - отзад напред, 1 = отпред назад) 16|
|25 |1| неизвестен |(пълнеж?) 0|
|26 |2| неизвестен| 1600|
|28 |2| неизвестен| (подложка?) 0|
|2A |2| Височина?| 600|
|2C |2| Ширина?| 800|
|2E |1| неизвестен| 24|
|2F |1| неизвестен |(пълнеж?) 0|
|30 |0x14| неизвестен| нули|
|44 |4| ИД на обект само на обект PlaneStream (0x1E)| 0x0042|
|48 |4| неизвестно |0x1536|
|4C |2| XMLCompSize| 0x035C|


## Препратки

* [Файлов формат LRF](https://web.archive.org/web/20110809071744/http://www.sven.de/librie/Librie/LrfFormat)
* [BBeB – от Wikipedia](https://en.wikipedia.org/wiki/BBeB)

