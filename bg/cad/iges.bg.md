{
  "date" : "2020-03-16",
  "keywords" :[ "IGES файл", "Файлов формат", "CAD" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Научете за файловия формат IGES и API, които могат да създават и отварят IGES файлове.",
  "title" :"IGES файлов формат",
  "linktitle" : "IGES",
  "menu" : {
    "docs" : {
      "parent" : "cad"
}
},
  "lastmod" : "2020-07-28"
}

## Какво е IGES файл?

Файл с разширение .iges се използва за обмен на проектна информация между приложения за компютърно проектиране (CAD). IGES означава Initial Graphics Exchange Specifications. Информацията, обменяна с помощта на IGES, включва електрическа диаграма, телена рамка, повърхност със свободна форма или представяне на солидно моделиране. IGES намира своите приложения в традиционни инженерни чертежи, анализ на модели и производствени функции. Форматът може да обменя информация за 2D или 3D дизайн между CAD програми. IGES файловете могат да се отварят с няколко CAD приложения като Autodesk и CADSoftTools ABViewer. Има и няколко достъпни API за програмно отваряне и конвертиране на IGES файлове.

## IGES файлов формат

Файловете IGES са в текстов формат ASCII и могат да бъдат отворени във всеки текстов редактор, за да видите съдържанието на файла. Текстовата информация в IGES файл е представена във формат "Hollerith". Обикновен IGES файл може да съдържа хиляди редове за представяне на 2D или 3D информация, която може да се обменя според този формат. Файлът IGES е разделен на пет секции, обозначени със специфичната главна буква в 73-та колона. Тези секции са `Начало` (S), `Глобално` (G), `Въвеждане на данни` (D), `Параметрични данни` (P) и `Прекратяване` (T) секции. Разделите за въвеждане на данни и параметрични данни обикновено се съкращават съответно DE и PD.

### Заглавка на IGES файл

Секциите Start и Global съдържат основна информация за:
* Име на файла и неговия източник
* Разделители за секцията с параметрични данни
* Автор на файла и друга обща информация.

Секциите Start и Global от примерния документ в Wikipedia са както следва.
```
S      1
1H,,1H;,4HSLOT,37H$1$DUA2:[IGESLIB.BDRAFT.B2I]SLOT.IGS;,                G      1
17HBravo3 BravoDRAFT,31HBravo3->IGES V3.002 (02-Oct-87),32,38,6,38,15,  G      2
4HSLOT,1.,1,4HINCH,8,0.08,13H871006.192927,1.E-06,6.,                   G      3
31HD. A. Harrod, Tel. 313/995-6333,24HAPPLICON - Ann Arbor, MI,4,0;     G      4
```
Както може да се види, началното поле съдържа описания на файла, които могат да се четат от човека, и имам всякакви знаци в колони 1-72, като редът завършва със заглавката на раздела и номера на реда на раздела. Трябва да има поне 1 ред от началната секция. Глобалният раздел съдържа данни за препроцесор. Също така трябва да присъства във файла и да завършва с формат G000000#.

### Раздел за въвеждане на данни (DE) и параметрични данни (PD).

#### Секция за въвеждане на данни
Файлът IGES се състои от няколко обекта, които съдържат информация за основните данни на файловия формат IGES. Един обект съдържа информация за различни елементи от формат на данни IGES и се използва за чертане. По-често използваните обекти включват:
* Кръгова дъга
* Композитна крива
* Конична дъга
* Самолет
* Линия

Това са само няколко и в IGES има около 150 различни обекта. Всеки обект се идентифицира с номер на тип, като например:
* КРЪГОВА ДЪГА (Тип 100)
* ЛИНИЯ (Тип 110)

##### Свойства на обекта

Всеки деклариран обект има следните свойства.

|Име на поле|Описание|
---|---|
|Тип обект |Това е типът обект, който се описва. Например 116 описва обект Point.|
|PD указател |Това дава местоположението на данните за тези обекти в секцията с параметрични данни. Това местоположение е просто номерът на реда в раздела PD, който има първия ред от тези данни за обекта.|
|Структура |Нула или указател към обект на дефиниция. Не е приложимо за повечето обекти|
|Шрифтов ред| Число или указател към обект на модел на шрифт на линия. Числото означава: * 0 Не е посочен модел (по подразбиране) * 1 Плътно * 2 Пунктирно * 3 Фантом * 4 Централна линия * 5 Пунктирано|
|Ниво| Указва нивата, които да бъдат свързани с този обект. Позволява на обекта да се показва на повече от едно ниво|
|Преглед| Указва опции за преглед. Това са: 0 Показва еднаква видимост и характеристики във всички изгледи. Указател по подразбиране към обекта View (Тип 410), от който може да се види Препратка към обект View Visible Associativity (Тип 402, Формуляр 3)
|Показател на матрицата на трансформация| Препраща към обект на матрица на трансформация (Тип 124) или е нула по подразбиране (без трансформация)|
|Асоциативност на дисплея на етикета| Препраща към асоциативност на показване на етикет (тип 402, формуляр 5), която определя как се появява етикетът на обекта.|
|Номер на състоянието| Съдържа четири секции от две числа. 1-2: Празен статус. Или 00 за нормален, или 01 за празен. 3-4: Превключвател на подчинен обект: е 00 за независим, 01 за физически зависим, 02 за логически зависим и 03 за двете. 5-6: Флаг за използване на обект: е или 00 за геометрия, 01 за анотация, 02 за дефиниция, 03 за друго, 04 за логически, 05 за 2D параметричен и 06 за геометрия на конструкцията. И накрая, 7-8 е йерархията, където 00 показва глобално отгоре надолу (използвайте характеристиките на този обект), 01 е глобално отлагане (не използвайте характеристиките на този обект), а 02 е използване на йерархичното свойство (използвайте йерархичен обект (тип 406, формуляр) 10) да се определят характеристиките на йерархичното групиране).|
|Пореден номер| Указва се от D#, където # е номерът на реда за този раздел (не от горната част на файла). Това също се използва за насочване към този обект за въвеждане на данни.|
|Тип обект| посочва се два пъти за списък на обект|
|Номер на теглото на линията| Указва дебелина при показване на обект. Най-малкото е 1, 0 е по подразбиране|
|Номер на цвета| Указва цвета на обекта. Позволените цели числа са: 0 Без цвят (по подразбиране) 1 Черно 2 Червено 3 Зелено 4 Синьо 5 Жълто 6 Магента 7 Синьо 8 Бяло|
|Параметър Брой ред| Указва броя на редовете, които този обект заема в секцията с параметрични данни|
|Номер на формуляра| Показва формата или представянето на този обект. Променя начина, по който се интерпретират данните на параметъра. По подразбиране е 0|
|Запазено поле| Не се използва|
|Запазено поле| Не се използва|
|Етикет на обект| Идентификатор, посочен в приложението - подравнен вдясно|
|Долен номер| Числен квалификатор за етикета на обекта. И двете заедно образуват уникален идентификатор за обекта|
|Пореден номер Вижте по-горе. |Това ще бъде D#+1, тъй като всеки обект е посочен на два реда.|

#### Раздел с данни за параметри
Разделът за въвеждане на данни е последван от раздела за параметрични данни. Той изброява данните за всеки съответен запис и изброява параметрите за обекта въз основа на разделителите, посочени в глобалния раздел (обикновено запетаи за разделяне на параметрите и точка и запетая за край на списъка).


## Препратки
* [IGES от WikiPedia](https://en.wikipedia.org/wiki/IGES)

