---
date: 2019-10-11
keywords: MP4, файл, разширение, формат, видео формат, MPEG-4
автор:
  display_name: Muhammad Ahmad Chishti
draft: false
toc: true
description: "Научете за файловия формат MP4 и API, които могат да създават и отварят MP4 файлове."
title: MP4 файлов формат
linktitle: MP4
menu:
  docs:
    parent: "video"
lastmod: 2021-07-26
---

## Какво е MP4 файл? ##

MP4 (съкратено от MPEG-4, част 14) е файлов формат, базиран на ISO/IEC 14496-12:2004, който се основава на файлов формат QuickTime, но официално определя поддръжка за начални обектни дескриптори (IOD) и други MPEG функции. Използва се най-вече за съхраняване на видео и аудио, но може да се използва и за съхраняване на субтитри и неподвижни изображения. MP4 файловете се съхраняват с разширение .mp4. MP4 е международен стандарт за аудио-визуално кодиране. Подобно на повечето съвременни контейнерни формати, MP4 поддържа поточно предаване през интернет. Поради високата компресия, използвана в MP4, получените файлове са с по-малък размер със запазено почти цялото оригинално качество.

## Кратка история ##

MP4 спецификацията е разработена от Moving Picture Experts Group (MPEG) и се основава на QuickTime формат [MOV](/bg/video/mov/), публикуван през 2001 г. Първата версия (ISO/IEC 14496-1:2001) на MP4 беше ревизия на MPEG-4 Част 1: Системна спецификация, публикувана през 1999 г. MP4 файловият формат беше обобщен до ISO Base Media File Format ISO/IEC 14496-12:2004, който дефинира общата структура за мултимедийни файлове, базирани на време. В резултат на това той се използва като основа за други файлови формати.

## Структура на MP4 файлове ##

MP4 е разширяем контейнерен файл, което означава, че не дефинира стриктна структура и позволява персонализирана структура и йерархия за всеки тип медия. Данните в MP4 файла са разделени на два раздела, като първият съдържа свързаните с медиите данни, а вторият съдържа метаданни. Мултимедийните данни съдържат аудио или видео, а метаданните показват флагове за произволен достъп, времеви отпечатъци и др.
Структурите в MP4 обикновено се наричат атоми или кутии. Минималният размер на атом е 8 байта (първите 4 байта указват размера, а следващите 4 байта указват типа). Ето списък на атомите на коренно ниво, съдържащи се в MP файлове:

- **ftyp**: Съдържа типа на файла, описанието и използваните общи структури от данни.
- **pdin**: Съдържа прогресивна информация за зареждане/изтегляне на видео.
- **moov**: Контейнер за всички метаданни на филма.
- **moof**: Контейнер с видео фрагменти.
- **mfra**: Контейнерът с произволен достъп до видео фрагмента
- **mdat**: Контейнер с данни за медия.
- **stts**: таблица проба-време.
- **stsc**: таблица от проба към част.
- **stsz**: примерни размери (рамкиране)
- **meta**: Контейнерът с информацията за метаданни.

Ето списък на атомите от второ ниво, използвани в MP4:

- **mvhd**: Съдържа информация за заглавката на видеоклипа с пълни подробности за видеоклипа.
- **trak**: Контейнер с индивидуална писта.
- **udta**: Контейнерът с информация за потребителя и записа.
- **iods**: MP4 файлов дескриптор

## Препратки ##

- [MP4 - Wikipedia](https://en.wikipedia.org/wiki/MPEG-4_Part_14)

