{
  "date" : "2019-10-11",
  "keywords" :[ "mov файл", "mov файлов формат", "какво е mov файл", "файл", "mov пример", "mov файлово разширение", "разширение", "формат", "QuickTime", "MPEG- 4"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"MOV файл – Apple QuickTime филмов формат",
  "description":"Научете повече за MOV файловия формат и API, които могат да създават и отварят MOV файлове.",
  "linktitle" : "MOV",
  "menu" : {
    "docs" : {
      "parent" : "video"
}
},
  "lastmod" : "2021-07-29"
}

## Какво е MOV файл?

MOV файлът е тип видео файл, разработен от Apple Inc., който съдържа една или повече песни. Всяка песен съхранява филм, аудио, филмови клипове и субтитри. Това е мултимедиен контейнер, който може да съхранява различни видове медийни елементи. MOV видео форматът е съвместим както с Windows, така и с Macintosh системи. Той използва кодиран MPEG-4 за компресиране и песните се поддържат в обекти, наречени атоми, които са поставени в йерархична структура от данни.

## Кратка история на файловия формат MOV

Файловият формат MPEG-4 се разви от спецификацията на файловия формат QuickTime (**QTFF**) през 2001 г. Международната организация по стандартизация одобри формата и системните спецификации на MPEG-4 част 1 бяха публикувани през 1999 г. През 2001 г. файлът за ревизия формат [MP4](/bg/video/mp4/) беше публикуван.

Първата версия на MP4 беше преработена през 2003 г. като MPEG-4 част 14 (ISO/IEC 14496-14:2003). През 2004 г. MP4 беше обобщен, за да дефинира обща структура за всички мултимедийни файлове, базирани на времето. Следователно сега се използва като основа за различни други мултимедийни файлови формати.

## Файлов формат QuickTime (QTFF) - Повече информация

За да работи с цифрова мултимедия, QTFF може да съдържа много видове данни. Това е идеен формат за обмен на цифрови медии, тъй като форматът определя стандартите за описание на всякакъв вид медийни структури. Файловият формат се състои от гъвкава колекция от обектно-ориентирани обекти. За съхранение на филми на дискове QuickTime използва две структури, т.е. `atoms` и `QT atoms`.

### Атоми

Atom е основната единица на файла QuickTime. Има две основни полета във всеки атом преди всяко друго поле: полета за размер и тип. Полето за размер показва размера на атома, докато полето за тип показва типа данни, съхранявани в атома. По природа атомите са йерархични, което означава, че един атом може да съдържа други атоми, които пак могат да съдържат други. Оформлението на примерен атом е показано на следното изображение.

Всеки атом има две части, „заглавие“ и „данни“. Заглавката съдържа полетата за размер и тип, а частта с данни съдържа действителните данни. Освен това всяко поле е обяснено по-долу:

### Размер на атома

Заглавието и съдържанието на атома се обозначават с 32-битово цяло число, известно като размера на атома. Полето за размер съдържа размера на атома в байтове, изразен в 32-битово цяло число без знак.

### Тип атом

Типът на атома също се показва от 32-битово цяло число, което най-често се третира като поле от четири знака с кнемонична стойност, като например „moov“ (0x6D6F6F76) за филмов атом или „trak“ (0x7472616B) за писта атом. След като типът на атома е известен, той позволява интерпретиране на неговите данни.

### QT Atoms и Atom Containers

QT атомите предоставят формат за съхранение с общо предназначение и имат разширен хедър, състоящ се от полета Size, Type, Atom ID и Count of Child atoms. QT атомите са опаковани в атомен контейнер, уникална структура от данни, имаща заглавка с брояч на заключения. Във всеки атомен контейнер има един коренов атом, който е QT атом. Оформлението на QT атома е показано на фигурата по-долу.

Заглавката на QT atom контейнер има следните данни:

Запазено: 10-байтов елемент със стойност 0.

Lock Count: 16-битово цяло число със стойност 0.

QT atom заглавките имат следните данни:

**Размер -** QT atom заглавието и съдържанието са посочени в байтове с 32-битово цяло число. В случай на листов атом, това поле съдържа размера на единичен атом.

**Тип -** Типът на атома се обозначава с 32-битово цяло число. В случай, че това е коренният атом, тогава стойността е зададена на 'sean'.

**Atom ID -** Това е 32-битово цяло число, което показва atom ID и трябва да бъде уникално за всички братя и сестри. Коренният атом винаги е стойността на ID на атом като 1.

**Резервирано -** 16-битово цяло число, което трябва да бъде зададено на 0.

**Брой деца -** 16-битово цяло число, което показва броя на дъщерните атоми на атом.

**Резервирано -** 32-битово цяло число, което трябва да бъде зададено на 0.

## Файлова структура на MOV файлове

MOV файловете се състоят от последователни парчета. Всяка част има 8-байтово заглавие: 4-байтов размер на част (big-endian, старши байт първи) и 4-байтов тип на част - един от предварително дефинираните подписи: "ftyp", "mdat", "moov", "pnot" ", "udta", "uuid", "moof", "free", "skip", "jP2 ", "wide", "load", "ctab", "imap", "matt", "kmat", "clip", "crgn", "sync", "chap", "tmcd", "scpt", "ssrc", "PICT". Първата част е от тип „ftype“ и има подтип при отместване 8. MOV, дефиниран от подтип, който трябва да бъде „qt“. За съставяне на MOV файл е необходимо повтаряне на парчета, докато не бъде открит неизвестен тип.

Ето един „примерен пример“: При проверка на двоичните данни на примерен MOV файл е очевидно, че той започва със сигнатура **ftyp** (шестнадесетичен: 66 74 79 70) при отместване 4, което дефинира QuickTime Container File Type. Подтипът на файла е **qt~_~_** (шестнадесетичен: 71 74 20 20), което сочи към файлов тип MOV. Първият размер на блока е 32 (шестнадесетичен: 00 00 00 20, голям порядък, старши байт първи), размерът се намира при отместване 0. При отместване 32 (шестнадесетичен: 20) се намира втората част, която има размер 8 и тип **mdat** (шестнадесетичен: 6D 64 61 74).

Следващата част се намира на отместване 32+8#40 (шестнадесетичен: 28) и има размер 3,263,028 (шестнадесетичен: 00 31 CA 34) и тип **mdat** (шестнадесетичен: 6D 64 61 74) на отместване 44 (шестнадесетичен : 2C). Следващата част се намира при отместване 40 + 3,263,028#3,263,068 (шестнадесетичен: 00 31 CA 5C) и има размер 21,189 (шестнадесетичен: 00 00 52 C5) и тип **moov** (шестнадесетичен: 6D 6F 6F 76) при отместване 1,836,019,574 (шестнадесетичен: 00 31 CA 60). Това е последната част, така че общият размер на файла е 3,263,068+21,189#3,284,257 байта.

## Как да конвертирате MOV файл?

Налични са много медийни плейъри и софтуерни видео редактори за конвертиране на MOV файлове в други популярни видео файлови формати. Някои от медийните плейъри, които могат да конвертират MOV файлове в други формати, включват:

* VideoLAN VLC медиен плейър
* Eltima Elmedia Player

Няколко медийни плейъри и видео редактори, включително VideoLAN VLC медиен плейър и Eltima Elmedia Player, могат да конвертират MOV файлове в други формати. Този софтуер може да конвертира MOV файлове в следните видео формати.

* MPEG-4 видео - [MP4](/bg/video/mp4/)
* WebM Video - [WEBM](/bg/video/webm/)
* Видео транспортен поток - [TS](/bg/video/ts/)
* Разширен системен формат - [ASF](/bg/video/ts/)
* Ogg Vorbis Audio - [OGG](/bg/audio/ogg/)
* MP3 аудио - [MP3](/bg/audio/mp3/)
* Безплатен аудио кодек без загуба - [FLAC](/bg/audio/flac/)
* WAVE Audio - [WAV](/bg/audio/wav/)

## API с отворен код за MOV файлове

* [React Native API за конвертиране на MOV в MP4](https://github.com/taltultc/react-native-mov-to-mp4)
* [API на Python за поправка на MOV файлове](https://github.com/nrosenstein-stuff/movrepair)
* [API на Ruby за конвертиране на MOV в GIF](https://github.com/skygroundmedia/convert-mov-to-gif)

## Препратки

* [https://en.wikipedia.org/wiki/QuickTime_File_Format](https://en.wikipedia.org/wiki/QuickTime_File_Format)

