{
  "date" : "2019-10-11",
  "keywords" :[ "3DS", "файл", "формат", "тип файл", "разширение", "какво е 3DS файл?" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"Научете за 3DS файлов формат и API, които могат да отварят и създават 3DS файлове.",
  "title" :"3DS файлов формат",
  "linktitle" : "3DS",
  "menu" : {
    "docs" : {
      "parent" : "3d"
}
},
  "lastmod" : "2019-09-10"
}

## Какво е 3DS файл?

Файл с разширение .3ds представлява мрежест файлов формат 3D Sudio (DOS), използван от Autodesk 3D Studio. Autodesk 3D Studio е на пазара на 3D файлови формати от 1990 г. и сега еволюира до 3D Studio MAX за работа с 3D моделиране, анимация и рендиране. 3DS файлът съдържа данни за 3D представяне на сцени и изображения и е един от популярните файлови формати за импортиране и експортиране на 3D данни. Той взема предвид информация като местоположения на камери, данни за мрежата, информация за осветлението, конфигурации на прозореца за изглед, изглаждащи групови данни, препратки към растерни изображения и атрибути, за да създаде върхове и полигони за изобразяване на сцена.

## 3DS файлов формат - повече информация
В основата си 3DS е двоичен файлов формат и следва предварително дефинирана структура за съхранение и извличане на данни. Двоичният файлов формат позволява 3DS файловия формат да бъде по-бърз, по-малък в сравнение с текстови файлови формати. Данните в 3DS файл се съхраняват под формата на парчета.

### 3DS парче

Всяка част в 3DS файл е блок от данни, който съдържа идентификатор, дължина на блока за местоположението на следващия блок и самите данни. Идентификаторът на парче позволява на четците на 3DS файлов формат да пропускат блоковете, които не разпознават. Той също така помага за разширяемостта на формата. Всяка част съхранява информация, свързана с форми, осветление и информация за гледане, които заедно изобразяват сцената. Парчетата са подредени в йерархична структура в 3DS файл и наподобяват дървото на обекта на XML документ в представянето.

**Chunk ID:** Първите два байта от парче представляват идентификатор на парче, който позволява на четеца на файла да реши дали да го вземе предвид по време на четене или да го пропусне.

**Дължина на частта:** Идентификационният номер на частта е последван от 4-байтово цяло число (в малък ред), което означава дължината на частта. Тази дължина включва също дължината на данните, дължината на техните подблокове и 6-байтовото заглавие.

**Полезен товар:** Дължината на частта е последвана от действителните байтове данни за частта, следвани от нейните подчастове в същата йерархична структура, която може да бъде разширена до няколко нива в дълбочина.

### Структура на парче

Йерархичната структура на проста част е както е показано по-долу:

**Чанк**

|начало|край|размер|име
--- | --- | --- | ---
|0|1|2|ИД на парче
|2|5|4|Следваща част

Чънковете имат йерархия, наложена върху тях, която се идентифицира с неговия ID. 3ds файл има ID на основния блок 4D4Dh. Това винаги е първата част от файла. С в основния блок са основните блокове.

**Основни парчета**

|id|Описание
--- | ---
|3D3D|Начало на данните за мрежата на обекта.
|B000|Начало на данни за ключови кадри.

Указателят Next Chunk след ID блока сочи към следващия Main chunk.
Непосредствено след основния блок има друг блок. Това може да бъде всеки друг тип парче, допустимо в обхвата на основните му парчета.
За описанието на мрежата (3D3D) те могат да бъдат всякакви кратни на.

**Подчасти от 3D3D - мрежест блок**


|id|Описание
--- | ---
|1100|неизвестен
|1200|Цвят на фона.
|1201|неизвестен
|1300|неизвестен
|1400|неизвестен
|1420|неизвестен
|1450|неизвестен
|1500|неизвестен
|2100|Цветов блок на околната среда
|2200|мъгла?
|2201|мъгла?
|2210|мъгла?
|2300|неизвестен
|3000|неизвестен
|4000|Блок обект
|7001|неизвестен
|AFFF|неизвестен

**Подчасти от 4000 - Блок за описание на обект**
Първият елемент от Subchunk 4000 е ASCIIZ низ от името на обекта.
Не забравяйте, че един обект може да бъде мрежа, светлина или камера.

|id|Описание
--- | ---
|4010|неизвестен
|4012|сянка?
|4100|Триъгълен многоъгълен обект
|4600|Светлина
|4700|Камера

## Препратки

* [Геометрични файлови формати - Autodesk](https://knowledge.autodesk.com/support/3ds-max/learn-explore/caas/CloudHelp/cloudhelp/2015/ENU/3DSMax/files/GUID-566E59EE-8221-4AC6 -824B-5062C5AE0B32-htm.html)
* [3DS – от Wikipedia](https://en.wikipedia.org/wiki/.3ds)

