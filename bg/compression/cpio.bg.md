{
  "date" : "2023-05-10",
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"CPIO файл – Unix CPIO архивен файлов формат",
  "description":"Научете какво е CPIO файл и API, които могат да създават и отварят CPIO файлове.",
  "linktitle" : "CPIO",
  "menu" : {
    "docs" : {
      "identifier" : "compression-cpio",
      "parent" : "compression"
}
},
  "lastmod" : "2023-05-10"
}

## Какво е CPIO файл?

CPIO файлът е архивен файл, създаден във формата на Unix Copy In Copy Out (CPIO). Той е подобен на файловия формат TAR, с изключение на това, че е некомпресиран. CPIO файловете могат да съхраняват файлове на устройства, символни връзки и разширени файлови атрибути.

## CPIO файлов формат

CPIO архивът се създава като двоичен файл, който не може да се чете от хора. Той съхранява колекция от файлове и директории. Съдържанието на CPIO архив се идентифицира с информация за метаданни, като имена на файлове, разрешения, собственост и времеви клейма. Тази информация за метаданни също се съхранява в архивния файл за страничен достъп от системата.

## Формат на CPIO архив

CPIO файлът се състои от един или повече свързани файлове-членове. Всеки файл в архива се състои от заглавка, евентуално последвана от съдържанието на файла, както е посочено в заглавката. Архивът съдържа друг хедър в края, който е описан от празен файл с име TRAILER!!.

### Типове CPIO архиви

Има два вида CPIO архиви. Те се различават само в стила на заглавката.

* ASCII архиви - Тези CPIO архиви имат заглавка за печат, която става част от CPIO архива, ако самият архив се състои от ASCII файлове
* Двоични архиви - Тези CPIO архиви имат двоични заглавки.

## Работа с CPIO архив

### Как да създадете CPIO архиви?

Можете да създадете CPIO на Unix-подобни системи, като използвате командата **cpio**. Следната команда ще намери всички файлове и директории в текущата директория и нейните поддиректории. След това този изход се пренасочва към командата cpio, която ще генерира нов CPIO архив с име archive.cpio.

```
find . -depth -print | cpio -ov > archive_cpio.cpio
```
### Как да извличам файлове от CPIO архиви?

Следната команда извлича файловете от съществуващ архив.

```
cpio -id < archive_cpio.cpio
```
Той ще прочете файла archive.cpio от стандартния вход и ще извлече файловете в текущата директория.


## Препратки

* [CPIO – от Wikipedia](https://en.wikipedia.org/wiki/Cpio)
* [CPIO файлов формат](https://www.ibm.com/docs/en/zos/2.2.0?topic=formats-cpio-format-cpio-archives)

