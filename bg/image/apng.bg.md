{
  "date" : "2019-10-11",
  "keywords" :[ "apng файл", "apng файлов формат", "какво е apng файл", "файл", "apng пример", "apng файлово разширение", "разширение", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"APNG файлов формат – анимиран преносим мрежов графичен файл",
  "description":"Научете за APNG файловия формат и API, които могат да създават и отварят APNG файлове.",
  "linktitle" : "APNG",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2020-09-10"
}

## Какво е APNG файл?

Файл с разширение .apng (анимирана преносима мрежова графика) е растерен графичен формат и е неофициално разширение на преносимата мрежова графика ([PNG](/bg/image/png/)). Състои се от множество рамки (всеки от PNG изображение), които представляват анимационна последователност. Това дава подобна визуализация като [GIF](/bg/image/gif/) файл. APNG файловете поддържат 24-битови изображения и 8-битова прозрачност. APNG е обратно съвместим с неанимирани GIF файлове. APNG файловете използват същото разширение .png и могат да се отварят от приложения като Mozilla Firefox, Chrome с поддръжка на APNG, приложения iMessage за iOS 10.

## Кратка история

* APNG спецификациите са създадени през 2004 г., за да осигурят поддръжка за анимирани PNG изображения
* APNG декодерите са разработени с много по-малък размер и с помощта на гърба на PNG декодера
* След непрекъснати обсъждания беше формулиран нов тип MIME изображение/apng, като същевременно се запази същото разширение като .png вместо .apng
* APNG беше официално отхвърлен от PNG групата на 20 април 2007 г. поради еднаквостта му с PNG изображения, като в същото време имаше различни спецификации

## APNG файлов формат

APNG файловете се съхраняват като двоични файлове на диск и използват разширените спецификации на PNG за анимирани изображения. Първият кадър на APNG файл е нормален PNG поток, който може да се чете от PNG декодери за показване. Файловият формат APNG следва спецификациите на PNG и данните се съхраняват в сегменти, наречени парчета. APNG обаче въведе следните нови части:

`Animation Control Chunk (acTL)` - Показва, че този файл е анимиран PNG файл, а не нормален PNG файл. Той действа като маркер и идва преди парчето IDAT. Той също така съдържа броя на кадрите и информация за времето за повтаряне на анимациите

`Frame Control Chunk` - Появява се в началото на всеки и информация за метаданни като размери, позиция, приложение за прозрачност и информация за заместване с предишен или следващ кадър, след като приключи.

`Frame Data Chunk` - Съхранява съдържанието на рамката и започва с пореден номер. Този пореден номер има същата структура като IDAT частта на изображението по подразбиране.

{{< figure src="../APNG.png" alt="Анимиран PNG - APNG файлов формат" >}}

APNG е обратно съвместим с PNG, тъй като страничните спецификации са проектирани по такъв начин, че приложение, което чете PNG файл, трябва просто да игнорира частите, които не разбира. Спецификациите относно битовата дълбочина, вида на цвета, компресията, филтрите, методите на преплитане и информацията за палитрата се използват същите като тези на PNG формата по подразбиране.

## APNG срещу GIF

Тъй като GIF вече е налице и се използва за дълъг период от време, може да се чудите как APNG е различен от GIF. Следва набор от сравнение между APNG и GIF, който дава кратка представа за двата файлови формата.

||APNG|GIF|
---|---|---|
|Публикувана|2004|1987|
|Дълбочина на цвета|24 бита|8 бита|
|Скорост на кадрите|Неограничен|10 кадъра в секунда|
|Прозрачност|Пълна и частична|Пълна|
| Компресия| Много добра| Добра|

## Препратки

* [APNG файлов формат](https://en.wikipedia.org/wiki/APNG)
* [Официални спецификации на PNG формат](https://www.w3.org/TR/PNG/)

