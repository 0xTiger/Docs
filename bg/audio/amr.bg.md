{
  "date" : "2021-04-29",
  "keywords" :[ "amr", ".amr", "файл", "разширение", "формат", "какво е amr файл", "музика", "amr файлов формат", "amr файл","конвертиране на amr файл в mp3", "възпроизвеждане на amr файл"],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Научете за AMR файловия формат и API, които могат да създават, конвертират и отварят AMR файлове.",
  "title" :"AMR – Адаптивен многоскоростен кодек файл",
  "linktitle" : "AMR",
  "menu" : {
    "docs" : {
      "parent" : "audio"
}
},
  "lastmod" : "2021-04-29"
}

## Какво е AMR файл?
Файлът с разширение .amr е формат на аудио данни, подходящ за **Adaptive Multi-Rate** аудио кодек; състои се от многоскоростен теснолентов говорен кодек, който кодира теснолентови сигнали при 4,75-12,2 kbit/s побитова скорост с висококачествена реч, започваща от 7,4 kbit/s; използва адаптация на връзката, за да избира от една от осем различни базирани на битрейт скорости.

## AMR файлов формат
AMR файловият формат използва много техники за кодиране, като алгоритъмът ACELP (Algebraic Code Excited Linear Prediction) е една от най-добрите техники; предназначени за компресиране на човешки говорен звук по по-ефективен начин. AMR беше зададен като стандартен гласов или говорен кодек от 3GPP през 1999 г. Файловият формат AMR се използва и за съхраняване на изговореното аудио чрез използване на **Adaptive Multi-Rate** аудио кодек, който се използва от много смартфони за съхраняване на записани речи.

### Структура на файловия формат
AMR (Adaptive Multi-Rate) е аудио формат; широко използван в различни мобилни приложения и устройства, обикновено в аудио плейър/рекордер или в VoIP приложения. AMR може да бъде допълнително класифициран като:

1. AMR-NB (NarrowBand)
2. AMR-WB (широколентов)

Обикновено AMR се отнася до AMR-NB. Файловият формат AMR има следната структура:

Всеки AMR файл съдържа 6-байтов хедър, който разпознава файла като AMR аудио. Тази заглавка винаги е зададена на:
- 0x23
- 0x21
- 0x41
- 0x4D
- 0x52
- 0x0A

Това обикновено е подобно във всички AMR-NB файлове. Ако заглавката следва стандарт, вероятно файлът е повреден и не трябва да се използва. AMR файлът се състои от цял брой опаковани кадри от аудио. Всеки от тези кадри съставлява 20 ms аудио. Всеки кадър може да бъде кодиран с помощта на всеки от валидните AMR-NB режими (0-7, 8 SID в режим DTX). Тъй като кадрите могат да бъдат кодирани с различни битрейтове, този типичен метод се нарича Adaptive Multi-Rate (AMR).
#### AMR режими
Следват различните AMR режими и съответните им битрейтове:

|РЕЖИМ| СКОРОСТ ПО БИТОВЕ|
---|---|
|0| AMR 4.75 - Кодира при 4.75kbit/s|
|1 | AMR 5.15 - Кодира при 5.15kbit/s|
|2 | AMR 5.9 - Кодира при 5.9kbit/s|
|3 | AMR 6.7 - Кодира при 6.7kbit/s|
|4 | AMR 7.4 - Кодира при 7.4kbit/s|
|5 | AMR 7.95 - Кодира при 7.95kbit/s|
|6 | AMR 10.2 - Кодира при 10.2kbit/s|
|7 | AMR 12.2 - Кодира при 12.2kbit/s|

Размерът на рамката на AMR режимите в байтове (включително заглавния байт) е даден по-долу:

|CMR |РЕЖИМ |РАЗМЕР НА КАДРА (в байтове)|
---|---|---|
|0 |AMR 4,75 |13|
|1 |AMR 5,15 |14|
|2 |AMR 5,9 |16|
|3 |AMR 6,7 |18|
|4 |AMR 7,4 |20|
|5 |AMR 7,95 |21|

## Препратки ##

* [Адаптивен многоскоростен аудиокодек – от Wikipedia](https://en.wikipedia.org/wiki/Adaptive_Multi-Rate_audio_codec)
* [RTP формат за полезен товар и формат за съхранение на файлове за AMR и AMR-WB аудио кодеци](https://tools.ietf.org/html/rfc4867#page-35)

