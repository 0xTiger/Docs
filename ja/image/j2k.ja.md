{
  "date" : "2019-10-11",
  "keywords" :[ "j2k ファイル", "j2k ファイル形式", "j2k ファイルとは", "ファイル", "j2k の例", "j2k ファイルの拡張子","拡張子", "形式" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"J2K",
  "description":"J2K ファイル形式と,J2K ファイルを作成して開くことができる API について学びます。",
  "linktitle" : "J2K",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2020-08-03"
}

## J2Kファイルとは何ですか?

**J2K** ファイルは、DCT 圧縮の代わりにウェーブレット圧縮を使用して圧縮された画像です。このファイル形式は、Joint Photographic Experts Group (JPEG) 2000 ファイルで使用されます。 J2K ファイルは、この目的で EXIF 形式を使用する .jpeg や .jpg とは異なり、画像ファイルに関するメタデータ情報を XML で保存します。 J2K ファイルは、15 ビット カラー、アルファ透明度、ロスレス圧縮をサポートします。 J2K-Codec など、JPEG 2000 画像をデコードするための商用 API がいくつか存在します。 J2K ファイルは、標準の画像ビューアを使用して Windows OS で開くことができます。

## J2K ファイル形式 ##

J2K ファイル形式は、多くの場合 .jp2 および .jpc として保存される JPEG 2000 の形式と同じです。これにより、J2K ファイルは、標準 12234-1 が Exif タグと XML コンポーネント間の参照として使用される XML 形式でメタデータをエンコードするのと同じアプローチに従います。これは、アニメーション メカニズムとコード ストリーム構成を 1 つの画像に結合する JPEG 2000 part-2 拡張によってさらに改善されます。このような拡張ファイル形式のファイルは、.jpx として保存されます。

### JPEG2000 ファイルのレイアウト ###

JPEG2000 は、拡張可能なファイル フォーマットへの準拠に基づいて、さまざまなアプリケーションをサポートします。最も単純なタイプには 1 つの画像を含めることができますが、より複雑なタイプには一連の画像を含めることができ、互いに積み重ねたり、時間ベースの順序で並べたりすることができます。

#### JP2 ボックス ####
これは、JP2 ファイル形式の最上位のビルディング ブロックであり、ヘッダーにタイプ フィールドと長さフィールド、およびデータ セクションが含まれています。ボックスの最も注目すべきタイプは、連続コードストリーム ボックスです。このボックスは、データ セクションに JPEG2000 コードストリームを格納します。

#### JPEG2000 コードストリーム ####

JPEG2000 CodeStream は、JPEG2000 圧縮イメージをデコードするために必要な一連のバイトです。ファイルにこのコードストリーム以外のものが含まれていない場合、それは未加工のコードストリーム ファイルと呼ばれます。通常、JPEG コードストリームは、JPEG2000 圧縮アルゴリズムを画像に適用したものですが、これが唯一の方法ではありません。

#### タイルパーツ ####

JPEG2000 でエンコードされた画像は、パケットと呼ばれるデータ単位の集まりです。これらのパケットは、タイル パーツと呼ばれるパケット グループ内のコードストリームで維持されます。画像をエンコードする前に、エンコーダーは画像をタイルと呼ばれるブロックの長方形のグリッドに分割し、各タイルは他のタイルに関係なく個別にエンコードされます。

{{< figure src="../JPEG2000_Codestream.png" alt="JPEG2000 ファイル形式" >}}

## J2K 圧縮 ##
JPEG 2000 は、ビューアが画像を表示するビューポートまたはウィンドウに表示されるピクセルが比較的少ないという事実に基づいて、ウェーブレット圧縮テクノロジを使用して高速化します。これは、非常に大きなサイズの画像 (ギガバイト単位) の場合、数メガバイトのピクセルしか画面に表示されないという事実によって強調されます。これにより、表示ピクセルに入力するために必要な画像データの部分のみをすばやくフェッチしてレンダリングできます。これには、必要な画像をその場で作成するための画像フェッチ メカニズムを高速化するための高速解凍テクノロジも必要です。

J2K は、高速解凍を利用して、ピクセル データに必要な情報のみをフェッチし、可視画像の一部を画面にすばやくレンダリングします。 J2K は、主にデータの表示用に設計されており、編集用ではありません。

## J2K 識別 ##
JPEG 2000 ファイルの署名バイトは 6A 50 20 20 です。

### MIME タイプ ###
JPEG 2000 ファイル用に登録されている MIME タイプには、次のものがあります。
※画像/jp2
※画像/jpx
※画像/jpm
* ビデオ/mj2

## JPEG 標準の改良点 ##
JPEG 標準に対する改善点は次のとおりです。
* 優れた圧縮性能
* 複数の解像度表現
* ピクセルと解像度の精度によるプログレッシブ伝送
*ロスレスまたはロッシー圧縮の選択
* エラー耐性、柔軟なファイル形式
* ハイ ダイナミック レンジのサポート
* サイド チャネルの空間情報

## 参照 ##
* [タウブマン、デビッド。マーセリン、マイケル (2012)](https://books.google.com/books?id=y7HeBwAAQBAJ&pg=PA402)

