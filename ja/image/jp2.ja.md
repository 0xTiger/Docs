{
  "date" : "2019-10-11",
  "keywords" :[ "jp2ファイル","jp2ファイル形式","jp2ファイルとは","ファイル","jp2例","jp2ファイル拡張子","拡張子","形式" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"JP2 - 画像ファイル形式",
  "description":"JP2 ファイル形式と,JP2 ファイルを作成して開くことができる API について学びます。",
  "linktitle" : "JP2",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2020-08-10"
}

## JP2ファイルとは何ですか? ##

JPEG 2000 (**JP2**) は、画像符号化システムであり、最先端の画像圧縮規格です。ウェーブレット技術を使用して、あらゆる品質のロスレス コンテンツを一度にコーディングします。さらに、JPEG 2000 は、コーディング効率を大幅に低下させることなく、同じコンテンツにアクセスして、他のさまざまな解像度や品質に効果的にデコードする機能を備えています。 JPEG 2000 のコード ストリームは、空間ランダム アクセスの機能を提供する関心領域を持ち、非常にスケーラブルです。

JPEG 2000 は、最もスケーラブルな標準の 1 つであることが際立っています。さまざまな品質を使用して、画像のさまざまな部分を保存できます。コード ストリームをさまざまな方法で順序付けすることにより、注目に値するパフォーマンスの向上を実現できます。それにもかかわらず、JP2 は、この柔軟性の結果として、複雑で計算が困難なエンコーダー/デコーダーを必要とします。 JPEG と比較すると、JPEG 2000 は、画像の端近くにリングを作るリンギング アーティファクトのみを生成し、ぼやける可能性があります。一方、JPEG は、リンギング アーティファクトとブロッキング アーティファクトの両方である 8×8 の視覚的アーティファクト ブロックを使用します。最大 16384 個の多様なコンポーネントをテラピクセル単位の寸法で所有し、精度は 38 ビット/サンプルに達する可能性があります。

## 歴史 ＃＃

2000 年に、Joint Photographic Experts Group 委員会は、この新しいウェーブレット ベースの方法を使用して、独自の離散コサイン変換ベースの JPEG 標準を改善する目的で JP2 を設計しました。 JPEG 委員会は、基本的な方法をライセンス料なしで提供することを目的としていました。 JPEG 2000 は ISO 標準として宣言されていますが、2017 年以降、ほとんどの Web ブラウザーは JPEG 2000 に対応する準備が整っていません。

## JPEG 2000 画像符号化システムの一部 ##

以下は、JPEG 2000 の標準の完全なスイートを構成する主要部分です。


|部品|タイトル|説明|番号
---|---|---|---|
|パート1|コアコーディングシステム|コード ストリームの構文を定義します。 JPEG 2000 画像のデコードに含まれるさまざまな段階。基本的なファイルフォーマットJP2、メタデータ、提供するIP権について解説|ISO/IEC 15444-1
|パート 2|拡張機能|ファイル形式コード ストリームの拡張機能を定義し、HDR サンプルのデモ、色空間の仕様、クロッピング、幾何学的変換を可能にします。多様なアニメーション、メタデータ、複数のコード ストリーム。|ISO/IEC 15444-2
|パート 3|Motion JPEG 2000 (MJ2 または MJP2)|独立したコード ストリームで画像をエンコードするモーション シーケンスのファイル形式を紹介します。|ISO/IEC 15444-3
|パート 4|適合性|エンコードとデコードのテスト手法を記述し、ベア コード ストリームと JP2 ファイルの両方についてファイルをチェックします。|ISO/IEC 15444-4
|第 5 部|リファレンス ソフトウェア|コア コーディング システムを実装し、オープン ソース ライセンスの下で利用可能な 2 つのソース コード パッケージ (Java、C) で構成されています。|ISO/IEC 15444-5
|第 6 部|複合イメージ ファイル形式|JPM ファイル形式を定義し、ファックスのようなアプリケーションで複数ページのドキュメント イメージングを可能にします。 JBIG2 および JPEG の使用をサポートします。|ISO/IEC 15444-6
|パート 8|JPEG 2000 Secured (JPSEC)|トランザクション、コンテンツ、テクノロジーのセキュリティを確保し、安全な JPEG 2000 ビット ストリームを許可します。|ISO/IEC 15444-8
|パート 9|JPIP|メタデータと画像にアクセスするためのネットワーク環境でのツールを定義し、インタラクティブで効率的なプロトコルを述べています|ISO/IEC 15444-9
|第 10 部|JP3D|第 1 部の体積拡張と Z 次元の紹介。タイル、コード ブロック、区域、および 3D 関心領域アクセシビリティ機能の概念を拡張します。|ISO/IEC 15444-10
|第 11 部|JPWL|エラーが発生しやすいワイヤレス ネットワークを介した、よく整理された伝送を扱います。この拡張機能は、デコーダと互換性があります|ISO/IEC 15444-11
|第 13 部|エントリー レベルのエンコーダー|コア コーディング システムのエントリー レベルのエンコーダーの実装を定義します。|ISO/IEC 15444-13
|第 14 部|JPXML|XML で表現され、マーカー セグメントと画像の内部データにアクセスするためのメソッドについて説明されています。|ISO/IEC 15444-14
|第 15 部|HTJ2K (開発中)|代替ブロック符号化アルゴリズムを指定します。アルゴリズムにより、スループットが 10 倍に向上し、ロスレス コーディング/デコーディングが実現します。|

## JP2 ファイル形式 ##

JPEG 2000 では、JPEG-1 と同様にファイル形式とコード ストリームが定義されています。画像サンプルは JPEG 2000 によって排他的に記述されていますが、JPEG-1 には、画像をエンコードするために不可欠な色空間と解像度に関する他の追加情報が含まれています。 JPEG 2000 ファイルとして保存された画像の場合、**.jp2** が拡張子として使用されます。このファイル形式は、アニメーション メカニズムと多数のコード ストリームの構成を 1 つの画像に定義する JPEG 2000 part-2 拡張によってさらに改善されます。 **.jpx** 拡張子は、この拡張ファイル形式を使用して画像を保存する場合に使用されます。コード ストリーム データは主にファイルに保存されるとは見なされないため、この目的のために標準の拡張子は定義されていません。テスト目的ですが、拡張子 **.jpc** または **.j2k** が付けられることがよくあります。 JPEG-1 とは対照的に、JPEG 2000 は XML 形式でメタデータをエンコードする別の方法を選択します。標準 12234-1.4 (ISO TC42 委員会による) は、Exif タグと XML コンポーネント間の参照として使用されます。 JPEG 2000 には、ISO 標準である XMP を含めることができます。

### チャンク ###
JPEG 2000 ファイルは、連続したチャンクで構成されています。各チャンクには 8 バイトのヘッダーがあります。4 バイトのチャンク サイズ (ビッグ エンディアン、上位バイトが最初) と 4 バイトのチャンク タイプ - 定義済みの署名の 1 つ: "jP " または "jP2 "。

2 番目のチャンクは「ftyp」タイプである必要があり、オフセット 8 にサブタイプがあります。「jp2」(ファイル タイプ \*.JP2)、「jp20」(ファイルタイプ\*.JPA)、"jpm" (ファイルタイプ\*.JPM)、"jpx" (ファイルタイプ\*.JPX)。

不明なタイプが検出されるまでチャンクを繰り返し、JPEG 2000 画像/ビデオ ファイルを構成します。

### 色変換 ###

最初に、RGB カラー スペースから別のカラー スペースへのイメージの変換が必要です。この目的には、不可逆色変換 (ICT) と可逆色変換 (RCT) の 2 つの方法があります。前者は YC,,B,,C,,R,, 色空間を使用し、固定/浮動小数点で実装する必要がありますが、後で修正された YUV 色空間であり、元に戻すことができます。// //RGB モデル、JPEG に限定されません。 2000 言語では、複数のコンポーネントの変換が使用されます。

### タイリング ###

色変換が完了すると、画像はタイルと呼ばれる長方形の領域に変換され、個別に変換およびエンコードできます。すべてのタイルのサイズは同じか、画像全体を 1 つのタイルと見なすことができます。デコーダーは、タイリングを利用してメモリの消費を抑えたり、一部のタイルを部分的にエンコードしたりできます。ただし、この手法には画質の劣化という欠点があります。

### ウェーブレット変換 ###

タイリング後の画像はウェーブレット変換され、不可逆または可逆のいずれかになり、畳み込みまたはリフティング スキームを使用して実装されます。

### 圧縮率 ###

画像の物理的特性に応じて、20% の圧縮ゲインが得られます。JPEG 2000 の空間冗長性予測は、圧縮プロセスで重要な役割を果たし、高解像度の画像が最も有利になる傾向があります。

## 標準で提供されるアプリケーション ##

* フレームベースの HD ビデオの録画、編集、保存
* 医療画像と生体認証
* 衛星画像、リモートセンシング、モーション検知
* クライアント/サーバー通信、ネットワーク分散およびストレージ。
* デジタル シネマ、ライブ HDTV フィードの提供、デジタル化されたオーディオビジュアル素材

## 参照 ##

※【JPEG2000の概要】(https://jpeg.org/jpeg2000)
* [JPEG 2000 画像符号化システム](https://en.wikipedia.org/wiki/JPEG_2000#JPEG_2000_image_coding_system_-_Parts)

