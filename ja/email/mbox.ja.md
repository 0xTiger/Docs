{
  "date" : "2019-10-11",
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"MBOX - メールボックスファイル",
  "description":"MBOX ファイル形式と,MBOX ファイルを作成して開くことができる API について学びます。",
  "linktitle" : "MBOX",
  "menu" : {
    "docs" : {
      "parent" : "email"
}
},
  "lastmod" : "2019-09-10"
}

## .MBOX ファイルとは何ですか?

MBox ファイル形式は、電子メール メッセージのコレクションのコンテナーを表す一般的な用語です。メッセージは、添付ファイルとともにコンテナ内に保存されます。フォルダ全体からのメッセージは 1 つのデータベース ファイルに保存され、新しいメッセージはファイルの末尾に追加されます。多くのアプリケーションと API が、Apple Mail や Mozilla Thunderbird などの MBox ファイル形式をサポートしています。

## MBOX ファイル形式 ##

MBox ファイル形式は、2005 年にアプリケーション/mbox が [RFC 4155.](https://tools.ietf.org/rfc/rfc4155.txt) として標準化されるまで、かなり長い間標準化されていませんでした。RFC 2822 形式のメッセージ、MBox ファイル形式内で次々に連結されます。各メッセージは、メッセージの送信者を識別する区切り線で始まり、メッセージが最終受信者 (転送パスの最後のホップ システム、または受信者として機能するシステム) によって受信された日付と時刻も識別します。メールストア）。通常、各メッセージは空行で終了します。データベースの終わりは通常、追加データがないか、明示的なファイルの終わりマーカーの存在によって認識されます。

## MBox ファイルからのメッセージの読み取り ##

リーダーは mbox ファイルをスキャンして From_ 行を探します。 From_ 行は、メッセージの開始を示します。読者は、すべての From_ 行 (ファイルの先頭以降) が空白行であるという事実を利用しようとしないでください。リーダーがメッセージを見つけると、(破損している可能性がある) エンベロープ送信者と配信日を From_ 行から抽出します。次に、次の From_ 行またはファイルの終わりのいずれか早い方まで読み取ります。最後の空白行を取り除き、>From_ 行や >>From_ 行などの引用を削除します。結果は RFC 822 メッセージです。

## エンコーディングに関する考慮事項 ##

受信した電子メールに添付ファイルとして Mbox ファイルが含まれており、別の Mbox ファイルに保存されている場合、MBox ファイルの内容が不可逆的に混在する可能性があります。これを回避するには、メッセージング システムは、そのようなオブジェクトがメッセージング プロトコル経由で転送されるときは常に、非透過的な転送エンコーディング (BASE64 や Quoted-Printable など) を使用して mbox データベースをエンコードする必要があります。実装者は、準拠していないデータが受信された場合に mbox データをローカルでエンコードする準備をする必要もあります。

## 参照 ##

* [MBox - RFC4155](https://tools.ietf.org/rfc/rfc4155.txt)
* [Mbox - ウィキペディア](https://en.wikipedia.org/wiki/Mbox)

