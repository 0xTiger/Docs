{
  "date" : "2020-03-16",
  "keywords" :[ "IGES ファイル", "ファイル形式", "CAD" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"IGES ファイル形式と,IGES ファイルを作成して開くことができる API について学びます。",
  "title" :"IGESファイル形式",
  "linktitle" : "IGES",
  "menu" : {
    "docs" : {
      "parent" : "cad"
}
},
  "lastmod" : "2020-07-28"
}

## IGES ファイルとは

拡張子が .iges のファイルは、コンピュータ支援設計 (CAD) アプリケーション間で設計情報を交換するために使用されます。 IGES は Initial Graphics Exchange Specifications の略です。 IGES を使用して交換される情報には、回路図、ワイヤーフレーム、フリーフォーム サーフェス、またはソリッド モデリング表現が含まれます。 IGES は、従来のエンジニアリング図面、モデル解析、および製造機能にその用途を見出しています。この形式は、CAD プログラム間で 2D または 3D の両方の設計情報を交換できます。 IGES ファイルは、Autodesk や CADSoftTools ABViewer などのいくつかの CAD アプリケーションで開くことができます。プログラムで IGES ファイルを開いて変換するために使用できる API もいくつかあります。

## IGES ファイル形式

IGES ファイルは ASCII テキスト形式で、任意のテキスト エディタで開いてファイルの内容を表示できます。 IGES ファイルのテキスト情報は、「ホレリス」形式で表されます。一般的な IGES ファイルには、この形式に従って交換できる 2D または 3D 情報を表す数千行を含めることができます。 IGES ファイルは 5 つのセクションに分割され、73 列目の特定の大文字で示されます。これらのセクションは、「開始」(S)、「グローバル」(G)、「データ入力」(D)、「パラメータ データ」(P)、および「終了」(T) セクションです。 Data Entry および Parameter Data セクションは、通常、それぞれ DE および PD と省略されます。

### IGES ファイル ヘッダー

Start セクションと Global セクションには、次の基本情報が含まれています。
* ファイル名とそのソース
* パラメータ データ セクションの区切り文字
* ファイルの作成者、およびその他の一般情報。

ウィキペディアのサンプル ドキュメントの Start セクションと Global セクションは次のとおりです。
```
S      1
1H,,1H;,4HSLOT,37H$1$DUA2:[IGESLIB.BDRAFT.B2I]SLOT.IGS;,                G      1
17HBravo3 BravoDRAFT,31HBravo3->IGES V3.002 (02-Oct-87),32,38,6,38,15,  G      2
4HSLOT,1.,1,4HINCH,8,0.08,13H871006.192927,1.E-06,6.,                   G      3
31HD. A. Harrod, Tel. 313/995-6333,24HAPPLICON - Ann Arbor, MI,4,0;     G      4
```
ご覧のとおり、開始フィールドには人間が読めるファイルの説明が含まれており、列 1 ～ 72 には任意の文字があり、行はセクション ヘッダーとセクションの行番号で終わります。開始セクションは少なくとも 1 行必要です。グローバル セクションには、プリプロセッサ データが含まれます。また、ファイルに存在し、G000000# 形式で終わる必要があります。

### データ入力 (DE) およびパラメータ データ (PD) セクション

#### データ入力セクション
IGES ファイルは、IGES ファイル形式の基本データに関する情報を含むいくつかのエンティティで構成されています。エンティティには、IGES データ形式のさまざまな要素に関する情報が含まれており、描画に使用されます。より一般的に使用されるエンティティは次のとおりです。
* 円弧
* 合成曲線
*円錐弧
* 飛行機
* ライン

これらはほんの一部で、IGES には約 150 の異なるエンティティがあります。各エンティティは、次のようなタイプ番号で識別されます。
・サーキュラーアーク(100型)
* ライン (タイプ 110)

##### エンティティのプロパティ

宣言された各エンティティには、次のプロパティがあります。

|フィールド名|説明|
---|---|
|エンティティ タイプ |これは、記述されているエンティティのタイプです。たとえば、116 は Point エンティティを表します。|
|PD ポインター |これは、パラメーター・データ・セクション内のこのエンティティー・データの位置を示します。この場所は、このエンティティ データの最初の行を持つ PD セクション内の行番号です。|
|構造 |定義エンティティーへのゼロまたはポインター。ほとんどのエンティティには適用できません|
|ラインフォントパターン|ライン フォント パターン エンティティへの番号またはポインター。数字の意味: * 0 パターン指定なし (デフォルト) * 1 実線 * 2 破線 * 3 ファントム * 4 中心線 * 5 点線|
|レベル|このエンティティに関連付けるレベルを指定します。エンティティが複数のレベルに表示されることを許可します|
|見る|表示オプションを指定します。 0 すべてのビューで同等の可視性と特性を示します。から表示できるビュー エンティティ (タイプ 410) への既定のポインター ビュー表示関連性エンティティ (タイプ 402、フォーム 3) を参照します。
|変換マトリックス ポインター|変換マトリックス エンティティ (タイプ 124) を参照するか、デフォルトでゼロです (変換なし)|
|ラベル表示の関連付け|エンティティ ラベルの表示方法を定義するラベル表示の関連付け (タイプ 402、フォーム 5) を参照します。|
|ステータス番号| 2 つの数値の 4 つのセクションが含まれます。 1-2: ブランク状態。通常の場合は 00、ブランクの場合は 01 のいずれかです。 3-4: 下位エンティティ スイッチ: 独立の場合は 00、物理的な依存の場合は 01、論理的な依存の場合は 02、両方の場合は 03 です。 5-6: エンティティ使用フラグ: ジオメトリの場合は 00、注釈の場合は 01、定義の場合は 02、その他の場合は 03、論理の場合は 04、2D パラメトリックの場合は 05、構築ジオメトリの場合は 06 です。最後に、7 ～ 8 は階層です。00 はグローバル トップ ダウン (このエンティティの特性を使用)、01 はグローバル延期 (このエンティティの特性を使用しない)、02 は階層プロパティの使用 (階層エンティティ (タイプ 406、フォームを使用)) を示します。 10) 階層的グループ化の特徴を決定するため)|
|配列番号| D# によって指定されます。# は、このセクションの行番号です (ファイルの先頭からではありません)。これは、このデータ入力エンティティを指すためにも使用されます。|
|エンティティタイプ|エンティティのリストごとに 2 回指定されます|
|線の太さ番号|エンティティを表示するときの太さを指定します。最小は 1、デフォルトは 0 |
|色番号|エンティティの色を指定します。使用できる整数値は次のとおりです。 0 色なし (デフォルト) 1 黒 2 赤 3 緑 4 青 5 黄 6 マゼンタ 7 シアン 8 白 |
|パラメータの行数|このエンティティがパラメータ データ セクションで占める行数を指定します|
|フォーム番号|このエンティティのフォームまたは表現を示します。パラメータ データの解釈方法を変更します。デフォルトは 0|です。
|予約フィールド|使用されていません|
|予約フィールド|使用されていません|
|エンティティ ラベル|アプリケーション指定識別子 - 右詰め |
|添字番号|エンティティ ラベルの数値修飾子。両方が一緒になって、エンティティの一意の識別子を形成します|
|シーケンス番号 上記を参照してください。 |各エンティティは 2 行で指定されるため、これは D#+1 になります。|

#### パラメータ データ セクション
Data Entries セクションの後には、Parameter Data セクションが続きます。それぞれのエントリのデータを一覧表示し、グローバル セクションで指定された区切り文字に基づいてエンティティのパラメーターを一覧表示します (通常は、パラメーターを区切るコンマとリストを終了するセミコロン)。


## 参考文献
* [WikiPediaによるIGES](https://en.wikipedia.org/wiki/IGES)

