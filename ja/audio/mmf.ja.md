{
  "date" : "2021-08-09",
  "keywords" :["mmf","ファイル","拡張子","フォーマット","オーディオ","smaf","mmf拡張子","mmfファイル","携帯音楽ファイル","ヤマハ"],
  "author" : {
    "display_name" : "Sami Cheema"
},
  "draft" : "false",
  "toc" : true,
  "description" :"MMF ファイル形式と,MMF ファイルを作成して開くことができる API について学びます。",
  "title" :"MMF - モバイル音楽ファイル形式",
  "linktitle" : "MMF",
  "menu" : {
    "docs" : {
      "parent" : "audio"
}
},
  "lastmod" : "2021-08-09"
}

## .MMF オプション番号

MMF は、SMAF ファイルに関連付けられたファイル拡張子です。 MMFはMobile Music Fileの略で、SMAFはsynthetic-music Mobile Application Formatの略です。スマートフォン内の MMF ファイルには、システムの着信音、サウンドが含まれており、グラフィックやテキスト表示も含まれている場合があります。 MMF には、さらに FM、PCM、ストリーム PCM の 3 種類のインストゥルメント パラメータが含まれています。これらのファイル形式は、Windows システム プラットフォームと互換性があります。 MMF ファイルは、データ ファイルとして分類されます。通常、Microsoft Mail は MMF ファイルをサポートしています。 MMF サフィックスを持つファイルは、任意のモバイル デバイスまたはシステム プラットフォームにコピーできます。

さらに、これらのファイルは、標準の MIDI 形式のファイルに比べてサイズがはるかに小さくなっています。 [WAV](/audio/wav/)、[MID](/audio/mid/)ファイルをMMF形式に変換し、音声コンテンツとして共有・配信することができます。これらのファイルは、電話や PC に直接電子メールで受信できます。


## MMF ファイル形式の歴史

ヤマハは、スマートフォンがより多くの固有の着信音を保存できるように、SMAF ツールをサウンド ファイルとして開発しました。ヤマハは、MA-1、MA-2、MA-3、MA-5、および MA-7 LSI サウンド チップの製造で SMAF を導入しました。これらのフォーマットはすべて、2000 年初頭に東アジア市場の携帯電話でよく知られるようになりました。

国際レベルでは、MMF 形式は Samsung によって承認されました。 MMF 形式の助けを借りて、Samsung は、Samsung スマートフォンで使用されるさまざまなポリフォニック着信音を設計することができました。

ヤマハは、この形式をさらに普及させたいと考えていたため、公式のヤマハ SMAF ファイルでは、この形式と互換性のあるツールをさらに公開しました。これにより、ユーザーは自分のコンピューターで MMF ファイルを簡単に再生できるようになりました。


## MMF ファイル形式の仕様 ##

MMF ファイルは、データ セクションに分類されます。各セグメントを記述するために、8 バイト前後のプレフィックス付き構造が使用されます。
4 バイトのラベルには、CNTI、OPDA、MSTR、MTR、および ATR が含まれます。データ サイズに 8 バイトを加えたものがチャンク サイズです。ファイル全体のサイズは、すべてのチャンク サイズを合計して計算されます。ファイルが破損していない場合、合計ファイル サイズはプライマリ ヘッダー サイズと同じになります。

### ヘッダー ###

```
struct SMAF_Header
{
    uint32   SignatureMMMD;     // Signature: "MMMD"
    uint32   SizeSMAF;      // 4 byte data size, big-endian order
};
```

MMF ファイルの例を次に示します。

![](../mmf.png)

## 参考文献

* [MMF - ウィキペディアによる](https://en.wikipedia.org/wiki/Synthetic_music_mobile_application_format)

