{
  "date" : "2019-10-11",
  "keywords" :[ "3d2 ファイル", "3d2 ファイル形式", "3d2 ファイルとは", "ファイル", "3d2 の例", "3d2 ファイルの拡張子","拡張子", "形式" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"3D2 ファイル形式と,3D2 ファイルを開いて作成できる API について学びます。",
  "title" :"3D2 - CAD-3D 2.0 ファイル形式",
  "linktitle" : "3D2",
  "menu" : {
    "docs" : {
      "parent" : "3d"
}
},
  "lastmod" : "2019-09-10"
}

## 3D2ファイルとは?

拡張子が .3D2 のファイルは、複数の 3D オブジェクトとこれらのオブジェクトに関する情報を格納する CAD-3D 2.0 ファイルです。 3D オブジェクトで使用される稲妻とカラー パレットの情報はすべて、このファイルに保存されます。 1 つのファイルには最大 40 個のオブジェクトを保持できます。 3D2 は、コンピューター アニメーションの初期のフォーマットとして使用されていました。 3DS ファイルは、Quick3D アプリケーション ソフトウェアで開くことができます。

## 3D2 ファイル形式

3D2 ファイル形式は古いファイル形式に似ており、2 つの部分で構成されています。

1. ファイルに含まれるオブジェクトの数、照明設定、および色情報に関する情報を含む 256 バイトのヘッダー。
1. ファイル内の 3D オブジェクトを定義するデータの繰り返し構造。

3D2 ファイル形式は古いファイル形式に似ていますが、Motorola の高速浮動小数点ライブラリ (LIBF) に依存しないという点で異なります。各座標を 4 バイトの浮動小数点値ではなく 2 バイトのワードに格納することで、必要なストレージが大幅に削減されます。

### 3D2 ヘッダー

|フィールド|タイプ|値|
---|---|---|
|ファイルID|単語 | $3D02|
|ファイル内のオブジェクト数|WORD|1-40|
|光源Aオン/オフインジケーター|WORD| (0=オフ、1=オン)|
|光源Bの点灯/消灯表示 |WORD| (0=オフ、1=オン)|
|光源 C オン/オフ表示 |WORD| (0=オフ、1=オン)|
|光源Aの明るさ |WORD|(0-7)|
|光源Bの明るさ |WORD|(0-7)|
|光源 C の明るさ |WORD|(0-7)|
|周囲光の明るさ |WORD|(0-7)|
|光源の AZ 位置 |WORD|(-50 ～ +50)|
|光源 BZ 位置 |WORD|(-50 ～ +50)|
|光源 CZ 位置 |WORD|(-50 ～ +50)|
|光源 AY 位置 |WORD|(-50 ～ +50)|
|光源 BY 位置 |WORD|(-50 ～ +50)|
|光源CY位置 |WORD|(-50～+50)|
|光源の AX 位置 |WORD|(-50 ～ +50)|
|光源 BX 位置 |WORD|(-50 ～ +50)|
|光源 CX 位置 |WORD|(-50 ～ +50)|
|オブジェクトカラーパレット|16ワード|(BIOSフォーマット)|
|色グループ基本配列|16 WORDs| | |

### カラー グループ ベース配列

3D2 ファイルのパレットには、その色が属するグループ内の最初の色のインデックスを示す色グループ ベース配列が付随している必要があります。以下は、黒の背景色を含み、その後に 5 つの赤、5 つの緑、および 5 つの青が続くパレットの例です。

|インデックス|カラー|ベース|
---|---|---|
|0|000| 0|
|1|100| 1|
|2|200| 1|
|3|300| 1|
|4|400| 1|
|5|500| 1|
|6|010| 6|
|7|020| 6|
|8|030| 6|
|9|040| 6|
|10|050| 6|
|11|001| 11|
|12|002| 11|
|13|003| 11|
|14|004| 11|
|15|005| 11|

## 参考文献

* [3D2 ファイル形式](http://paulbourke.net/dataformats/3d2/)

