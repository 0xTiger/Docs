{
  "date" : "2019-10-11",
  "keywords" :["objファイル","objファイル形式","objファイルとは","ファイル","obj例","objファイル拡張子","拡張子","形式"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"OBJファイル形式",
  "description":"OBJ ファイル形式と,OBJ ファイルを開いて作成できる API について学びます。",
  "linktitle" : "OBJ",
  "menu" : {
    "docs" : {
      "parent" : "3d"
}
},
  "lastmod" : "2019-09-10"
}

## OBJ ファイルとは何ですか?

**OBJ** ファイルは、Wavefront の Advanced Visualizer アプリケーションで使用され、ジオメトリ オブジェクトを定義および保存します。ジオメトリ データの前後の転送は、OBJ ファイルを介して可能になります。ポイント、ライン、テクスチャ頂点、面などのポリゴン ジオメトリと、自由形式のジオメトリ (曲線とサーフェス) の両方が OBJ 形式でサポートされています。この形式は、シーンの光と位置に関連するアニメーションや情報をサポートしていません。

通常、OBJ ファイルは、CAD (Computer Aided Design) によって生成された 3D モデリング プロセスの最終製品です。頂点を格納するデフォルトの順序は反時計回りであり、面法線の明示的な宣言を回避します。 OBJ ファイルはコメント行で縮尺情報を宣言しますが、OBJ 座標の単位は宣言されていません。

## 3D OBJ フォーマットの歴史

Wavefront Technologies は、ジオメトリック オブジェクトと 3D データを格納する Advanced Visualizer アプリケーション用に OBJ ファイル形式を作成しました。そのバージョン 2.11 は、新しく文書化されたバージョン 3 に取って代わられました。ファイル形式はオープンであり、3D グラフィックス アプリケーション用に他のベンダーによって実装されています。 Wavefront Technologies は、このファイル形式をオープン ソースであり、ニュートラルな状態に保ちました。

## OBJ ファイル形式

3D オブジェクトでは、サーフェス ジオメトリのエンコードは困難な作業であり、OBJ ファイル形式は非常にうまく機能します。この形式は、サーフェス ジオメトリをエンコードするための多くの選択肢を提供するため、非常に用途が広いです。以下は、独自の利点と欠点を持つ 3 つの許可された形式です。

### 多角形面によるテッセレーション

OBJ ファイル形式を使用すると、単純または複雑な幾何学的形状を使用して 3D モデル サーフェスをテッセレーションできます。モデルのサーフェス ジオメトリ エンコーディングでは、ファイルに各ポリゴンの頂点と法線が格納されます。テッセレーションはモデルの粗さを増しますが、ファイルのサイズと印刷品質の間の正しいバランスを見つける必要があります。

### 自由曲線

OBJ ファイル形式を使用すると、ユーザー定義の自由曲面曲線でモデルの面形状を指定できます。自由曲線は多角形の面より複雑なので、数学的パラメーターがほとんどないため、曲線は自由曲線によって最もよく定義されます。したがって、ポリゴン テッセレーションと比較して少ないデータで、ファイル サイズを拡大することなく、任意の 3D モデルの高品質のエンコーディングを生成するために使用されるフリーフォーム カーブが使用されます。

### 自由曲面

OBJ ファイル形式は、自由形式のサーフェス パッチを使用したサーフェス ジオメトリのタイリングも指定します。この種のフリーフォーム サーフェス パッチ (NURBS) は、トラックのボディ、ヘリコプターの翼、ボートの船体など、半径方向の寸法が固定されていないサーフェスに非常に適しています。フリーフォーム サーフェスの使用は、ファイル サイズをより小さく、より高い精度で維持するために、より正確であるため、非常に有利です。これらの表面は、精度の低さが容認されない航空宇宙産業や自動車産業にとって不可欠な部分です。

次のキーワードは、サーフェス ジオメトリを定義するためにデータ タイプ別に並べられています。


|要素|フリーフォーム カーブ/サーフェス ボディ ステートメント|フリーフォーム カーブ/サーフェス アトリビュート
---|---|---|
|p|ポイント|parm|パラメータ値|度|度
|l|Line|trim|外側トリミング ループ|bmat|基底行列
|f|面|穴|内側トリミング ループ|ステップ|ステップ サイズ
|curv|Curve|scrv|特殊曲線|cstype|曲線または曲面タイプ
|curv2|2D 曲線|sp|特別な点|**接続性とサーフェスのグループ化**
|surf|Surface|end|End ステートメント|con|connect
|**表示/レンダリング属性**|g|グループ名
|ベベル|ベベル補間|shadow_obj|シャドウ キャスティング|s|スムージング グループ
|lod|詳細レベル|trace_obj|レイ トレーシング|mg|結合グループ
|d_interp|ディゾルブ補間|ctech|曲線近似法|o|オブジェクト名
|c_interp|色補間|stech|曲面近似技術|
|usemtl|材料名|mtllib|材料ライブラリ|
|**幾何学的頂点**|
|v|幾何学的頂点|vn|頂点法線|
|vt|テクスチャ頂点|vp|パラメータ空間頂点|

### 色と質感

OBJ ファイルを使用すると、色とテクスチャの情報をマテリアル テンプレート ライブラリ (MTL) と呼ばれる関連ファイル形式に保存できます。マルチカラー ジオメトリック モデルは、これら 2 つのファイルを一緒に使用してレンダリングします。 MTL ファイルは ASCII ベースであり、フォン反射のモデルを使用して表面の光反射特性を記述することにより、コンピューター レンダリングを容易にします。この規格は、マテリアルの交換に利用する多数のソフトウェア ベンダーによって採用されています。 MTL 形式は、鏡面反射マップや視差マップなどの最新テクノロジをサポートしていないため、少し古くなっています。

## 参考文献

* [ウェーブフロント .obj ファイル](https://en.wikipedia.org/wiki/Wavefront_.obj_file)

