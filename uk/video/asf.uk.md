{
  "date" : "2021-02-15",
  "keywords" :[ "файл asf", "формат файлу asf", "що таке файл asf", "файл", "приклад asf", "розширення файлу asf", "розширення", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"ASF - Advanced Systems File Format",
  "description":"Дізнайтеся про формат файлу ASF та API, які можуть створювати та відкривати файли ASF.",
  "linktitle" : "ASF",
  "menu" : {
    "docs" : {
      "parent" : "video"
}
},
  "lastmod" : "2021-02-16"
}

## Що таке файл ASF?

Файл із розширенням .asf — це формат мультимедійного файлу для зберігання та відтворення цифрових медіапотоків у мережі. Це формат файлу-контейнера, який може містити як відео-, так і аудіовміст для трансляції онлайн. Ви рідко знайдете файли ASF, і, швидше за все, натрапите на файли Windows Media Audio ([WMA](/uk/audio/wma/)) і Windows Media Video ([WMV](/uk/video/wmv/)), які містять файли ASF мати вміст, закодований відповідними кодеками. Файли Windows Media можна створювати та читати за допомогою Windows Media Format SDK.

## Формат файлу ASF

Файл ASF може містити кілька незалежних або залежних потоків. Це може включати кілька аудіопотоків для багатоканального аудіо або відеопотоків з кількома бітрейтами. Кілька бітрейтів роблять потоки придатними для передачі через різні смуги пропускання. Крім того, потоки у файлі ASF можуть бути у стисненому або нестисненому форматі. Найкраще стиснення досягається за допомогою кодеків Microsoft Windows Media Audio and Video 9 Series. Повні характеристики формату файлу ASF доступні на [веб-сайті Microsoft](https://download.microsoft.com/download/7/9/0/790fecaa-f64a-4a5e-a430-0bccdab3f1b4/ASF_Specification.doc).

### Файлова структура верхнього рівня ASF

Файли ASF логічно містять три типи об’єктів верхнього рівня:

* `Об’єкт заголовка` – обов’язковий і має бути розміщений на початку кожного файлу ASF
* `Data Object` - обов'язковий і має слідувати за об'єктом заголовка
* `Index Object(s)` - необов'язковий, але корисний для надання довільного доступу до файлів ASF за часом

На наступному зображенні показано файлову структуру верхнього рівня файлів ASF.

![ASF File Structure](../asf.png "ASF File Structure")

#### Об'єкт заголовка верхнього рівня ASF

Об’єкт Header надає добре відому послідовність байтів на початку файлів ASF і може додатково містити метадані, наприклад бібліографічну інформацію. Він містить усю інформацію, необхідну для належної інтерпретації інформації в об’єкті даних. Об’єкт заголовка може включати кілька стандартних об’єктів, включаючи, але не обмежуючись:

* Об'єкт властивостей файлу - містить глобальні атрибути файлу.
* Об'єкт властивостей потоку - визначає цифровий медіа-потік і його характеристики.
* Об’єкт розширення заголовка – дозволяє додавати додаткові функції до файлу ASF, зберігаючи зворотну сумісність.
* Об’єкт опису вмісту – містить бібліографічну інформацію.
* Об’єкт команди сценарію – містить команди, які можна виконати на часовій шкалі відтворення.
* Об’єкт маркера – надає іменовані точки переходу у файлі.

Об’єкт заголовка представлено за допомогою такої структури:

|Назва поля |Тип поля |Розмір (біт)|
---|---|---|
|Ідентифікатор об'єкта| GUID| 128|
|Розмір об'єкта| QWORD| 64|
|Кількість об'єктів заголовка| DWORD| 32|
|Зарезервовано1| БАЙТ| 8|
|Зарезервовано2| БАЙТ| 8|

#### Об'єкт даних верхнього рівня ASF

Усі цифрові мультимедійні дані для файлу ASF містяться в об’єкті даних і зберігаються у формі пакетів даних ASF. Кожен пакет даних має фіксовану довжину та містить дані для одного або кількох цифрових медіа-потоків.

#### Об'єкти індексу верхнього рівня ASF

Об’єкти індексу верхнього рівня ASF мають такі два типи:

* `Simple Index Object` - містить часовий індекс відеоданих у файлі ASF. Інтервал часу між записами індексу постійний і зберігається в простому об’єкті індексу.
* `Об’єкт індексу` – відноситься до об’єкта індексу, об’єкта індексу медіаоб’єкта та об’єкта індексу часового коду, формати яких подібні. Як і простий індексний об’єкт, індексний об’єкт індексує за часом із фіксованим інтервалом часу, але не обмежується відеопотоками.

## Список літератури

* [Формат файлу ASF – Microsoft](https://download.microsoft.com/download/7/9/0/790fecaa-f64a-4a5e-a430-0bccdab3f1b4/ASF_Specification.doc)
* [Формат файлу QuickTime – Вікіпедія](https://en.wikipedia.org/wiki/QuickTime_File_Format)

