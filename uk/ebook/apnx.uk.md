{
  "date" : "2021-03-11",
  "keywords" :[ "APNX", "індекс номерів сторінок Amazon", "розширення", "файл", "формат", "електронна книга", "Amazon Kindle" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description":"Дізнайтеся про формат файлів Amazon APNX та API, які можуть створювати та відкривати файли APNX.",
  "title" :"APNX - індекс номерів сторінок Amazon",
  "linktitle" : "APNX",
  "menu" : {
    "docs" : {
      "parent" : "ebook"
}
},
  "lastmod" : "2021-05-28"
}

## Що таке файл APNX? ##

Файл індексу номера сторінки Amazon, який використовує розширення .apnx, є типом файлу електронної книги; використовується Amazon Kindle. Ці файли насправді відомі як файли розбиття на сторінки, які використовуються пристроями Kindle. Отже, файли APNX зазвичай створюються для позначення сторінок електронних книг Kindle. Функцію розбиття на сторінки було запущено на пристроях Amazon Kindle з мікропрограми 3.1. Він шукає у файлі APNX індекси сторінок, а потім зіставляє його з номерами сторінок оригінальної друкованої книги. Ці файли зберігаються на пристроях Kindle разом із файлами електронних книг Amazon. Ви не можете відкривати або редагувати файли APNX.

## Специфікації формату файлу APNX ##

### Макет

|байтів| зміст| коментарі|
---|---|---|
|4 |00010001 | Ідентифікатор формату. Значення 65537 little-endian.|
|4 |початок наступного | Зміщення після кінцевого розташування першого заголовка. Починає нову послідовність інформації заголовка|
|4 |довжина| Довжина першого заголовка|
|N |перший заголовок | Рядок із заголовком вмісту. Починається наступна послідовність|
|2 |невідомо | Завжди 1|
|2 |довжина | Довжина другого заголовка|
|2 |кількість сторінок | Загальна кількість байтів після другого заголовка, які представляють сторінки. Ця сума включає байти, які ігноруються pageMap.|
|2 |невідомо | Завжди 32|
|N |другий заголовок | Рядок, що містить заголовок відображення сторінки|
|4*N |прокладка | Перше число в заголовку відображення сторінки вказує на кількість 0 байтів.|
|4*N |список сторінок ||

### Заголовок вмісту

Заголовок вмісту складається з рядка, укладеного в {}, що містить пари ключів і значень:

|зміст| коментарі|
---|---|
|contentGuid| Гід.|
|асін | Ідентифікатор Amazon для версії книги Kindle.|
|cdeType | MOBI cdeType. Для електронних книг завжди має бути EBOK.|
|fileRevisionId | Редакція цього файлу.|

#### Приклад
```
{"contentGuid":"d8c14b0","asin":"B000JML5VM","cdeType":"EBOK","fileRevisionId":"1296874359405"}
```
### Заголовок відображення сторінки
Заголовок зіставлення сторінки складається з рядка, укладеного в {}, що містить пари ключів і значень.

|зміст | коментарі|
---|---|
|асін | ISBN 10 паперової книги, сторінки якої відповідають|
|pageMap| Кортеж із трьома значеннями. Виглядає так: "(N,N,N)\
1) Кількість байтів після заголовка, з якого починається послідовність нумерації сторінок\
2) невідомий\
3) невідомий\|
#### Приклад
```
{"asin":"1906694184","pageMap":"(4,a,1)"}
```

### Список сторінок

Список сторінок — це послідовність зсувів у необробленому HTML. Кожен
значення є початком нової сторінки. Кожен запис є 4-байтовим старшим порядком байтів
внутр.



## Список літератури

* [Формат файлу Amazon APNX](https://nachtimwald.com/2011/02/09/amazon-apnx-file-format/)
* [APNX - від MobileRead Wiki](https://wiki.mobileread.com/wiki/APNX)

