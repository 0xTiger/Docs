{
  "date" : "2019-12-12",
  "keywords" :[ "LRF", "файл", "розширення", "формат", "електронна книга", "цифрова книга" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"Дізнайтеся про формат файлу LRF та API, які можуть створювати та відкривати файли LRF.",
  "title" :"Формат файлу LRF - файл Sony Portable Reader",
  "linktitle" : "LRF",
  "menu" : {
    "docs" : {
      "parent" : "ebook"
}
},
  "lastmod" : "2019-12-12"
}

## Що таке файл LRF?

Файл із розширенням .lrf — це файл широкосмугової електронної книги (BBeB), який містить дані для Sony BBeB, зокрема текст, зображення та дані поділу на сторінки. Файл зберігається у стисненому двійковому форматі, який містить заголовок, вказану кількість об’єктів та індекс об’єкта. Файли LRF і LRX містять два доступні формати книг BBeB. Файли LRF не зашифровані та можуть бути скомпільовані з файлів [LRX](/uk/ebook/lrf/). Файли LRF можна конвертувати з кількох інших типів файлів, включаючи PDF і HTML. Якщо ваш комп’ютер не може відкрити файл LRF, можливо, у вас не встановлено програмне забезпечення для відкриття або редагування файлів LRF. Програми, які можуть відкривати файли LRF, це Calibre, BookDesigner, Makelrf і Canon Book Creator для Windows, Calibre для Linux, Calibre і Sony Reader для Macintosh.

## Коротка історія

Тип файлу LRF насамперед асоціюється з Line Rider від [inXile entertainment](https://en.wikipedia.org/wiki/InXile_Entertainment). Line Rider — це інтернет-іграшка з фізики, винайдена у вересні 2006 року студентом словенського університету Боштяном Чадежем. Пристрої для читання електронних книг Sony (наприклад, пристрої для читання Sony PRS-500 і Sony Librie) використовують розширення файлу LRF для своїх документів і текстів. Цей запатентований тип файлу зараз застарів, а також пов’язані файли LRS і LRX. Ці три типи файлів склали електронну книгу BroadBand (BBeB), яка була припинена в 2010 році, коли Sony почала продавати свої електронні книги у форматі EPUB.

## Формат файлу LRF

Детальні специфікації формату файлу LRF доступні на [веб-архіві](https://web.archive.org/web/20110809071744/http://www.sven.de/librie/Librie/LrfFormat). Файл LRF складається з:
* заголовок
* ряд об'єктів
* індекс об'єкта.

Усі ці значення наведено в порядку Intel (перший LSB).

### Заголовок LRF

|Зсув (шістнадцятковий) |Розмір (байти) |Назва/значення| Приклад значення|
---|---|---|---|
|0 |8| Підпис LRF| 4C 00 52 00 46 00 00 00 = "LRF" в Unicode|
|8 |2| версія?| 999 у більшості файлів|
|A |2| «Псевдо-шифрування» |ключовий байт 48|
|0C |4| RootObjectID| 0x0044|
|10 |8| NumberOfObjects |342|
|18 |8| ObjectIndexOffset| 0x00093440|
|20 |4| невідомий| 0|
|24 |1| Прапори| (16 - спина наперед, 1 = спереду назад) 16|
|25 |1| невідомо |(заповнення?) 0|
|26 |2| невідомий| 1600|
|28 |2| невідомий| (заповнення?) 0|
|2A |2| Висота?| 600|
|2C |2| Ширина?| 800|
|2E |1| невідомий| 24|
|2F |1| невідомо |(заповнення?) 0|
|30 |0x14| невідомий| нулі|
|44 |4| Ідентифікатор лише об’єкта PlaneStream (0x1E)| 0x0042|
|48 |4| невідомий |0x1536|
|4C |2| XMLCompSize| 0x035C|


## Список літератури

* [Формат файлу LRF](https://web.archive.org/web/20110809071744/http://www.sven.de/librie/Librie/LrfFormat)
* [BBeB – Вікіпедія](https://en.wikipedia.org/wiki/BBeB)

