{
  "date" : "2021-06-24",
  "keywords" :[ "bat-файл", "що таке bat-файл", "файл", "приклад bat-файлу", "розширення", "формат" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description":"Дізнайтеся про формат файлу BAT та API, які можуть створювати та відкривати файли BAT.",
  "title" :"BAT - формат пакетного файлу",
  "linktitle" : "BAT",
  "menu" : {
    "docs" : {
      "parent" : "executable"
}
},
  "lastmod" : "2021-06-24"
}

## Що таке файл BAT?
Файл BAT відомий як пакетний файл, який запускається з DOS і всіма версіями Windows під cmd.exe. Він складається з серії рядкових команд у вигляді звичайного тексту, які виконуються інтерпретатором командного рядка для виконання різних завдань, наприклад запуску утиліт обслуговування в Windows або запуску типових програм. Пакетний файл може містити будь-яку команду, яка може бути прийнята інтерпретатором в інтерактивному режимі, і використовувати структуру коду, що дозволяє умовне розгалуження та цикл, як це написано в пакетному файлі.
## Формат файлу BAT
Формат файлу BAT — це просто сценарій, вбудований для автоматизації послідовностей команд, які за своєю природою повторюються. Термін «пакет» використовується для пакетної обробки, його можна розглядати як «неінтерактивне виконання». Тому пакетний файл може не обробляти пакет із кількома даними. У старій дисковій операційній системі (DOS) пакетний файл запускався в інтерфейсі командного рядка шляхом введення назви файлу та розширення .bat. Попередня операційна система на основі графічного інтерфейсу Microsoft, наприклад Microsoft Windows, залежала від DOS. Користувачам доводилося використовувати DOS для виконання типових операцій, таких як відновлення, оптимізація або повторна інсталяція Windows. Пізніше Microsoft представила Windows NT, яка не залежала від операційної системи DOS. Таким чином, пакетні файли можна запускати за допомогою командного рядка або **cmd.exe** у сучасних операційних системах Microsoft.
### Параметри пакетного файлу
Командний рядок підтримує низку спеціальних змінних, таких як **%0, %1 до %9**, щоб посилатися на ім’я та шлях пакетного завдання та дев’ять параметрів виклику з пакетного завдання. Неіснуючі параметри замінюються рядком нульової довжини. Хоча їх можна використовувати подібно до змінних середовища, але вони не зберігаються в середовищі. Microsoft і IBM називають ці змінні параметрами заміни, тоді як Novell, Digital Research і Caldera ввели для них термін змінні заміни.

Ось кілька корисних команд пакетного файлу:
| Команда | Опис |
------|------------|
| VER | Ця пакетна команда показує версію MS-DOS, яку ви використовуєте. |
|ASSOC| Це пакетна команда, яка пов’язує розширення з типом файлу (FTYPE), відображає наявні зв’язки або видаляє зв’язок. |
|CD| Ця пакетна команда допомагає вносити зміни до іншого каталогу або відображає поточний каталог. |
|CLS| Ця пакетна команда очищає екран. |
|КОПІЯ| Ця пакетна команда використовується для копіювання файлів з одного місця в інше. |
|DEL| Ця пакетна команда видаляє файли, а не каталоги. |
|DIR| Ця пакетна команда показує вміст каталогу. |
|ДАТА| Ця пакетна команда допомагає знайти системну дату. |
|ЛУНА| Ця пакетна команда відображає повідомлення або вмикає чи вимикає відлуння команд. |
|ВИХІД| Ця пакетна команда виходить з консолі DOS. |
|MD| Ця пакетна команда створює новий каталог у поточному місці. |
|ПЕРЕМІСТИТИ| Ця пакетна команда переміщує файли або каталоги між каталогами. |
|ШЛЯХ| Ця пакетна команда відображає або встановлює змінну шляху. |
|ПАУЗА| Ця пакетна команда запитує користувача та очікує на введення рядка введення. |
|ПРИМІТКА| Цю пакетну команду можна використовувати для зміни або скидання запиту cmd.exe. |
|RD| Ця пакетна команда видаляє каталоги, але каталоги мають бути порожніми, перш ніж їх можна буде видалити. |
|REN| Перейменовує файли та каталоги |
|REM| Ця пакетна команда використовується для зауважень у пакетних файлах, запобігаючи виконанню вмісту зауваження. |
|СТАРТ| Ця пакетна команда запускає програму в новому вікні або відкриває документ. |
|ЧАС| Ця пакетна команда встановлює або відображає час. |
|ТИП| Ця пакетна команда друкує вміст файлу або файлів у вивід. |
|ОБ'ЄМ| Ця пакетна команда відображає мітки томів. |
|ATTRIB| Відображає або встановлює атрибути файлів у поточному каталозі |
|ЧКДСК| Ця пакетна команда перевіряє диск на наявність проблем. |
|ВИБІР| Ця пакетна команда надає користувачеві список параметрів. |
|CMD| Ця пакетна команда викликає інший екземпляр командного рядка. |
|КОМП| Ця пакетна команда порівнює 2 файли на основі розміру файлу. |
|ПЕРЕТВОРЮВАТИ| Ця пакетна команда перетворює том із файлової системи FAT16 або FAT32 у файлову систему NTFS. |
|ЗАПИТ ВОДІЯ| Ця пакетна команда показує всі встановлені драйвери пристроїв та їхні властивості. |
|РОЗШИРИТИ| Ця пакетна команда витягує файли зі стиснених CAB-файлів. |
|ЗНАЙТИ| Ця пакетна команда шукає рядок у файлах або вхідних даних, виводячи відповідні рядки. |
|ФОРМАТ| Ця пакетна команда форматує диск для використання файлової системи, яка підтримується Windows, наприклад FAT, FAT32 або NTFS, таким чином перезаписуючи попередній вміст диска. |
|ДОПОМОГА| Ця пакетна команда показує список команд, які надає Windows. |
|IPCONFIG| Ця пакетна команда відображає конфігурацію IP-адреси Windows. Показує конфігурацію за підключенням і назву цього підключення. |
|МІТКА| Ця пакетна команда додає, встановлює або видаляє мітку диска. |
|БІЛЬШЕ| Ця пакетна команда відображає вміст файлу або файлів по одному екрану за раз. |
|NET| Надає різноманітні мережеві послуги залежно від використовуваної команди. |
|PING| Ця пакетна команда надсилає пакети «ехо» ICMP/IP через мережу на вказану адресу. |
|ВИМКНЕННЯ| Ця пакетна команда вимикає комп’ютер або виходить із системи поточного користувача. |
|СОРТ| Ця пакетна команда отримує вхідні дані з вихідного файлу та сортує його вміст за алфавітом від А до Я або Я до А. Вона друкує вихідні дані на консолі. |
|SUBST| Ця пакетна команда призначає букву диска локальній папці, відображає поточні призначення або видаляє призначення. |
|SYSTEMINFO| Ця пакетна команда показує конфігурацію комп’ютера та його операційної системи. |
|ЗАВДАННЯ| Ця пакетна команда завершує одне або кілька завдань. |
|СПИСОК ЗАВДАНЬ| Ця пакетна команда містить список завдань, включаючи назву завдання та ідентифікатор процесу (PID). |
|XCOPY| Ця пакетна команда копіює файли та каталоги більш розширеним способом. |
|ДЕРЕВО| Ця пакетна команда відображає дерево всіх підкаталогів поточного каталогу на будь-якому рівні рекурсії або глибини. |
|FC |Ця пакетна команда містить список фактичних відмінностей між двома файлами. |
|DISKPART |Ця пакетна команда показує та налаштовує властивості розділів диска. |
|TITLE |Ця пакетна команда встановлює заголовок, який відображається у вікні консолі. |
|НАБІР | Відображає список змінних середовища в поточній системі. |

## Приклад файлу BAT
Пакетні сценарії зазвичай зберігаються як прості текстові файли; містить команди, які виконуються в послідовності. Ці файли зберігаються з розширенням .bat; розпізнається та виконується за допомогою програмного забезпечення **Command Interpreter**. Це програмне забезпечення доступне в Microsoft Windows під назвою **cmd.exe**.

Ось зразок пакетного сценарію, який видаляє всі файли в поточному каталозі:
```
:: Deletes All files in the Current Directory With Prompts and Warnings
::(Hidden, System, and Read-Only Files are Not Affected)
:: @ECHO OFF
DEL . DR
```


## Список літератури

* [Пакетний сценарій – короткий посібник](https://www.tutorialspoint.com/batch_script/batch_script_quick_guide.htm)
* [Пакетний файл - від Wikipewdia](https://en.wikipedia.org/wiki/Batch_file)

