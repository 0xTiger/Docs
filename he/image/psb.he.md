{
  "date" : "2019-10-11",
  "keywords" :[ "קובץ psb", "פורמט קובץ psb", "מהו קובץ psb", "קובץ", "דוגמה לpsb", "סיומת קובץ psb","סיומת", "פורמט" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"PSB - Photoshop Big Image File Format",
  "description":"למד על פורמט קובץ PSB וממשקי API שיכולים ליצור ולפתוח קובצי PSB.",
  "linktitle" : "PSB",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## מהו קובץ PSB?
Adobe Photoshop שומר קבצים בשני פורמטים. קבצים בגודל של 30,000 על 30,000 פיקסלים נשמרים עם סיומת PSD וקבצים גדולים מ-PSD עד 300,000 על 300,000 פיקסלים נשמרים עם סיומת PSB הידועה בשם "Photoshop Big". ליתר דיוק, קבצי PSB יכולים להיות גדולים עד 4 EB (מעל 4.2 מיליארד ג'יגה-בייט) עם תמונות בעלות גובה ורוחב של עד 300,000 פיקסלים. PSDs, לעומת זאת, יכולים להיות עד 2 ג'יגה-בייט וממדי תמונה של 30,000 פיקסלים.

PSB ידוע גם כגודל פורמט גדול לפוטושופ ותומך בכל תכונות הפוטושופ כמו שכבות, אפקטים ומסננים. פוטושופ יכולה להמיר קובץ PSB ל-[PSD](/he/image/psd/), [JPG](/he/image/jpeg/) , [PNG](/he/image/png/), [EPS](/he/page-description-language/eps/), [GIF](/he/image/gif/) ופורמטים אחרים גם כן. פורמט מסמכים גדולים של Photoshop זמין לאחר הפעלת התכונה של חלונית הטיפול בקבצים בתיבת הדו-שיח ההעדפות של Photoshop.

## מידע על פורמט קובץ ##

פורמט קובץ Photoshop מחולק לחמישה חלקים עיקריים עם סמני אורך רבים למעבר בין חלקים.

|פורמט קובץ
---|
|כותרת הקובץ
|נתוני מצב צבע
| משאבי תמונה
|מידע על שכבה ומסכה
|(((
נתוני תמונה
)))

### כותרת הקובץ ###

לכותרת הקובץ יש אורך קבוע של 26 בתים ומכילה את המאפיינים הבסיסיים של התמונה.

חתימת BYTE [4] - שווה ל-'8BPS'.

גירסת WORD [2] - מספר גרסה, PSD # 1, PSB # 2.

BYTE שמור [6] - שמור ותמיד אפס.

ערוצי WORD [2] - מספר ערוצי צבע בתמונה כולל ערוצי אלפא. הערך שלו נע בין 1 ל-56.

LONG Rows [4] – גובה התמונה בפיקסלים, PSD 1-30,000, PSB 1-300,000.

LONG Columns [4] – רוחב התמונה בפיקסלים, PSD 1-30,000, PSB 1-300,000.

WORD Depth [2] - מספר ביטים לכל ערוץ. הערכים הנתמכים הם 1,8,16 ו-32.

מצב WORD [2] - מצב צבע של הקובץ.

#### תיאור מצב ####


|מצב|תיאור
---|---|
|0|מפת סיביות (מונוכרום)
|1|סולם אפור
|2|אינדקס
|3|RGB
|4|CMYK
|7|רב ערוצים
|8|דואוטון (חצי גוון)
|9|מעבדה

### נתוני מצב צבע ###

לאחר קטע כותרת הקובץ יופיע קטע נתוני מצב הצבע. הבלוק מתחיל ב-LONG Number שנותן את אורך הבלוק בבתים. המבנה של נתוני מצב הצבע הוא כדלקמן:

4 בתים - האורך של נתוני הצבע הבאים.

משתנה - נתוני צבע

אם ערך שדה המצב בקטע הכותרת אינו אינדקס צבע או דואוטון, אורך הבלוק יהיה 0 ולא יהיו נתונים לאחר שדה האורך.

עבור תמונות צבע עם אינדקס, האורך יהיה 768 בתים שיכילו פלטת צבעים של 256. עבור דואוטון, הנתונים יכילו פרמטרים של מסך ומידע קשור אחר.

### משאבי תמונה ###

בעקבות קטע נתוני מצב הצבע, הבלוק השלישי הוא קטע משאבי התמונה. ארבעת הבתים הראשונים הם מספר LONG המציין את אורך הבלוק ואחריו סדרה של בלוקים של משאבים. המבנה של בלוק משאבי התמונה הוא כדלקמן:

סוג BYTE [4] - חתימה '8BIM'

מזהה WORD [2] - מזהה משאב תמונה. יש רשימה של מזהי משאבים שניתן לראות מקישור ההפניה.

שם BYTE [משתנה] - שם: מחרוזת פסקל באורך זוגי. ******

LONG Size [4] - הגודל האמיתי של נתוני המשאבים הבאים.

נתוני BYTE [משתנה} - נתוני משאבים. הוא מרופד כדי להפוך את הגודל האחיד.

חלק מתבניות המשאבים מוסברים בקצרה להלן:

**פורמט משאבי רשת ומדריכים:** מידע על רשת ומדריכים מאוחסן בבלוק משאבים. בלוקי משאבים אלה מכילים רשת של 16 בתים וכותרת מדריך ואחריה בלוקים של 5 בתים של מידע מדריך.

**פורמט משאב תמונות ממוזערות:** מידע ממוזער מאוחסן בבלוק משאבי תמונה לתצוגה מקדימה, המורכב מכותרת של 28 בתים ותמונה ממוזערת של JFIF ב-RGB.

**פורמט משאבי דוגמי צבע:** מידע דוגמי צבע מאוחסן בבלוק משאבי תמונה עם כותרת של 8 בתים ואחריה בלוק באורך משתנה של מידע על דגמי צבע.

### מידע על שכבה ומסכה ###

הבלוק הרביעי הוא בלוק מידע שכבה ומסיכה ומכיל מידע על השכבות והמסכות. מידע על שכבה מאוחסן תחילה ולאחר מכן מידע מסיכה.

**מידע על שכבה:** מידע על שכבה מתחיל בערך LONG המציג את אורך מידע השכבה. לאחר מכן יש ספירת ערכי WORD שמראה את מספר רשומות השכבות שיש לעקוב אחריהם.

[8] – אורך השכבות

[2] – ספירת שכבות

[משתנה] – מידע על כל שכבה.

[משתנה] – נתוני תמונת ערוץ.** **

**מידע על המסכה:** למבנה המסכה יש את הפורמט הבא:


|מבנה נתונים|שם שדה| תיאור
---|---|---|
|WORD| מרחב צבע של שכבת-על| (לא מתועד)
|BYTE[8]| רכיבי צבע| רכיבי צבע של 4x2 בתים
|WORD| אטימות| 0#שקוף, 1#אטום
|BYTE| סוג| 0#הפוך, 1#מוגן, 128#השתמש בערך מאוחסן
|BYTE| ריפוד| מוגדר לאפס

### נתוני תמונה ###

החלק האחרון מכיל את נתוני פיקסל התמונה. נתוני התמונה מאוחסנים כסדרה של רצף במישורים כלומר קודם כל הנתונים האדומים, אחר כך כל הנתונים הירוקים וכו'. WORD בתחילת כל שורה מציגה את הגודל בבייטים הקשורים לכל קו סריקה.

[2] - שיטת דחיסה:

[משתנה] – נתוני תמונה בסדר מישור, כלומר RRRR, GGGG, BBBB וכו'.

שיטות דחיסה:

0 – Raw נתוני תמונה

1 - RLE דחוס

2 - Zip ללא חיזוי

3 - מיקוד עם חיזוי

## התייחסות ##

* [פורמט קובץ PSB - מאת Adobe](https://www.adobe.com/devnet-apps/photoshop/fileformatashtml/)
* [PSB - ויקיפדיה](https://en.wikipedia.org/wiki/Adobe_Photoshop#File_format)

