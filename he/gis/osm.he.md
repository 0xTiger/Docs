{
  "date" : "2019-10-11",
  "keywords" :[ "קובץ osm", "מהו קובץ osm", "קובץ", "דוגמה של osm", "סיומת קובץ osm","הרחבה", "פורמט" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"OSM - פורמט קובץ OpenStreetMap",
  "description":"למד על פורמט קובץ OSM וממשקי API שיכולים ליצור ולפתוח קובצי OSM.",
  "linktitle" : "OSM",
  "menu" : {
    "docs" : {
      "parent" : "gis"
}
},
  "lastmod" : "2019-09-10"
}

## מהו קובץ OSM?

OpenStreetMap (OSM) הוא אוסף עצום של מאגרי מידע גיאוגרפיים שהתנדבו בסוגים שונים של קבצים, תוך שימוש בסכימות קידוד שונות כדי להמיר נתונים אלה לביטים ובייטים. OSM הוא מאמץ שיתופי ליצירת מפה ניתנת לעריכה בחינם של העולם. התוצר העיקרי של מאמץ שיתופי זה הוא נתונים גיאוגרפיים ולא המפה עצמה. המגבלות על השימוש או הזמינות של מידע גיאוגרפי בחלק גדול מהעולם מעוררות את הצורך ביצירת OSM. הנתונים הזמינים מ-OSM מוכנים להחליף את מפות Google עבור יישומים קלאסיים (פייסבוק, קרייגסליסט וכו') ונתוני ברירת מחדל עבור יישומי מקלט GPS.^^ ^^למרות שאיכות הנתונים מגוונת בכל העולם, אך ניתן להשוות בנוחות נתוני OpenStreetMap עם פטנט מקורות מידע.

## היסטוריה קצרה ##

בהשראת ההצלחה של ויקיפדיה, בשנת 2004, סטיב קוסט, יזם בריטי, יצר את פרויקט מיפוי העולם המבוסס על קהילה בבריטניה. בתחילה התמקד במיפוי הממלכה המאוחדת. OpenStreetMap Foundation הוקמה לראשונה באפריל 2006 כדי לתמוך בהתפתחות, התרחבות והפצה של גיאו-מרחבי חופשי לכל אחד. בדצמבר 2006, יאהו סייעה ל-OpenStreetMap בצילום האווירי שלה להפקת מפות. נתוני כבישים מלאים עבור הולנד ונתוני כבישים ראשיים עבור הודו וסין נתרמו ל-OSM באפריל 2007 על ידי נתוני ניווט רכבים (AND). בדצמבר 2007, אוניברסיטת אוקספורד הייתה הארגון הבולט ביותר ששילב נתוני OpenStreetMap בתוך האתר הראשי שלהם. מאז, למעלה מ-2 מיליון משתמשים רשומים תורמים נתונים בפרויקט זה באמצעות מכשירי GPS, צילום אווירי וסקרים ידניים. נתונים שתרמו מהקהילה זמינים תחת רישיון מסד הנתונים הפתוח. ארגון OpenStreetMap Foundation רשום באנגליה ללא מטרות רווח ניהל את אתר OSM.

## פורמט קובץ OSM ##

יש הרבה דרכים ופורמטים של קבצים לאחסן נתונים גיאוגרפיים אבל פורמט הקובץ **OSM** מוגבל ל-OpenStreetMap. OSM הוא פורמט סטנדרטי מעוצב במיוחד המיועד להעברה בקלות ברחבי האינטרנט. פורמט מסודר מובנה, מקודד ב-XML מהווה קובץ .osm. ב-OpenStreetMap ישנם ארבעה רכיבי ציר לאחסון מבנה נתונים טופולוגי:

{{< figure src="../OSM.png" alt="פורמט קובץ OSM" >}}


|צמתים|דרכים|יחסים|תגים
---|---|---|---|
|<ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> מייצג מיקום גיאוגרפי המאוחסן כזוגות של קווי רוחב וקו אורך.</li><li style=";text-align:right;direction:rtl"> משמש לייצוג תכונות מפה ללא גודל, כגון פסגות הרים.</li></ul> |<ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> רשימות ממוינות של צמתים, המסמנות פוליקו או מצולע</li><li style=";text-align:right;direction:rtl"> מייצגים מאפיינים ליניאריים כגון כבישים ונהרות ואזורים, כמו אזורי חניה ג'ונגלים ופארקים.</li></ul> |<ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> רשימות ממוינות של צמתים ודרכים מייצגות את הקשר ביניהם כמו מחסומים ופניות u בכבישים, כבישים מהירים משתרעים על דרכים קיימות ואזורים עם חורים.</li></ul> |<ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> אחסן מטא נתונים על אובייקטי המפה.* מחובר תמיד לכל צומת, דרך או יחס</li></ul>


תגיות משמשות לאפיון על הקרקע תכונות פיזיות (בניינים וכבישים וכו') ב-OpenStreetMap. כל תג מתייחס למאפיין גיאוגרפי של התכונה המיוצגת על ידי אותו צומת או יחס ספציפי. במערכת התיוג החינמית הזו, כדי לתאר תכונה, ניתן לכלול מספר בלתי מוגבל של תכונות במפה. שילובי מפתח וערכים ספציפיים שאושרו על ידי משתמשים רשומים משמשים כסטנדרטים לא פורמליים עבור התגים שבהם נעשה שימוש תכוף. עם זאת, ניתן ליצור תגים חדשים בכל פעם שהיבטים חדשים דורשים לנתח תכונות שלא מופו בעבר של התכונות. רוב התכונות משתמשות רק במספר קטן של תגים לתיאור.

שלושה סוגי קבצים משמשים את OSM לאחסון הנתונים העיקריים שלו.

OSM מטפל בכל הקבצים הללו עם המידע על פרטי העיצוב שלהם. אבל אותם אובייקטים פנימיים נוצרים על ידי קבצים אלה. עבור קבצי נתונים, הדגל הגלוי על אובייקטי OSM הוא תמיד נכון, מה שלא מתאים לקובצי היסטוריה ושינויים.

בשימוש נפוץ, יש מגוון בפורמטים של קבצי OSM. פורמטים של קבצים מגדירים את קידוד התוכן בדיסק או חוט בסיביות ובייטים. OSM מסוגל לקרוא ולכתוב את המקסימום של הפורמטים הללו.

**XML**

פורמט ה-OSM המקורי הוא מבוסס XML. נתוני ההחזר של ה-API הראשי של מסד הנתונים של OSM הם בפורמט XML.

**PBF**

קידוד מאגר פרוטוקול עומד על פורמט בינארי ואחד הפורמטים הקומפקטיים ביותר.

**O5M/O5C**

פורמט בינארי מבוסס פורמט פשוט יותר אך יחסית פחות בשימוש. OSM יכול לקרוא אבל לא יכול לכתוב את הפורמט הזה.

**OPL**

פורמט פשוט שהוצע לשימוש עם כלי שורת הפקודה הסטנדרטיים של UNIX. קרוב לקבצי CSV, מאפשר ישות OSM אחת בשורה אחת.

**לנפות**

פורמט מבוסס טקסט שנועד ליצור עבור ניפוי באגים. ה-OSM יכול לכתוב פורמט זה אך אינו יכול לקרוא.

**חור שחור**

פורמט דמה שמסיר את כל הנתונים. ה-OSM יכול לכתוב פורמט זה אך אינו יכול לקרוא.

## אחסון נתונים של OSM ##

מסד הנתונים **PostgreSQL** הראשי של OSM שומר את העותק הראשי של נתוני ה-OSM עם סיומת PostGIS. עבור כל נתונים פרימיטיביים, מסד נתונים ראשי שומר על טבלה ששורותיה מאחסנות אובייקטים בודדים. כל העריכות מעדכנות את מסד הנתונים הזה וכל הפורמטים האחרים נוצרים באמצעות מסד נתונים זה. מאגרי מסדי נתונים רבים להורדה נוצרים כדי להעביר נתונים ממקום אחד לאחר. שני פורמטים, האחד משתמש ב-XML והשני משתמש בפורמט בינארי של פרוטוקול מאגר (PBF) מגדירים את המאגרים הללו. הנתונים המלאים מאוחסנים בקובץ בשם planet.osm

## דחיסה בקבצי OSM ##

פורמטים מבוססי טקסט (XML, OPL ו-Debug) משתמשים בדחיסה של gzip או bzip2 באופן אופציונלי.

## הפניות ##

* [מדריך לפורמטים של קבצי OSM](https://osmcode.org/file-formats-manual/#file-types)
* [OpenStreetMap](https://en.wikipedia.org/wiki/OpenStreetMap#History)
* [למד את OSM](https://learnosm.org/en/osm-data/getting-data/)

