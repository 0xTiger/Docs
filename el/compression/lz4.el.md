{
  "date" : "2021-04-08",
  "keywords" :[ "αρχείο lz4", "μορφή αρχείου lz4", "τι είναι αρχείο lz4", "αρχείο", "παράδειγμα lz4", "επέκταση αρχείου lz4", "επέκταση", "μορφή" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"LZ4 - LZ4 συμπιεσμένη μορφή αρχείου",
  "description":"Μάθετε σχετικά με τη μορφή αρχείου LBR και τα API που μπορούν να δημιουργήσουν και να ανοίξουν αρχεία LZ4.",
  "linktitle" : "LZ4",
  "menu" : {
    "docs" : {
      "parent" : "compression"
}
},
  "lastmod" : "2021-04-19"
}

## Τι είναι ένα αρχείο LZ4;

Ένα αρχείο με επέκταση .lz4 είναι ένα συμπιεσμένο αρχείο αρχειοθέτησης που δημιουργήθηκε με εφαρμογές/ βοηθητικά προγράμματα που υποστηρίζουν τη συμπίεση [LZ4](https://en.wikipedia.org/wiki/LZ4_(compression_algorithm)). Ο αλγόριθμος LZ4 εστιάζει στην αντιστάθμιση μεταξύ ταχύτητας και αναλογίας συμπίεσης. Τα συμπιεσμένα αρχεία LZ4 μπορούν να δημιουργηθούν χρησιμοποιώντας το βοηθητικό πρόγραμμα γραμμής εντολών LZ4 και μπορούν να αποσυμπιεστούν χρησιμοποιώντας το ίδιο.

## Μορφή αρχείου LZ4

Η μορφή αρχείου LZ4, που βασίζεται στον αλγόριθμο συμπίεσης LZ4, είναι ανεξάρτητη από τον τύπο της CPU, το λειτουργικό σύστημα, το σύστημα αρχείων και το σύνολο χαρακτήρων. Είναι κατάλληλο για συμπίεση αρχείων και συμπίεση ροής χρησιμοποιώντας τον αλγόριθμο LZ4. Η αρχική υλοποίηση της μορφής LZ4 πραγματοποιήθηκε στη γλώσσα [C](/el/programming/c/) από τον Yann Collet το 2011 και είναι διαθέσιμη για αναφορά του προγραμματιστή στο [Github](https://github.com/lz4/lz4) .

### Μορφή πλαισίου LZ4

Η γενική δομή της μορφής αρχείου LZ4 είναι όπως φαίνεται παρακάτω.

|MagicNb|F. Περιγραφέας| Block|(...)|EndMark |C. Άθροισμα ελέγχου|
---|---|---|---|---|---|
|4 byte| 3-15 byte||| 4 byte| 0-4 byte|

#### Μαγικός αριθμός

4 Bytes, μορφή Little endian. Αξία: 0x184D2204

#### Περιγραφέας πλαισίου

Ο περιγραφέας πλαισίου αποτελείται από 3 t0 15 byte και είναι το πιο σημαντικό μέρος των προδιαγραφών. Μαζί, τα πεδία Magic_Number και Frame_Descriptor αναφέρονται ως LZ4 Frame Header και το μέγεθός του κυμαίνεται μεταξύ 7 και 19 byte. Είναι όπως φαίνεται παρακάτω.

|FLG| BD| (Μέγεθος περιεχομένου)| (Λεξικό ID)| HC|
---|---|---|---|---|
|1 byte| 1 byte| 0 - 8 byte| 0 - 4 byte| 1 byte|

#### Μπλοκ δεδομένων

Κάθε μπλοκ δεδομένων ακολουθεί την ακόλουθη σειρά.

|Μέγεθος μπλοκ| δεδομένα| (Block Checksum)|
---|---|---|
|4 byte| |0 - 4 byte|

#### EndMark

Η ροή των μπλοκ τελειώνει όταν το τελευταίο μπλοκ δεδομένων ακολουθείται από την τιμή 32-bit 0x00000000.

#### Άθροισμα ελέγχου περιεχομένου

Το Content_Checksum επαληθεύει την εγκυρότητα του περιεχομένου που αποκωδικοποιείται σωστά και πραγματοποιείται χρησιμοποιώντας το αποτέλεσμα του αλγορίθμου xxHash-32. Επικυρώνει τα αποτελέσματα της επιτυχούς μετάδοσης όλων των μπλοκ με τη σωστή σειρά και χωρίς κανένα σφάλμα.

## βιβλιογραφικές αναφορές

* [Μορφή πλαισίου LZ4](https://github.com/lz4/lz4/blob/dev/doc/lz4_Frame_format.md)
* [LZ4 Compression Algorithm - Wikipedia](https://en.wikipedia.org/wiki/LZ4_(compression_algorithm))

