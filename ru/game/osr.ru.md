{
  "date" : "2021-09-08",
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"Узнайте о формате файла OSR и API-интерфейсах, которые могут создавать и открывать файлы OSR.",
  "title" :"Файл OSR - osu! Формат файла воспроизведения",
  "linktitle" : "OSR",
  "menu" : {
    "docs" : {
      "identifier":"game-osr",
      "parent" : "game"
}
},
  "lastmod" : "2021-09-08"
}

## .OSR вариант №

Файл OSR — это файл воспроизведения игры, созданный [osu! игра](https://osu.ppy.sh/home). Осу! это ритмическая игра, в которой пользователи подбирают щелчки мыши под музыку. Песня, сыгранная пользователем, хиты и промахи, время и дата воспроизведения песни, а также общий рейтинг записываются в файл OSR. Затем этот файл OSR может быть передан другим пользователям для воспроизведения. Для файла OSR требуется, чтобы файл карты битов находился в папке «Песни».

**MIME-тип файла OSR Формат:** x-osu-replay

## Формат файла OSR

Файлы OSR сохраняются как двоичные файлы с полями данных фиксированной или переменной длины.

|Тип данных| Формат|
---|---|
|Byte |Игровой режим реплея (0=осу!Стандарт, 1=Тайко, 2=Поймай бит, 3=осу!мания)|
|Integer |Версия игры на момент создания повтора (например, 20131216)|
|Строка |осу! битмап MD5-хеш |
|Строка| Имя игрока|
|Строка| осу! MD5-хеш повтора (включает в себя определенные свойства повтора)|
|Короткий| Количество 300s|
|Короткий| Количество 100 в стандарте, 150 в тайко, 100 в CTB, 100 в мании|
|Короткий| Количество 50-х в стандарте, маленькие фрукты в CTB, 50-х в мании|
|Короткий| Количество Геки в стандарте, макс. 300 в мании|
|Короткий| Количество кату в стандарте, 200 в мании|
|Короткий| Количество промахов|
|целое| Общий балл отображается в отчете о баллах |
|Короткий| Лучшая комбинация, отображаемая в отчете о счете |
|байт| Идеальная/полная комбинация (1 = без промахов, без разрывов ползунков и без досрочно законченных ползунков) |
|целое| Используемые моды. См. ниже список значений мода.|
|Строка| Гистограмма жизни: разделенные запятыми пары u/v, где u — это время в миллисекундах в песне, а v — значение с плавающей запятой от 0 до 1, которое представляет количество жизни, которое у вас есть в данный момент времени (0 = полоса жизни пусто, 1= полоска жизни заполнена)|
|Длинный| Отметка времени (такты Windows)|
|целое| Длина в байтах сжатых данных воспроизведения|
|Byte |Array Сжатые данные воспроизведения|
|Длинный| Идентификатор онлайн-счета |
|Двойной| Дополнительная информация о моде. Присутствует только в том случае, если включена целевая практика. |

## использованная литература

* [ОСУ! Ритм-игра](https://osu.ppy.sh/home)
* [Формат файла OSR](https://osu.ppy.sh/wiki/en/Client/File_formats/Osr_%28file_format%29#data-types)

