{
  "date" : "2019-10-11",
  "keywords" :[ "файл apng", "формат файла apng", "что такое файл apng", "файл", "пример apng", "расширение файла apng", "расширение", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"Формат файла APNG — анимированный переносимый сетевой графический файл",
  "description":"Узнайте о формате файла APNG и API, которые могут создавать и открывать файлы APNG.",
  "linktitle" : "APNG",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2020-09-10"
}

## .APNG вариант №

Файл с расширением .apng (Animated Portable Network Graphics) представляет собой растровый графический формат и является неофициальным расширением Portable Network Graphics ([PNG](/ru/image/png/) ). Он состоит из нескольких кадров (каждый из изображений PNG), которые представляют последовательность анимации. Это дает визуализацию, аналогичную файлу [GIF](/ru/image/gif/). Файлы APNG поддерживают 24-битные изображения и 8-битную прозрачность. APNG обратно совместим с неанимированными файлами GIF. Файлы APNG используют то же расширение .png и могут открываться такими приложениями, как Mozilla Firefox, Chrome с поддержкой APNG, приложениями iMessage для iOS 10.

## Краткая история

* Спецификации APNG были созданы в 2004 году для обеспечения поддержки анимированных изображений PNG.
* Декодеры APNG были разработаны с гораздо меньшим размером и с использованием обратной стороны декодера PNG.
* После непрерывных обсуждений был сформулирован новый тип MIME image/apng с сохранением расширения .png вместо .apng.
* APNG был официально отклонен группой PNG 20 апреля 2007 г. из-за его единообразия с изображениями PNG, но в то же время имеет разные спецификации.

## Формат файла APNG

Файлы APNG хранятся в виде двоичных файлов на диске и используют расширенные спецификации PNG для анимированных изображений. Первый кадр файла APNG представляет собой обычный поток PNG, который может быть прочитан декодерами PNG для отображения. Формат файла APNG соответствует спецификациям PNG, а данные хранятся в сегментах, называемых фрагментами. Однако APNG представил следующие новые фрагменты:

«Канк управления анимацией (acTL)» — указывает, что этот файл представляет собой анимированный PNG-файл, а не обычный PNG-файл. Он действует как маркер и идет перед блоком IDAT. Он также содержит количество кадров и информацию о времени зацикливания анимации.

«Фрагмент управления кадром» — возникает в начале каждого кадра и содержит информацию метаданных, такую как размеры, положение, применение прозрачности и информацию о замене предыдущим или следующим кадром после его завершения.

`Frame Data Chunk` - сохраняет содержимое фрейма и начинается с порядкового номера. Этот порядковый номер имеет ту же структуру, что и блок IDAT изображения по умолчанию.

{{< figure src="../APNG.png" alt="Анимированный PNG — формат файла APNG" >}}

APNG обратно совместим с PNG, поскольку боковые спецификации были разработаны таким образом, что приложение, читающее файл PNG, должно просто игнорировать фрагменты, которые оно не понимает. Спецификации, касающиеся битовой глубины, типа цвета, сжатия, фильтров, методов чересстрочной развертки и информации о палитре, используются так же, как и для формата PNG по умолчанию.

## APNG против GIF

Поскольку GIF уже существует и используется в течение длительного периода времени, вы можете задаться вопросом, чем APNG отличается от GIF. Ниже приводится набор сравнений между APNG и GIF, который дает краткое представление об обоих форматах файлов.

||APNG|ГИФ|
---|---|---|
|Опубликовано|2004|1987|
|Глубина цвета|24 бита|8 бит|
|Частота кадров|Неограниченно|10 кадров в секунду|
|Прозрачность|Полная и частичная|Полная|
|Сжатие|Очень хорошо|Хорошо|

## использованная литература

* [Формат файла APNG] (https://en.wikipedia.org/wiki/APNG)
* [Официальные спецификации формата PNG] (https://www.w3.org/TR/PNG/)

