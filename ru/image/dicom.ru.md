{
  "date" : "2019-10-11",
  "keywords" :[ "файл dicom", "формат файла dicom", "что такое файл dicom", "файл", "пример dicom", "расширение файла dicom", "расширение", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"DICOM — формат файла цифровых изображений и связи",
  "description":"Узнайте о формате файла DICOM и API-интерфейсах, которые могут создавать и открывать файлы DICOM.",
  "linktitle" : "DICOM",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## .DICOM вариант №

DICOM — это аббревиатура от Digital Imaging and Communications in Medicine, относящаяся к области медицинской информатики. DICOM используется для интеграции медицинских устройств визуализации, таких как принтеры, серверы, сканеры и т. д., от различных поставщиков, а также содержит идентификационные данные каждого пациента для обеспечения уникальности. Файлы DICOM могут совместно использоваться двумя сторонами, если они способны получать данные изображения в формате DICOM. Коммуникационная часть DICOM представляет собой протокол прикладного уровня и использует TCP/IP для связи между объектами. Версии, поддерживаемые веб-службами: 1.0, 1.1, 2 или более поздние версии.

## История ##

DICOM был разработан совместно Американским колледжем радиологии (ACR) и Национальной ассоциацией производителей электрооборудования (NEMA) для обмена и просмотра медицинских изображений, таких как МРТ, компьютерная томография и ультразвуковые изображения. Первоначально было трудно расшифровать изображения, которые производили машины. Поэтому ACR и NEMA вместе сформировали команду в 1983 году, которая выпустила свой первый стандарт, ACR/NEMA 300, в 1985 году. В 1988 году была выпущена вторая версия, которая пользовалась большей популярностью среди поставщиков, но вскоре стало понятно, что вторая версия также нуждается в улучшении. Третья версия стандарта была выпущена в 1993 году как «DICOM». 3.0 по-прежнему является последней версией, но она постоянно обновляется с 1993 года.

## Формат файла DICOM ##

DICOM — это комбинация определения формата файла и сетевого протокола связи. DICOM использует расширение .DCM. .DCM существует в двух разных форматах, то есть в формате 1.x и формате 2.x. Формат DCM 1.x также доступен в двух версиях: нормальной и расширенной. Протоколы HTTP и HTTPS используются для веб-служб DICOM.

### Заголовок файла ###

Заголовок файла содержит 128-байтовую преамбулу файла и 4-байтовый префикс DICOM.

**Преамбула # 128 байт**|**Префикс # 4 байта «D, I, C, M**

**Преамбула** используется для доступа к изображениям и другим данным в файле DICOM, обеспечивая совместимость с широко используемыми форматами файлов изображений.

**Префикс** содержит строку "DICM" в виде символов верхнего регистра.

### Набор данных ###

Каждый файл должен содержать один набор данных, представляющий экземпляр SOP и класс SOP с соответствующим IOD. Набор данных представляет собой представление информации реального мира. Набор данных содержит элементы данных, а элементы данных содержат значения атрибутов этого объекта. Структура атрибутов указана в IOD. Объект данных DICOM состоит из ряда атрибутов, включая такие элементы, как имя, идентификатор и т. д., а также один специальный атрибут, содержащий данные о пикселях изображения.

### Элементы данных ###

Элемент данных состоит из тега элемента данных, длины значения и значения элемента данных. Существует 5 типов элементов данных, а именно обязательные элементы данных типа 1, условные элементы данных типа 1C, обязательные элементы данных типа 2, условные элементы данных типа 2C и необязательные элементы данных типа 3. Основные три типа структур элементов данных следующие.

**Элемент данных с явным VR**

|Номер группы|Номер элемента|Представление значения|Зарезервировано|Длина значения|Поле значения
---|---|---|---|---|---|
|2 байта|2 байта|2 байта|2 байта # 0x00, 0x00|4 байта|"Длина значения в байтах"

**Элемент данных с явным VR**

|Номер группы|Номер элемента|Представление значения|Длина значения|Поле значения
---|---|---|---|---|
|2 байта|2 байта|2 байта|2 байта|"Длина значения в байтах"

**Элемент данных с неявным VR**


|Номер группы|Номер элемента|Длина значения|Поле значения
---|---|---|---|
|2 байта|2 байта|4 байта|"Длина значения в байтах"

1. **Тег элемента данных**: упорядоченное целое число, представляющее номер группы и номер элемента.
1. **Представление значения VR**: VR — это строка символов, которая представляет VR элемента данных.
1. **Длина значения**: целое число без знака представляет явную длину поля значения.
1. **Поле значения**: описывает значения элементов данных.

## Синтаксис передачи ##

Синтаксис передачи — это набор правил кодирования для однозначного представления более абстрактных синтаксисов. С помощью синтаксиса передачи взаимодействующие объекты договариваются об общих методах кодирования, которые они поддерживают.

## СОП ##

Объединение IOD и DIMSE определяет класс SOP. Определение класса SOP содержит правила и семантику, которые могут ограничивать использование услуг в группе услуг DIMSE или атрибутов IOD. Примерами сервисных элементов являются «Сохранить», «Получить», «Найти», «Переместить» и т. д. Примерами объектов являются КТ-изображения, МРТ-изображения, а также списки расписаний, очереди печати и т. д.

## Услуги ##

DICOM предоставляет различные услуги, в основном связанные с передачей данных. Каждый из них кратко описан ниже:


**Магазин:** служба DICOM Store отправляет изображения или другие объекты в систему архивирования и передачи изображений (PACS) или на сервер.


**Обязательство хранения:** Услуга подтверждения хранения используется для подтверждения того, что изображение было постоянно сохранено на устройстве на любом типе носителя.


**Запрос/получение:** Эта служба позволяет рабочей станции находить списки изображений или других объектов, а затем извлекать их из PACS.


**Рабочий список модальностей:** Служба рабочего списка модальностей предоставляет список процедур визуализации, которые были запланированы для выполнения устройством получения изображений.


**Печать:** Эта служба отправляет изображения на принтер.

## Номера портов по IP ##

DICOM использует следующие порты TCP и UDP:

1. 104
1. 2761
1. 2762
1. 11112

## Использованная литература ##

* [https://en.wikipedia.org/wiki/DICOM](https://en.wikipedia.org/wiki/DICOM)
* [https://www.leadtools.com/sdk/medical/dicom-spec](https://www.leadtools.com/sdk/medical/dicom-spec)
* [https://www.dicomstandard.org/concepts/](https://www.dicomstandard.org/concepts/)
* [https://www.dicomlibrary.com/dicom/](https://www.dicomlibrary.com/dicom/)

