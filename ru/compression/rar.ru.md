{
  "date" : "2019-10-11",
  "keywords" :[ "файл rar", "формат файла rar", "что такое файл rar", "файл", "пример rar", "расширение файла rar", "расширение", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"РАР",
  "description":"Что такое расширение файла RAR и API, которые могут создавать и открывать файлы RAR.",
  "linktitle" : "RAR",
  "menu" : {
    "docs" : {
      "parent" : "compression"
}
},
  "lastmod" : "2019-09-10"
}

## .RAR вариант №

Файлы с расширением .rar представляют собой архивные файлы, которые создаются для хранения информации в сжатом или обычном виде. RAR, что означает формат файлов Roshal ARchive, является проприетарным форматом файлов, созданным Евгением Рошалем в 1995 году, который был русским инженером-программистом. Формат используется для архивирования файлов различными методами, включая различные методы сжатия. Для Windows, Linux и MacOS доступно несколько прикладных программ для извлечения файлов RAR. Программное обеспечение WinRAR от RARLab — условно-бесплатная утилита архивирования файлов (бесплатно в течение 40 дней) для платформы Microsoft Windows; ПО портировано на Linux (только как экстрактор) тем же Автором, Евгением Рошалем.

## Версии История формата файла RAR

* v1.3 (оригинал, без подписи "Rar!")
* v1.5
* v2.0 — выпущен с WinRAR 2.0 и Rar для MS-DOS 2.0
* v2.9 — выпущено в WinRAR версии 3.00
* v5.0 — поддерживается WinRAR 5.0 и более поздних версий

## Основные характеристики формата RAR

RAR существует уже довольно давно и является одним из любимых форматов архивных файлов. Ключевые особенности формата RAR:

**`Высокая степень сжатия:`** Превосходит по сравнению с [ZIP](/ru/compression/zip/), сравним с форматами 7z и zipx.

**`Надежное шифрование файлов по дизайну:`** Зашифрованные архивы RAR4 основаны на шифровании на основе AES-128, а зашифрованные архивы RAR5 основаны на шифровании AES-256 с улучшенным планированием ключей.

**`Расширенные возможности исправления ошибок и восстановления данных:`** дополнительные записи для восстановления при создании архива

**`Размер файла:`** Минимум 20 байт и максимум 2^63 байта (8 экзабайт от общего размера архива)

**`Многотомные архивы RAR:`** Возможность разбивать большие архивы на несколько файлов меньшего размера для облегчения передачи по сети. В таком случае расширения файлов увеличиваются на 1 для представления разделенных томов.

## Формат RAR-файла

Полные спецификации формата RAR не доступны в открытом доступе, поэтому подробности о формате нельзя сформулировать в сжатой форме.

### Общий вид архива

Общий формат файла RAR, представленный в версии 5.0, выглядит следующим образом:

|Формат файла
---|
|Самораспаковывающийся модуль (дополнительно)
| Подпись RAR 5.0
|Архивировать заголовок шифрования (необязательно)
|Главный заголовок архива
|Архивировать заголовок службы комментариев (необязательно)
Заголовок файла 1
|Заголовки службы (NTFS ACL, потоки и т. д.) для предыдущего файла (необязательно)
|...
|Заголовок файла N
|Заголовки службы (NTFS ACL, потоки и т. д.) для предыдущего файла (необязательно)
|Запись восстановления (необязательно)
|Конец заголовка архива

Информацию о каждом разделе файла RAR, упомянутом выше, можно найти в документе [Спецификации формата файла RAR 5.0](https://www.rarlab.com/technote.htm#arcstruct).

#### Самораспаковывающиеся архивы RAR

Если сам файл RAR является самораспаковывающимся, то самораспаковывающаяся информация содержится в начале файла перед сигнатурой архива. Его размер и содержание не определены.

#### Подпись RAR 5.0

Подпись RAR представляет собой 8-байтовый заголовок, состоящий из следующего магического числа:

0x 52 61 72 21 1А 07 00

куда

0x6152 — HEAD_CRC

0x72 — ГОЛОВНОЙ_ТИП

0x1A21 — HEAD_FLAGS

0x0007 — РАЗМЕР_ГОЛОВКИ

## использованная литература

* [Формат архива RAR 5.0](https://www.rarlab.com/technote.htm)
* [RAR — Википедия](https://en.wikipedia.org/wiki/RAR_(file_format))

