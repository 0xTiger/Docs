{
  "date" : "2021-03-11",
  "keywords" :[ "APNX", "Указатель номеров страниц Amazon", "расширение", "файл", "формат", "электронная книга", "Amazon Kindle"],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description":"Узнайте о формате файлов Amazon APNX и API-интерфейсах, с помощью которых можно создавать и открывать файлы APNX.",
  "title" :"APNX — индекс номеров страниц Amazon",
  "linktitle" : "APNX",
  "menu" : {
    "docs" : {
      "parent" : "ebook"
}
},
  "lastmod" : "2021-05-28"
}

## .APNX вариант № ##

Файл индекса номеров страниц Amazon с расширением .apnx относится к типу файлов электронных книг; используется Amazon Kindle. Эти файлы на самом деле известны как файлы разбиения на страницы, используемые устройствами Kindle. Таким образом, файлы APNX обычно создаются для маркировки страниц электронных книг Kindle. Функция разбивки на страницы была запущена на устройствах Amazon Kindle с момента прошивки 3.1. Он ищет в файле APNX индексы страниц, а затем сопоставляет их с номерами страниц в исходной печатной книге. Эти файлы сохраняются на устройствах Kindle вместе с файлами электронных книг Amazon. Вы не можете открывать или редактировать файлы APNX.

## Спецификации формата файла APNX ##

### Макет

|байты| содержание| комментарии|
---|---|---|
|4 |00010001 | Идентификатор формата. Значение 65537 с прямым порядком байтов.|
|4 |начало следующего | Смещение после конечного местоположения первого заголовка. Начинает новую последовательность заголовков info|
|4 |длина| Длина первого заголовка|
|N |первый заголовок | Строка, содержащая заголовок содержимого. Начинается следующая последовательность|
|2 |неизвестно | Всегда 1|
|2 |длина | Длина второго заголовка|
|2 |количество страниц | Общее количество байтов после второго заголовка, представляющих страницы. Это общее количество включает байты, которые игнорируются pageMap.|
|2 |неизвестно | Всегда 32|
|N |второй заголовок | Строка, содержащая заголовок отображения страницы|
|4*N |заполнение | Первое число, указанное в заголовке отображения страницы, указывает количество байтов 0. |
|4*N |список страниц ||

### Заголовок контента

Заголовок содержимого состоит из строки, заключенной в {}, содержащей пары ключ-значение:

|содержание| комментарии|
---|---|
|contentGuid| Руководство.|
|асин | Идентификатор Amazon для версии книги для Kindle.|
|cdeType | MOBI cdeType. Всегда должен быть EBOK для электронных книг.|
|fileRevisionId | Редакция этого файла.|

#### Пример
```
{"contentGuid":"d8c14b0","asin":"B000JML5VM","cdeType":"EBOK","fileRevisionId":"1296874359405"}
```
### Заголовок отображения страницы
Заголовок отображения страницы состоит из строки, заключенной в {}, содержащей пары ключ-значение.

|содержание | комментарии|
---|---|
|асин | ISBN 10 бумажной книги, которой соответствуют страницы |
|СтраницаКарта| Кортеж из трех значений. Выглядит так: "(Н,Н,Н)\
1) Количество байтов после заголовка, с которого начинается последовательность нумерации страниц\
2) неизвестно\
3) неизвестно\|
#### Пример
```
{"asin":"1906694184","pageMap":"(4,a,1)"}
```

### Список страниц

Список страниц представляет собой последовательность смещений в необработанном HTML. Каждый
значение — начало новой страницы. Каждая запись представляет собой 4-байтовый код с обратным порядком байтов.
внутр.



## использованная литература

* [Формат файла Amazon APNX] (https://nachtimwald.com/2011/02/09/amazon-apnx-file-format/)
* [APNX — MobileRead Wiki] (https://wiki.mobileread.com/wiki/APNX)

