{
  "date" : "2020-03-16",
  "keywords" :[ "Файл IGES", "Формат файла", "CAD" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Узнайте о формате файлов IGES и API-интерфейсах, которые могут создавать и открывать файлы IGES.",
  "title" :"Формат файла IGES",
  "linktitle" : "IGES",
  "menu" : {
    "docs" : {
      "parent" : "cad"
}
},
  "lastmod" : "2020-07-28"
}

## .IGES вариант №

Файл с расширением .iges используется для обмена проектной информацией между приложениями автоматизированного проектирования (САПР). IGES расшифровывается как Initial Graphics Exchange Specifications. Информация, которой обмениваются с помощью IGES, включает в себя принципиальную схему, каркас, поверхность произвольной формы или представления твердотельного моделирования. IGES находит свое применение в традиционных инженерных чертежах, анализе моделей и производственных функциях. Формат может обмениваться информацией о 2D- или 3D-проектировании между программами САПР. Файлы IGES можно открывать с помощью нескольких приложений САПР, таких как Autodesk и CADSoftTools ABViewer. Существует также несколько API-интерфейсов для программного открытия и преобразования файлов IGES.

## Формат файла IGES

Файлы IGES имеют текстовый формат ASCII и могут быть открыты в любом текстовом редакторе для просмотра содержимого файла. Текстовая информация в файле IGES представлена в формате «Холлерит». Обычный файл IGES может содержать тысячи строк для представления 2D- или 3D-информации, которой можно обмениваться в соответствии с этим форматом. Файл IGES разделен на пять разделов, обозначенных специальной заглавной буквой в 73-м столбце. Это разделы «Начало» (S), «Глобальный» (G), «Ввод данных» (D), «Данные параметров» (P) и «Завершение» (T). Разделы «Ввод данных» и «Данные параметров» обычно обозначаются аббревиатурами DE и PD соответственно.

### Заголовок файла IGES

Разделы Start и Global содержат основную информацию о:
* Имя файла и его источник
* Разделители для раздела данных параметров
* Автор файла и другая общая информация.

Разделы Start и Global из примера документа в Википедии выглядят следующим образом.
```
S      1
1H,,1H;,4HSLOT,37H$1$DUA2:[IGESLIB.BDRAFT.B2I]SLOT.IGS;,                G      1
17HBravo3 BravoDRAFT,31HBravo3->IGES V3.002 (02-Oct-87),32,38,6,38,15,  G      2
4HSLOT,1.,1,4HINCH,8,0.08,13H871006.192927,1.E-06,6.,                   G      3
31HD. A. Harrod, Tel. 313/995-6333,24HAPPLICON - Ann Arbor, MI,4,0;     G      4
```
Как видно, начальное поле содержит удобочитаемые описания файла, а в столбцах 1-72 могут быть любые символы, а строка заканчивается заголовком раздела и номером строки раздела. В разделе Start должна быть хотя бы 1 строка. Раздел global содержит данные препроцессора. Он также должен присутствовать в файле и заканчиваться на формат G000000#.

### Секция ввода данных (DE) и данных параметров (PD)

#### Раздел ввода данных
Файл IGES состоит из нескольких объектов, содержащих информацию об основных данных формата файла IGES. Сущность содержит информацию о различных элементах формата данных IGES и используется для рисования. Более часто используемые объекты включают в себя:
* Круговая дуга
* Составная кривая
* Коническая дуга
* Самолет
* Линия

Это лишь некоторые из них, а в IGES насчитывается около 150 различных объектов. Каждый объект идентифицируется номером типа, например:
* КРУГЛАЯ ДУГА (тип 100)
* ЛИНИЯ (тип 110)

##### Свойства объекта

Каждый объявленный объект имеет следующие свойства.

|Имя поля|Описание|
---|---|
|Тип объекта |Это тип описываемого объекта. Например, 116 описывает объект Point.|
|Указатель PD |Указывает расположение данных объектов в разделе данных параметров. Это расположение — просто номер строки внутри раздела PD, в котором находится первая строка данных этого объекта.
|Структура |Ноль или указатель на объект определения. Неприменимо к большинству сущностей|
|Штриховой шрифт| Номер или указатель на объект шаблона строчного шрифта. Число означает: * 0 Шаблон не указан (по умолчанию) * 1 Сплошной * 2 Пунктирный * 3 Фантомный * 4 Осевая линия * 5 Пунктирный |
|Уровень| Указывает уровни, которые будут связаны с этим объектом. Позволяет объекту появляться более чем на одном уровне|
|Вид| Задает параметры просмотра. К ним относятся: 0 Указывает на одинаковую видимость и характеристики во всех представлениях. Указатель по умолчанию на объект представления (тип 410), который можно просмотреть из ссылки на объект видимой ассоциативности представления (тип 402, форма 3)
|Указатель матрицы преобразования| Ссылается на объект матрицы преобразования (тип 124) или равен нулю по умолчанию (без преобразования)|
|Ассоциативность отображения меток| Ссылается на ассоциативность отображения метки (тип 402, форма 5), которая определяет, как отображается метка объекта.|
|Номер состояния| Содержит четыре раздела по два номера. 1-2: пустое состояние. Либо 00 для обычного, либо 01 для пустого. 3-4: Переключатель подчиненного объекта: 00 для независимого, 01 для физически зависимого, 02 для логически зависимого и 03 для обоих. 5-6: Флаг использования объекта: 00 для геометрии, 01 для аннотации, 02 для определения, 03 для другого, 04 для логического, 05 для параметрического 2D и 06 для вспомогательной геометрии. Наконец, 7-8 — это иерархия, где 00 указывает глобальную отсрочку (использовать характеристики этой сущности), 01 — глобальную отсрочку (не использовать характеристики этой сущности), а 02 — использовать свойство иерархии (использовать иерархическую сущность (тип 406, форма 10)определить признаки иерархической группировки).|
|Порядковый номер| Задается D#, где # — номер строки для этого раздела (не с начала файла). Это также используется для указания на этот объект ввода данных.|
|Тип объекта| он указывается дважды для каждого списка объектов|
|Количество веса линии| Определяет толщину при отображении объекта. Наименьший 1, 0 по умолчанию |
|Номер цвета| Задает цвет объекта. Допустимые целочисленные значения: 0 Нет цвета (по умолчанию) 1 Черный 2 Красный 3 Зеленый 4 Синий 5 Желтый 6 Пурпурный 7 Голубой 8 Белый |
|Параметр Количество строк| Определяет количество строк, которые этот объект занимает в разделе данных параметров |
|Номер формы| Указывает форму или представление этого объекта. Изменяет способ интерпретации данных параметра. По умолчанию 0|
|Зарезервированное поле| Не используется|
|Зарезервированное поле| Не используется|
|Ярлык объекта| Идентификатор, указанный приложением, выровнен по правому краю |
|Нижний индекс| Числовой квалификатор для метки объекта. Оба вместе образуют уникальный идентификатор объекта |
|Порядковый номер См. выше. |Это будет D#+1, так как каждый объект указывается в двух строках.|

#### Раздел данных параметров
За разделом «Ввод данных» следует раздел «Данные параметров». В нем перечислены данные для каждой соответствующей записи и перечислены параметры для объекта на основе разделителей, указанных в разделе Global (обычно запятые для разделения параметров и точка с запятой для завершения списка).


## использованная литература
* [IGES от WikiPedia] (https://en.wikipedia.org/wiki/IGES)

